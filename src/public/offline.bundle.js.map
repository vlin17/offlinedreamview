{"version":3,"file":"offline.bundle.js","sources":["webpack:///offline.bundle.js"],"sourcesContent":["!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"/\",e(e.s=124)}([function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(9),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){\"use strict\";t.exports=n(240)},function(t,e,n){t.exports={default:n(168),__esModule:!0}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(152),o=r(i),a=n(151),s=r(a),u=n(74),l=r(u);e.default=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+(void 0===e?\"undefined\":(0,l.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o.default?(0,o.default)(t,e):t.__proto__=e)}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(74),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!==(void 0===e?\"undefined\":(0,i.default)(e))&&\"function\"!=typeof e?t:e}},function(t,e,n){!function(e,r){t.exports=r(n(2),n(13),n(46))}(0,function(t,e,n){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=8)}([function(t,e,n){\"use strict\";function r(t){function e(e,n,r,i,o,a){for(var s=arguments.length,u=Array(s>6?s-6:0),l=6;l<s;l++)u[l-6]=arguments[l];return(0,c.untracked)(function(){if(i=i||\"<<anonymous>>\",a=a||r,null==n[r]){if(e){var s=null===n[r]?\"null\":\"undefined\";return new Error(\"The \"+o+\" `\"+a+\"` is marked as required in `\"+i+\"`, but its value is `\"+s+\"`.\")}return null}return t.apply(void 0,[n,r,i,o,a].concat(u))})}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function i(t,e){return\"symbol\"===t||(\"Symbol\"===e[\"@@toStringTag\"]||\"function\"==typeof Symbol&&e instanceof Symbol)}function o(t){var e=void 0===t?\"undefined\":l(t);return Array.isArray(t)?\"array\":t instanceof RegExp?\"object\":i(e,t)?\"symbol\":e}function a(t){var e=o(t);if(\"object\"===e){if(t instanceof Date)return\"date\";if(t instanceof RegExp)return\"regexp\"}return e}function s(t,e){return r(function(n,r,i,s,u){return(0,c.untracked)(function(){if(t&&o(n[r])===e.toLowerCase())return null;var s=void 0;switch(e){case\"Array\":s=c.isObservableArray;break;case\"Object\":s=c.isObservableObject;break;case\"Map\":s=c.isObservableMap;break;default:throw new Error(\"Unexpected mobxType: \"+e)}var l=n[r];if(!s(l)){var f=a(l),h=t?\" or javascript `\"+e.toLowerCase()+\"`\":\"\";return new Error(\"Invalid prop `\"+u+\"` of type `\"+f+\"` supplied to `\"+i+\"`, expected `mobx.Observable\"+e+\"`\"+h+\".\")}return null})})}function u(t,e){return r(function(n,r,i,o,a){for(var u=arguments.length,l=Array(u>5?u-5:0),f=5;f<u;f++)l[f-5]=arguments[f];return(0,c.untracked)(function(){if(\"function\"!=typeof e)return new Error(\"Property `\"+a+\"` of component `\"+i+\"` has invalid PropType notation.\");var u=s(t,\"Array\")(n,r,i);if(u instanceof Error)return u;for(var c=n[r],f=0;f<c.length;f++)if((u=e.apply(void 0,[c,f,i,o,a+\"[\"+f+\"]\"].concat(l)))instanceof Error)return u;return null})})}Object.defineProperty(e,\"__esModule\",{value:!0}),e.objectOrObservableObject=e.arrayOrObservableArrayOf=e.arrayOrObservableArray=e.observableObject=e.observableMap=e.observableArrayOf=e.observableArray=void 0;var l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},c=n(2);e.observableArray=s(!1,\"Array\"),e.observableArrayOf=u.bind(null,!1),e.observableMap=s(!1,\"Map\"),e.observableObject=s(!1,\"Object\"),e.arrayOrObservableArray=s(!0,\"Array\"),e.arrayOrObservableArrayOf=u.bind(null,!0),e.objectOrObservableObject=s(!0,\"Object\")},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function o(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function a(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e,n){var r,s,u=\"inject-\"+(e.displayName||e.name||e.constructor&&e.constructor.name||\"Unknown\");n&&(u+=\"-with-\"+n);var l=(s=r=function(n){function r(){var t,e,n,a;i(this,r);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return e=n=o(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(u))),n.storeRef=function(t){n.wrappedInstance=t},a=e,o(n,a)}return a(r,n),c(r,[{key:\"render\",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var i=t(this.context.mobxStores||{},n,this.context)||{};for(var o in i)n[o]=i[o];return n.ref=this.storeRef,h.default.createElement(e,n)}}]),r}(f.Component),r.displayName=u,s);return(0,p.default)(l,e),l.wrappedComponent=e,Object.defineProperties(l,b),l}function u(t){return function(e,n){return t.forEach(function(t){if(!(t in n)){if(!(t in e))throw new Error(\"MobX observer: Store '\"+t+\"' is not available! Make sure it is provided by some Provider\");n[t]=e[t]}}),n}}function l(){var t=void 0;if(\"function\"==typeof arguments[0])return t=arguments[0],function(e){var n=s(t,e);return n.isMobxInjector=!1,n=(0,g.observer)(n),n.isMobxInjector=!0,n};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=u(e),function(n){return s(t,n,e.join(\"-\"))}}Object.defineProperty(e,\"__esModule\",{value:!0});var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=l;var f=n(1),h=r(f),d=n(10),p=r(d),m=n(0),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(m),g=n(4),y={mobxStores:v.objectOrObservableObject};Object.seal(y);var b={contextTypes:{get:function(){return y},set:function(t){console.warn(\"Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`\")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function o(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function a(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){if(_.default)try{return _.default.findDOMNode(t)}catch(t){return null}return null}function u(t){var e=s(t);e&&R&&R.set(e,t),O.emit({event:\"render\",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}function l(){if(\"undefined\"==typeof WeakMap)throw new Error(\"[mobx-react] tracking components is not supported in this browser.\");A||(A=!0)}function c(t){P=t}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t[e],i=L[e],o=r?!0===n?function(){i.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),i.apply(this,arguments)}:i;t[e]=o}function h(t,e){if(null==t||null==e||\"object\"!==(void 0===t?\"undefined\":v(t))||\"object\"!==(void 0===e?\"undefined\":v(e)))return t!==e;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(var r=void 0,i=n.length-1;r=n[i];i--)if(e[r]!==t[r])return!0;return!1}function d(t,e){if(\"string\"==typeof t)throw new Error(\"Store names should be provided as array\");if(Array.isArray(t))return C||(C=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject(\"store1\", \"store2\") @observer ComponentClass` or `inject(\"store1\", \"store2\")(observer(componentClass))` instead of `@observer([\"store1\", \"store2\"]) ComponentClass`')),e?S.default.apply(null,t)(d(e)):function(e){return d(t,e)};var n=t;if(!0===n.isMobxInjector&&console.warn(\"Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'\"),!(\"function\"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||b.default.Component.isPrototypeOf(n))){var r,s;return d((s=r=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),m(e,[{key:\"render\",value:function(){return n.call(this,this.props,this.context)}}]),e}(y.Component),r.displayName=n.displayName||n.name,r.contextTypes=n.contextTypes,r.propTypes=n.propTypes,r.defaultProps=n.defaultProps,s))}if(!n)throw new Error(\"Please pass a valid component to 'observer'\");return p(n.prototype||n),n.isMobXReactObserver=!0,n}function p(t){f(t,\"componentWillMount\",!0),[\"componentDidMount\",\"componentWillUnmount\",\"componentDidUpdate\"].forEach(function(e){f(t,e)}),t.shouldComponentUpdate||(t.shouldComponentUpdate=L.shouldComponentUpdate)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.Observer=e.renderReporter=e.componentByNodeRegistery=void 0;var m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};e.trackComponents=l,e.useStaticRendering=c,e.observer=d;var g=n(2),y=n(1),b=r(y),x=n(5),_=r(x),w=n(9),E=r(w),M=n(0),T=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(M),n(3)),S=r(T),A=!1,P=!1,C=!1,R=e.componentByNodeRegistery=\"undefined\"!=typeof WeakMap?new WeakMap:void 0,O=e.renderReporter=new E.default,L={componentWillMount:function(){function t(t){var e=this[t],n=new g.Atom(\"reactive \"+t);Object.defineProperty(this,t,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),e},set:function(t){!o&&h(e,t)?(e=t,i=!0,n.reportChanged(),i=!1):e=t}})}var e=this;if(!0!==P){var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||\"<component>\",r=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID,i=!1,o=!1;t.call(this,\"props\"),t.call(this,\"state\");var a=this.render.bind(this),s=null,u=!1,l=function(){return s=new g.Reaction(n+\"#\"+r+\".render()\",function(){if(!u&&(u=!0,\"function\"==typeof e.componentWillReact&&e.componentWillReact(),!0!==e.__$mobxIsUnmounted)){var t=!0;try{o=!0,i||b.default.Component.prototype.forceUpdate.call(e),t=!1}finally{o=!1,t&&s.dispose()}}}),c.$mobx=s,e.render=c,c()},c=function(){u=!1;var t=void 0,n=void 0;if(s.track(function(){A&&(e.__$mobRenderStart=Date.now());try{n=g.extras.allowStateChanges(!1,a)}catch(e){t=e}A&&(e.__$mobRenderEnd=Date.now())}),t)throw t;return n};this.render=l}},componentWillUnmount:function(){if(!0!==P&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,A)){var t=s(this);t&&R&&R.delete(t),O.emit({event:\"destroy\",component:this,node:t})}},componentDidMount:function(){A&&u(this)},componentDidUpdate:function(){A&&u(this)},shouldComponentUpdate:function(t,e){return P&&console.warn(\"[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.\"),this.state!==e||h(this.props,t)}};(e.Observer=d(function(t){return(0,t.children)()})).propTypes={children:function(t,e,n,r,i){if(\"function\"!=typeof t[e])return new Error(\"Invalid prop `\"+i+\"` of type `\"+v(t[e])+\"` supplied to `\"+n+\"`, expected `function`.\")}}},function(t,e){t.exports=n},function(t,e,n){\"use strict\";function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function i(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function o(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),f=n(0),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),d={children:!0,key:!0,ref:!0},p=(s=a=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),u(e,[{key:\"render\",value:function(){return c.default.Children.only(this.props.children)}},{key:\"getChildContext\",value:function(){var t={},e=this.context.mobxStores;if(e)for(var n in e)t[n]=e[n];for(var r in this.props)d[r]||\"suppressChangedStoreWarning\"===r||(t[r]=this.props[r]);return{mobxStores:t}}},{key:\"componentWillReceiveProps\",value:function(t){if(Object.keys(t).length!==Object.keys(this.props).length&&console.warn(\"MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children\"),!t.suppressChangedStoreWarning)for(var e in t)d[e]||this.props[e]===t[e]||console.warn(\"MobX Provider: Provided store '\"+e+\"' has changed. Please avoid replacing stores as the change might not propagate to all children\")}}]),e}(l.Component),a.contextTypes={mobxStores:h.objectOrObservableObject},a.childContextTypes={mobxStores:h.objectOrObservableObject.isRequired},s);e.default=p},function(t,e){t.exports=null},function(t,e,n){\"use strict\";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.PropTypes=e.propTypes=e.inject=e.Provider=e.useStaticRendering=e.trackComponents=e.componentByNodeRegistery=e.renderReporter=e.Observer=e.observer=void 0;var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},a=n(4);Object.defineProperty(e,\"observer\",{enumerable:!0,get:function(){return a.observer}}),Object.defineProperty(e,\"Observer\",{enumerable:!0,get:function(){return a.Observer}}),Object.defineProperty(e,\"renderReporter\",{enumerable:!0,get:function(){return a.renderReporter}}),Object.defineProperty(e,\"componentByNodeRegistery\",{enumerable:!0,get:function(){return a.componentByNodeRegistery}}),Object.defineProperty(e,\"trackComponents\",{enumerable:!0,get:function(){return a.trackComponents}}),Object.defineProperty(e,\"useStaticRendering\",{enumerable:!0,get:function(){return a.useStaticRendering}});var s=n(6);Object.defineProperty(e,\"Provider\",{enumerable:!0,get:function(){return i(s).default}});var u=n(3);Object.defineProperty(e,\"inject\",{enumerable:!0,get:function(){return i(u).default}});var l=n(2),c=r(l),f=n(1),h=i(f),d=n(5),p=(n(7),n(0)),m=r(p),v=void 0;if(v=\"mobx-react\",!c)throw new Error(v+\" requires the MobX package\");if(!h.default)throw new Error(v+\" requires React to be available\");\"function\"==typeof d.unstable_batchedUpdates&&c.extras.setReactionScheduler(d.unstable_batchedUpdates),e.propTypes=m,e.PropTypes=m,e.default=t.exports,\"object\"===(\"undefined\"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?\"undefined\":o(__MOBX_DEVTOOLS_GLOBAL_HOOK__))&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(t.exports,c)},function(t,e,n){\"use strict\";function r(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t),this.listeners=[]}return i(t,[{key:\"on\",value:function(t){var e=this;return this.listeners.push(t),function(){var n=e.listeners.indexOf(t);-1!==n&&e.listeners.splice(n,1)}}},{key:\"emit\",value:function(t){this.listeners.forEach(function(e){return e(t)})}}]),t}();e.default=o},function(t,e,n){\"use strict\";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o=\"function\"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,n){if(\"string\"!=typeof e){var a=Object.getOwnPropertyNames(e);o&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||i[a[s]]||n&&n[a[s]]))try{t[a[s]]=e[a[s]]}catch(t){}}return t}}])})},function(t,e,n){\"use strict\";function r(){}function i(t,e){this.x=t||0,this.y=e||0}function o(t,e,n,r,a,s,u,l,c,f){Object.defineProperty(this,\"id\",{value:ps++}),this.uuid=ds.generateUUID(),this.name=\"\",this.image=void 0!==t?t:o.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:o.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ua,this.wrapT=void 0!==r?r:ua,this.magFilter=void 0!==a?a:da,this.minFilter=void 0!==s?s:ma,this.anisotropy=void 0!==c?c:1,this.format=void 0!==u?u:Ra,this.type=void 0!==l?l:va,this.offset=new i(0,0),this.repeat=new i(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==f?f:rs,this.version=0,this.onUpdate=null}function a(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function s(t,e,n){this.uuid=ds.generateUUID(),this.width=t,this.height=e,this.scissor=new a(0,0,t,e),this.scissorTest=!1,this.viewport=new a(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=da),this.texture=new o(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function u(t,e,n){s.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function l(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function c(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function f(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error(\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\")}function h(t,e,n,r,i,a,s,u,l,c){t=void 0!==t?t:[],e=void 0!==e?e:ta,o.call(this,t,e,n,r,i,a,s,u,l,c),this.flipY=!1}function d(){this.seq=[],this.map={}}function p(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,o=gs[i];if(void 0===o&&(o=new Float32Array(i),gs[i]=o),0!==e){r.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function m(t,e){var n=ys[e];void 0===n&&(n=new Int32Array(e),ys[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function v(t,e){t.uniform1f(this.addr,e)}function g(t,e){t.uniform1i(this.addr,e)}function y(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function b(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function x(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function _(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function w(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function E(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function M(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTexture2D(e||ms,r)}function T(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),n.setTextureCube(e||vs,r)}function S(t,e){t.uniform2iv(this.addr,e)}function A(t,e){t.uniform3iv(this.addr,e)}function P(t,e){t.uniform4iv(this.addr,e)}function C(t){switch(t){case 5126:return v;case 35664:return y;case 35665:return b;case 35666:return x;case 35674:return _;case 35675:return w;case 35676:return E;case 35678:return M;case 35680:return T;case 5124:case 35670:return g;case 35667:case 35671:return S;case 35668:case 35672:return A;case 35669:case 35673:return P}}function R(t,e){t.uniform1fv(this.addr,e)}function O(t,e){t.uniform1iv(this.addr,e)}function L(t,e){t.uniform2fv(this.addr,p(e,this.size,2))}function k(t,e){t.uniform3fv(this.addr,p(e,this.size,3))}function N(t,e){t.uniform4fv(this.addr,p(e,this.size,4))}function I(t,e){t.uniformMatrix2fv(this.addr,!1,p(e,this.size,4))}function D(t,e){t.uniformMatrix3fv(this.addr,!1,p(e,this.size,9))}function U(t,e){t.uniformMatrix4fv(this.addr,!1,p(e,this.size,16))}function z(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTexture2D(e[o]||ms,i[o])}function F(t,e,n){var r=e.length,i=m(n,r);t.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.setTextureCube(e[o]||vs,i[o])}function B(t){switch(t){case 5126:return R;case 35664:return L;case 35665:return k;case 35666:return N;case 35674:return I;case 35675:return D;case 35676:return U;case 35678:return z;case 35680:return F;case 5124:case 35670:return O;case 35667:case 35671:return S;case 35668:case 35672:return A;case 35669:case 35673:return P}}function j(t,e,n){this.id=t,this.addr=n,this.setValue=C(e.type)}function H(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=B(e.type)}function V(t){this.id=t,d.call(this)}function G(t,e){t.seq.push(e),t.map[e.id]=e}function W(t,e,n){var r=t.name,i=r.length;for(bs.lastIndex=0;;){var o=bs.exec(r),a=bs.lastIndex,s=o[1],u=\"]\"===o[2],l=o[3];if(u&&(s|=0),void 0===l||\"[\"===l&&a+2===i){G(n,void 0===l?new j(s,t,e):new H(s,t,e));break}var c=n.map,f=c[s];void 0===f&&(f=new V(s),G(n,f)),n=f}}function Y(t,e,n){d.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var o=t.getActiveUniform(e,i),a=o.name;W(o,t.getUniformLocation(e,a),this)}}function X(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function q(t,e,n,r,i,a,s,u,l,c,f,h){o.call(this,null,a,s,u,l,c,r,i,f,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:ca,this.minFilter=void 0!==c?c:ca,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Z(t,e){this.min=void 0!==t?t:new i(1/0,1/0),this.max=void 0!==e?e:new i(-1/0,-1/0)}function K(t,e){function n(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);o=p.createBuffer(),a=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,o),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),h=p.createTexture(),d=p.createTexture(),m.bindTexture(p.TEXTURE_2D,h),p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),m.bindTexture(p.TEXTURE_2D,d),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),s={vertexShader:[\"uniform lowp int renderType;\",\"uniform vec3 screenPosition;\",\"uniform vec2 scale;\",\"uniform float rotation;\",\"uniform sampler2D occlusionMap;\",\"attribute vec2 position;\",\"attribute vec2 uv;\",\"varying vec2 vUV;\",\"varying float vVisibility;\",\"void main() {\",\"vUV = uv;\",\"vec2 pos = position;\",\"if ( renderType == 2 ) {\",\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\",\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\",\"vVisibility =        visibility.r / 9.0;\",\"vVisibility *= 1.0 - visibility.g / 9.0;\",\"vVisibility *=       visibility.b / 9.0;\",\"vVisibility *= 1.0 - visibility.a / 9.0;\",\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\"}\",\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform lowp int renderType;\",\"uniform sampler2D map;\",\"uniform float opacity;\",\"uniform vec3 color;\",\"varying vec2 vUV;\",\"varying float vVisibility;\",\"void main() {\",\"if ( renderType == 0 ) {\",\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\",\"} else if ( renderType == 1 ) {\",\"gl_FragColor = texture2D( map, vUV );\",\"} else {\",\"vec4 texture = texture2D( map, vUV );\",\"texture.a *= opacity * vVisibility;\",\"gl_FragColor = texture;\",\"gl_FragColor.rgb *= color;\",\"}\",\"}\"].join(\"\\n\")},u=r(s),l={vertex:p.getAttribLocation(u,\"position\"),uv:p.getAttribLocation(u,\"uv\")},f={renderType:p.getUniformLocation(u,\"renderType\"),map:p.getUniformLocation(u,\"map\"),occlusionMap:p.getUniformLocation(u,\"occlusionMap\"),opacity:p.getUniformLocation(u,\"opacity\"),color:p.getUniformLocation(u,\"color\"),scale:p.getUniformLocation(u,\"scale\"),rotation:p.getUniformLocation(u,\"rotation\"),screenPosition:p.getUniformLocation(u,\"screenPosition\")}}function r(e){var n=p.createProgram(),r=p.createShader(p.FRAGMENT_SHADER),i=p.createShader(p.VERTEX_SHADER),o=\"precision \"+t.getPrecision()+\" float;\\n\";return p.shaderSource(r,o+e.fragmentShader),p.shaderSource(i,o+e.vertexShader),p.compileShader(r),p.compileShader(i),p.attachShader(n,r),p.attachShader(n,i),p.linkProgram(n),n}var o,a,s,u,l,f,h,d,p=t.context,m=t.state;this.render=function(r,s,v){if(0!==e.length){var g=new c,y=v.w/v.z,b=.5*v.z,x=.5*v.w,_=16/v.w,w=new i(_*y,_),E=new c(1,1,0),M=new i(1,1),T=new Z;T.min.set(v.x,v.y),T.max.set(v.x+(v.z-16),v.y+(v.w-16)),void 0===u&&n(),p.useProgram(u),m.initAttributes(),m.enableAttribute(l.vertex),m.enableAttribute(l.uv),m.disableUnusedAttributes(),p.uniform1i(f.occlusionMap,0),p.uniform1i(f.map,1),p.bindBuffer(p.ARRAY_BUFFER,o),p.vertexAttribPointer(l.vertex,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(l.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,a),m.disable(p.CULL_FACE),m.setDepthWrite(!1);for(var S=0,A=e.length;S<A;S++){_=16/v.w,w.set(_*y,_);var P=e[S];if(g.set(P.matrixWorld.elements[12],P.matrixWorld.elements[13],P.matrixWorld.elements[14]),g.applyMatrix4(s.matrixWorldInverse),g.applyMatrix4(s.projectionMatrix),E.copy(g),M.x=v.x+E.x*b+b-8,M.y=v.y+E.y*x+x-8,!0===T.containsPoint(M)){m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,null),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,h),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,M.x,M.y,16,16,0),p.uniform1i(f.renderType,0),p.uniform2f(f.scale,w.x,w.y),p.uniform3f(f.screenPosition,E.x,E.y,E.z),m.disable(p.BLEND),m.enable(p.DEPTH_TEST),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),m.activeTexture(p.TEXTURE0),m.bindTexture(p.TEXTURE_2D,d),p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,M.x,M.y,16,16,0),p.uniform1i(f.renderType,1),m.disable(p.DEPTH_TEST),m.activeTexture(p.TEXTURE1),m.bindTexture(p.TEXTURE_2D,h),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0),P.positionScreen.copy(E),P.customUpdateCallback?P.customUpdateCallback(P):P.updateLensFlares(),p.uniform1i(f.renderType,2),m.enable(p.BLEND);for(var C=0,R=P.lensFlares.length;C<R;C++){var O=P.lensFlares[C];O.opacity>.001&&O.scale>.001&&(E.x=O.x,E.y=O.y,E.z=O.z,_=O.size*O.scale/v.w,w.x=_*y,w.y=_,p.uniform3f(f.screenPosition,E.x,E.y,E.z),p.uniform2f(f.scale,w.x,w.y),p.uniform1f(f.rotation,O.rotation),p.uniform1f(f.opacity,O.opacity),p.uniform3f(f.color,O.color.r,O.color.g,O.color.b),m.setBlending(O.blending,O.blendEquation,O.blendSrc,O.blendDst),t.setTexture2D(O.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}}m.enable(p.CULL_FACE),m.enable(p.DEPTH_TEST),m.setDepthWrite(!0),t.resetGLState()}}}function $(t,e){function n(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);a=p.createBuffer(),s=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,a),p.bufferData(p.ARRAY_BUFFER,t,p.STATIC_DRAW),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.bufferData(p.ELEMENT_ARRAY_BUFFER,e,p.STATIC_DRAW),u=r(),f={position:p.getAttribLocation(u,\"position\"),uv:p.getAttribLocation(u,\"uv\")},h={uvOffset:p.getUniformLocation(u,\"uvOffset\"),uvScale:p.getUniformLocation(u,\"uvScale\"),rotation:p.getUniformLocation(u,\"rotation\"),scale:p.getUniformLocation(u,\"scale\"),color:p.getUniformLocation(u,\"color\"),map:p.getUniformLocation(u,\"map\"),opacity:p.getUniformLocation(u,\"opacity\"),modelViewMatrix:p.getUniformLocation(u,\"modelViewMatrix\"),projectionMatrix:p.getUniformLocation(u,\"projectionMatrix\"),fogType:p.getUniformLocation(u,\"fogType\"),fogDensity:p.getUniformLocation(u,\"fogDensity\"),fogNear:p.getUniformLocation(u,\"fogNear\"),fogFar:p.getUniformLocation(u,\"fogFar\"),fogColor:p.getUniformLocation(u,\"fogColor\"),alphaTest:p.getUniformLocation(u,\"alphaTest\")};var n=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");n.width=8,n.height=8;var i=n.getContext(\"2d\");i.fillStyle=\"white\",i.fillRect(0,0,8,8),d=new o(n),d.needsUpdate=!0}function r(){var e=p.createProgram(),n=p.createShader(p.VERTEX_SHADER),r=p.createShader(p.FRAGMENT_SHADER);return p.shaderSource(n,[\"precision \"+t.getPrecision()+\" float;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform float rotation;\",\"uniform vec2 scale;\",\"uniform vec2 uvOffset;\",\"uniform vec2 uvScale;\",\"attribute vec2 position;\",\"attribute vec2 uv;\",\"varying vec2 vUV;\",\"void main() {\",\"vUV = uvOffset + uv * uvScale;\",\"vec2 alignedPosition = position * scale;\",\"vec2 rotatedPosition;\",\"rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\",\"rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\",\"vec4 finalPosition;\",\"finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\",\"finalPosition.xy += rotatedPosition;\",\"finalPosition = projectionMatrix * finalPosition;\",\"gl_Position = finalPosition;\",\"}\"].join(\"\\n\")),p.shaderSource(r,[\"precision \"+t.getPrecision()+\" float;\",\"uniform vec3 color;\",\"uniform sampler2D map;\",\"uniform float opacity;\",\"uniform int fogType;\",\"uniform vec3 fogColor;\",\"uniform float fogDensity;\",\"uniform float fogNear;\",\"uniform float fogFar;\",\"uniform float alphaTest;\",\"varying vec2 vUV;\",\"void main() {\",\"vec4 texture = texture2D( map, vUV );\",\"if ( texture.a < alphaTest ) discard;\",\"gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\",\"if ( fogType > 0 ) {\",\"float depth = gl_FragCoord.z / gl_FragCoord.w;\",\"float fogFactor = 0.0;\",\"if ( fogType == 1 ) {\",\"fogFactor = smoothstep( fogNear, fogFar, depth );\",\"} else {\",\"const float LOG2 = 1.442695;\",\"fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\",\"fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\",\"}\",\"gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\",\"}\",\"}\"].join(\"\\n\")),p.compileShader(n),p.compileShader(r),p.attachShader(e,n),p.attachShader(e,r),p.linkProgram(e),e}function i(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}var a,s,u,f,h,d,p=t.context,m=t.state,v=new c,g=new l,y=new c;this.render=function(r,o){if(0!==e.length){void 0===u&&n(),p.useProgram(u),m.initAttributes(),m.enableAttribute(f.position),m.enableAttribute(f.uv),m.disableUnusedAttributes(),m.disable(p.CULL_FACE),m.enable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,a),p.vertexAttribPointer(f.position,2,p.FLOAT,!1,16,0),p.vertexAttribPointer(f.uv,2,p.FLOAT,!1,16,8),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,s),p.uniformMatrix4fv(h.projectionMatrix,!1,o.projectionMatrix.elements),m.activeTexture(p.TEXTURE0),p.uniform1i(h.map,0);var l=0,c=0,b=r.fog;b?(p.uniform3f(h.fogColor,b.color.r,b.color.g,b.color.b),b.isFog?(p.uniform1f(h.fogNear,b.near),p.uniform1f(h.fogFar,b.far),p.uniform1i(h.fogType,1),l=1,c=1):b.isFogExp2&&(p.uniform1f(h.fogDensity,b.density),p.uniform1i(h.fogType,2),l=2,c=2)):(p.uniform1i(h.fogType,0),l=0,c=0);for(var x=0,_=e.length;x<_;x++){var w=e[x];w.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(i);for(var E=[],x=0,_=e.length;x<_;x++){var w=e[x],M=w.material;if(!1!==M.visible){p.uniform1f(h.alphaTest,M.alphaTest),p.uniformMatrix4fv(h.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(v,g,y),E[0]=y.x,E[1]=y.y;var T=0;r.fog&&M.fog&&(T=c),l!==T&&(p.uniform1i(h.fogType,T),l=T),null!==M.map?(p.uniform2f(h.uvOffset,M.map.offset.x,M.map.offset.y),p.uniform2f(h.uvScale,M.map.repeat.x,M.map.repeat.y)):(p.uniform2f(h.uvOffset,0,0),p.uniform2f(h.uvScale,1,1)),p.uniform1f(h.opacity,M.opacity),p.uniform3f(h.color,M.color.r,M.color.g,M.color.b),p.uniform1f(h.rotation,M.rotation),p.uniform2fv(h.scale,E),m.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),m.setDepthTest(M.depthTest),m.setDepthWrite(M.depthWrite),M.map?t.setTexture2D(M.map,0):t.setTexture2D(d,0),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0)}}m.enable(p.CULL_FACE),t.resetGLState()}}}function Q(){Object.defineProperty(this,\"id\",{value:Ts++}),this.uuid=ds.generateUUID(),this.name=\"\",this.type=\"Material\",this.fog=!0,this.lights=!0,this.blending=vo,this.side=ao,this.shading=co,this.vertexColors=fo,this.opacity=1,this.transparent=!1,this.blendSrc=Ro,this.blendDst=Oo,this.blendEquation=_o,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Bo,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function J(t){Q.call(this),this.type=\"ShaderMaterial\",this.defines={},this.uniforms={},this.vertexShader=\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",this.fragmentShader=\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error(\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"),this.setValues(t))}function tt(t){Q.call(this),this.type=\"MeshDepthMaterial\",this.depthPacking=fs,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function et(t,e){this.min=void 0!==t?t:new c(1/0,1/0,1/0),this.max=void 0!==e?e:new c(-1/0,-1/0,-1/0)}function nt(t,e){this.center=void 0!==t?t:new c,this.radius=void 0!==e?e:0}function rt(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error(\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\")}function it(t,e){this.normal=void 0!==t?t:new c(1,0,0),this.constant=void 0!==e?e:0}function ot(t,e,n,r,i,o){this.planes=[void 0!==t?t:new it,void 0!==e?e:new it,void 0!==n?n:new it,void 0!==r?r:new it,void 0!==i?i:new it,void 0!==o?o:new it]}function at(t,e,n,r){function o(e,n,r,i){var o=e.geometry,a=null,s=M,u=e.customDepthMaterial;if(r&&(s=T,u=e.customDistanceMaterial),u)a=u;else{var l=!1;n.morphTargets&&(o&&o.isBufferGeometry?l=o.morphAttributes&&o.morphAttributes.position&&o.morphAttributes.position.length>0:o&&o.isGeometry&&(l=o.morphTargets&&o.morphTargets.length>0));var c=e.isSkinnedMesh&&n.skinning,f=0;l&&(f|=_),c&&(f|=w),a=s[f]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var h=a.uuid,d=n.uuid,p=S[h];void 0===p&&(p={},S[h]=p);var m=p[d];void 0===m&&(m=a.clone(),p[d]=m),a=m}a.visible=n.visible,a.wireframe=n.wireframe;var v=n.side;return z.renderSingleSided&&v==uo&&(v=ao),z.renderReverseSided&&(v===ao?v=so:v===so&&(v=ao)),a.side=v,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function u(t,e,n){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask)&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!1===t.frustumCulled||!0===d.intersectsObject(t))){!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),x.push(t))}for(var r=t.children,i=0,o=r.length;i<o;i++)u(r[i],e,n)}}var l=t.context,h=t.state,d=new ot,p=new f,m=e.shadows,v=new i,g=new i(r.maxTextureSize,r.maxTextureSize),y=new c,b=new c,x=[],_=1,w=2,E=1+(_|w),M=new Array(E),T=new Array(E),S={},A=[new c(1,0,0),new c(-1,0,0),new c(0,0,1),new c(0,0,-1),new c(0,1,0),new c(0,-1,0)],P=[new c(0,1,0),new c(0,1,0),new c(0,1,0),new c(0,1,0),new c(0,0,1),new c(0,0,-1)],C=[new a,new a,new a,new a,new a,new a],R=new tt;R.depthPacking=hs,R.clipping=!0;for(var O=Ms.distanceRGBA,L=xs.clone(O.uniforms),k=0;k!==E;++k){var N=0!=(k&_),I=0!=(k&w),D=R.clone();D.morphTargets=N,D.skinning=I,M[k]=D;var U=new J({defines:{USE_SHADOWMAP:\"\"},uniforms:L,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,morphTargets:N,skinning:I,clipping:!0});T[k]=U}var z=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=io,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,r){if(!1!==z.enabled&&(!1!==z.autoUpdate||!1!==z.needsUpdate)&&0!==m.length){h.buffers.color.setClear(1,1,1,1),h.disable(l.BLEND),h.setDepthTest(!0),h.setScissorTest(!1);for(var i,a,c=0,f=m.length;c<f;c++){var _=m[c],w=_.shadow;if(void 0!==w){var E=w.camera;if(v.copy(w.mapSize),v.min(g),_&&_.isPointLight){i=6,a=!0;var M=v.x,T=v.y;C[0].set(2*M,T,M,T),C[1].set(0,T,M,T),C[2].set(3*M,T,M,T),C[3].set(M,T,M,T),C[4].set(3*M,0,M,T),C[5].set(M,0,M,T),v.x*=4,v.y*=2}else i=1,a=!1;if(null===w.map){var S={minFilter:ca,magFilter:ca,format:Ra};w.map=new s(v.x,v.y,S),E.updateProjectionMatrix()}w.isSpotLightShadow&&w.update(_),w&&w.isRectAreaLightShadow&&w.update(_);var R=w.map,O=w.matrix;b.setFromMatrixPosition(_.matrixWorld),E.position.copy(b),t.setRenderTarget(R),t.clear();for(var L=0;L<i;L++){if(a){y.copy(E.position),y.add(A[L]),E.up.copy(P[L]),E.lookAt(y);var k=C[L];h.viewport(k)}else y.setFromMatrixPosition(_.target.matrixWorld),E.lookAt(y);E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),O.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),O.multiply(E.projectionMatrix),O.multiply(E.matrixWorldInverse),p.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),d.setFromMatrix(p),x.length=0,u(e,r,E);for(var N=0,I=x.length;N<I;N++){var D=x[N],U=n.update(D),F=D.material;if(F&&F.isMultiMaterial)for(var B=U.groups,j=F.materials,H=0,V=B.length;H<V;H++){var G=B[H],W=j[G.materialIndex];if(!0===W.visible){var Y=o(D,W,a,b);t.renderBufferDirect(E,null,U,Y,D,G)}}else{var Y=o(D,F,a,b);t.renderBufferDirect(E,null,U,Y,D,null)}}}}else console.warn(\"THREE.WebGLShadowMap:\",_,\"has no shadow.\")}var X=t.getClearColor(),q=t.getClearAlpha();t.setClearColor(X,q),z.needsUpdate=!1}}}function st(t,e){this.origin=void 0!==t?t:new c,this.direction=void 0!==e?e:new c}function ut(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||ut.DefaultOrder}function lt(){this.mask=1}function ct(){function t(){i.setFromEuler(r,!1)}function e(){r.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,\"id\",{value:Ss++}),this.uuid=ds.generateUUID(),this.name=\"\",this.type=\"Object3D\",this.parent=null,this.children=[],this.up=ct.DefaultUp.clone();var n=new c,r=new ut,i=new l,o=new c(1,1,1);r.onChange(t),i.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:o},modelViewMatrix:{value:new f},normalMatrix:{value:new rt}}),this.matrix=new f,this.matrixWorld=new f,this.matrixAutoUpdate=ct.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new lt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function ft(t,e){this.start=void 0!==t?t:new c,this.end=void 0!==e?e:new c}function ht(t,e,n){this.a=void 0!==t?t:new c,this.b=void 0!==e?e:new c,this.c=void 0!==n?n:new c}function dt(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new c,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new X,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}function pt(t){Q.call(this),this.type=\"MeshBasicMaterial\",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function mt(t,e,n){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.uuid=ds.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function vt(t,e){mt.call(this,new Int8Array(t),e)}function gt(t,e){mt.call(this,new Uint8Array(t),e)}function yt(t,e){mt.call(this,new Uint8ClampedArray(t),e)}function bt(t,e){mt.call(this,new Int16Array(t),e)}function xt(t,e){mt.call(this,new Uint16Array(t),e)}function _t(t,e){mt.call(this,new Int32Array(t),e)}function wt(t,e){mt.call(this,new Uint32Array(t),e)}function Et(t,e){mt.call(this,new Float32Array(t),e)}function Mt(t,e){mt.call(this,new Float64Array(t),e)}function Tt(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function St(t){for(var e=t.length,n=-1/0;e--;)t[e]>n&&(n=t[e]);return n}function At(){return As++}function Pt(){Object.defineProperty(this,\"id\",{value:At()}),this.uuid=ds.generateUUID(),this.name=\"\",this.type=\"Geometry\",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ct(){Object.defineProperty(this,\"id\",{value:At()}),this.uuid=ds.generateUUID(),this.name=\"\",this.type=\"BufferGeometry\",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Rt(t,e){ct.call(this),this.type=\"Mesh\",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new pt({color:16777215*Math.random()}),this.drawMode=ts,this.updateMorphTargets()}function Ot(t,e,n,r,i,o){Pt.call(this),this.type=\"BoxGeometry\",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Lt(t,e,n,r,i,o)),this.mergeVertices()}function Lt(t,e,n,r,i,o){function a(t,e,n,r,i,o,a,m,v,g,y){var b,x,_=o/v,w=a/g,E=o/2,M=a/2,T=m/2,S=v+1,A=g+1,P=0,C=0,R=new c;for(x=0;x<A;x++){var O=x*w-M;for(b=0;b<S;b++){var L=b*_-E;R[t]=L*r,R[e]=O*i,R[n]=T,l.push(R.x,R.y,R.z),R[t]=0,R[e]=0,R[n]=m>0?1:-1,f.push(R.x,R.y,R.z),h.push(b/v),h.push(1-x/g),P+=1}}for(x=0;x<g;x++)for(b=0;b<v;b++){var k=d+b+S*x,N=d+b+S*(x+1),I=d+(b+1)+S*(x+1),D=d+(b+1)+S*x;u.push(k,N,D),u.push(N,I,D),C+=6}s.addGroup(p,C,y),p+=C,d+=P}Ct.call(this),this.type=\"BoxBufferGeometry\",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1;var u=[],l=[],f=[],h=[],d=0,p=0;a(\"z\",\"y\",\"x\",-1,-1,n,e,t,o,i,0),a(\"z\",\"y\",\"x\",1,-1,n,e,-t,o,i,1),a(\"x\",\"z\",\"y\",1,1,t,n,e,r,o,2),a(\"x\",\"z\",\"y\",1,-1,t,n,-e,r,o,3),a(\"x\",\"y\",\"z\",1,-1,t,e,n,r,i,4),a(\"x\",\"y\",\"z\",-1,-1,t,e,-n,r,i,5),this.setIndex(u),this.addAttribute(\"position\",new Et(l,3)),this.addAttribute(\"normal\",new Et(f,3)),this.addAttribute(\"uv\",new Et(h,2))}function kt(t,e,n,r){Pt.call(this),this.type=\"PlaneGeometry\",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Nt(t,e,n,r))}function Nt(t,e,n,r){Ct.call(this),this.type=\"PlaneBufferGeometry\",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,o,a=t/2,s=e/2,u=Math.floor(n)||1,l=Math.floor(r)||1,c=u+1,f=l+1,h=t/u,d=e/l,p=[],m=[],v=[],g=[];for(o=0;o<f;o++){var y=o*d-s;for(i=0;i<c;i++){var b=i*h-a;m.push(b,-y,0),v.push(0,0,1),g.push(i/u),g.push(1-o/l)}}for(o=0;o<l;o++)for(i=0;i<u;i++){var x=i+c*o,_=i+c*(o+1),w=i+1+c*(o+1),E=i+1+c*o;p.push(x,_,E),p.push(_,w,E)}this.setIndex(p),this.addAttribute(\"position\",new Et(m,3)),this.addAttribute(\"normal\",new Et(v,3)),this.addAttribute(\"uv\",new Et(g,2))}function It(){ct.call(this),this.type=\"Camera\",this.matrixWorldInverse=new f,this.projectionMatrix=new f}function Dt(t,e,n,r){It.call(this),this.type=\"PerspectiveCamera\",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Ut(t,e,n,r,i,o){It.call(this),this.type=\"OrthographicCamera\",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function zt(t,e,n){function r(t){s=t}function i(n){n.array instanceof Uint32Array&&e.get(\"OES_element_index_uint\")?(u=t.UNSIGNED_INT,l=4):n.array instanceof Uint16Array?(u=t.UNSIGNED_SHORT,l=2):(u=t.UNSIGNED_BYTE,l=1)}function o(e,r){t.drawElements(s,r,u,e*l),n.calls++,n.vertices+=r,s===t.TRIANGLES&&(n.faces+=r/3)}function a(r,i,o){var a=e.get(\"ANGLE_instanced_arrays\");if(null===a)return void console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");a.drawElementsInstancedANGLE(s,o,u,i*l,r.maxInstancedCount),n.calls++,n.vertices+=o*r.maxInstancedCount,s===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*o/3)}var s,u,l;return{setMode:r,setIndex:i,render:o,renderInstances:a}}function Ft(t,e,n){function r(t){a=t}function i(e,r){t.drawArrays(a,e,r),n.calls++,n.vertices+=r,a===t.TRIANGLES&&(n.faces+=r/3)}function o(r){var i=e.get(\"ANGLE_instanced_arrays\");if(null===i)return void console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");var o=r.attributes.position,s=0;o.isInterleavedBufferAttribute?(s=o.data.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)):(s=o.count,i.drawArraysInstancedANGLE(a,0,s,r.maxInstancedCount)),n.calls++,n.vertices+=s*r.maxInstancedCount,a===t.TRIANGLES&&(n.faces+=r.maxInstancedCount*s/3)}var a;return{setMode:r,render:i,renderInstances:o}}function Bt(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case\"DirectionalLight\":n={direction:new c,color:new X,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case\"SpotLight\":n={position:new c,direction:new c,color:new X,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case\"PointLight\":n={position:new c,color:new X,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new i};break;case\"HemisphereLight\":n={direction:new c,skyColor:new X,groundColor:new X};break;case\"RectAreaLight\":n={color:new X,position:new c,halfWidth:new c,halfHeight:new c}}return t[e.id]=n,n}}}function jt(t){for(var e=t.split(\"\\n\"),n=0;n<e.length;n++)e[n]=n+1+\": \"+e[n];return e.join(\"\\n\")}function Ht(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error(\"THREE.WebGLShader: Shader couldn't compile.\"),\"\"!==t.getShaderInfoLog(r)&&console.warn(\"THREE.WebGLShader: gl.getShaderInfoLog()\",e===t.VERTEX_SHADER?\"vertex\":\"fragment\",t.getShaderInfoLog(r),jt(n)),r}function Vt(t){switch(t){case rs:return[\"Linear\",\"( value )\"];case is:return[\"sRGB\",\"( value )\"];case as:return[\"RGBE\",\"( value )\"];case us:return[\"RGBM\",\"( value, 7.0 )\"];case ls:return[\"RGBM\",\"( value, 16.0 )\"];case cs:return[\"RGBD\",\"( value, 256.0 )\"];case os:return[\"Gamma\",\"( value, float( GAMMA_FACTOR ) )\"];default:throw new Error(\"unsupported encoding: \"+t)}}function Gt(t,e){var n=Vt(e);return\"vec4 \"+t+\"( vec4 value ) { return \"+n[0]+\"ToLinear\"+n[1]+\"; }\"}function Wt(t,e){var n=Vt(e);return\"vec4 \"+t+\"( vec4 value ) { return LinearTo\"+n[0]+n[1]+\"; }\"}function Yt(t,e){var n;switch(e){case Zo:n=\"Linear\";break;case Ko:n=\"Reinhard\";break;case $o:n=\"Uncharted2\";break;case Qo:n=\"OptimizedCineon\";break;default:throw new Error(\"unsupported toneMapping: \"+e)}return\"vec3 \"+t+\"( vec3 color ) { return \"+n+\"ToneMapping( color ); }\"}function Xt(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?\"#extension GL_OES_standard_derivatives : enable\":\"\",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get(\"EXT_frag_depth\")?\"#extension GL_EXT_frag_depth : enable\":\"\",t.drawBuffers&&n.get(\"WEBGL_draw_buffers\")?\"#extension GL_EXT_draw_buffers : require\":\"\",(t.shaderTextureLOD||e.envMap)&&n.get(\"EXT_shader_texture_lod\")?\"#extension GL_EXT_shader_texture_lod : enable\":\"\"].filter(Kt).join(\"\\n\")}function qt(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push(\"#define \"+n+\" \"+r)}return e.join(\"\\n\")}function Zt(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=a.name;r[s]=t.getAttribLocation(e,s)}return r}function Kt(t){return\"\"!==t}function $t(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Qt(t){function e(t,e){var n=_s[e];if(void 0===n)throw new Error(\"Can not resolve #include <\"+e+\">\");return Qt(n)}var n=/#include +<([\\w\\d.]+)>/g;return t.replace(n,e)}function Jt(t){function e(t,e,n,r){for(var i=\"\",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\\[ i \\]/g,\"[ \"+o+\" ]\");return i}var n=/for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;return t.replace(n,e)}function te(t,e,n,r){var i=t.context,o=n.extensions,a=n.defines,s=n.__webglShader.vertexShader,u=n.__webglShader.fragmentShader,l=\"SHADOWMAP_TYPE_BASIC\";r.shadowMapType===io?l=\"SHADOWMAP_TYPE_PCF\":r.shadowMapType===oo&&(l=\"SHADOWMAP_TYPE_PCF_SOFT\");var c=\"ENVMAP_TYPE_CUBE\",f=\"ENVMAP_MODE_REFLECTION\",h=\"ENVMAP_BLENDING_MULTIPLY\";if(r.envMap){switch(n.envMap.mapping){case ta:case ea:c=\"ENVMAP_TYPE_CUBE\";break;case oa:case aa:c=\"ENVMAP_TYPE_CUBE_UV\";break;case na:case ra:c=\"ENVMAP_TYPE_EQUIREC\";break;case ia:c=\"ENVMAP_TYPE_SPHERE\"}switch(n.envMap.mapping){case ea:case ra:f=\"ENVMAP_MODE_REFRACTION\"}switch(n.combine){case Wo:h=\"ENVMAP_BLENDING_MULTIPLY\";break;case Yo:h=\"ENVMAP_BLENDING_MIX\";break;case Xo:h=\"ENVMAP_BLENDING_ADD\"}}var d,p,m=t.gammaFactor>0?t.gammaFactor:1,v=Xt(o,r,t.extensions),g=qt(a),y=i.createProgram();n.isRawShaderMaterial?(d=[g,\"\\n\"].filter(Kt).join(\"\\n\"),p=[v,g,\"\\n\"].filter(Kt).join(\"\\n\")):(d=[\"precision \"+r.precision+\" float;\",\"precision \"+r.precision+\" int;\",\"#define SHADER_NAME \"+n.__webglShader.name,g,r.supportsVertexTextures?\"#define VERTEX_TEXTURES\":\"\",\"#define GAMMA_FACTOR \"+m,\"#define MAX_BONES \"+r.maxBones,r.useFog&&r.fog?\"#define USE_FOG\":\"\",r.useFog&&r.fogExp?\"#define FOG_EXP2\":\"\",r.map?\"#define USE_MAP\":\"\",r.envMap?\"#define USE_ENVMAP\":\"\",r.envMap?\"#define \"+f:\"\",r.lightMap?\"#define USE_LIGHTMAP\":\"\",r.aoMap?\"#define USE_AOMAP\":\"\",r.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",r.bumpMap?\"#define USE_BUMPMAP\":\"\",r.normalMap?\"#define USE_NORMALMAP\":\"\",r.displacementMap&&r.supportsVertexTextures?\"#define USE_DISPLACEMENTMAP\":\"\",r.specularMap?\"#define USE_SPECULARMAP\":\"\",r.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",r.metalnessMap?\"#define USE_METALNESSMAP\":\"\",r.alphaMap?\"#define USE_ALPHAMAP\":\"\",r.vertexColors?\"#define USE_COLOR\":\"\",r.flatShading?\"#define FLAT_SHADED\":\"\",r.skinning?\"#define USE_SKINNING\":\"\",r.useVertexTexture?\"#define BONE_TEXTURE\":\"\",r.morphTargets?\"#define USE_MORPHTARGETS\":\"\",r.morphNormals&&!1===r.flatShading?\"#define USE_MORPHNORMALS\":\"\",r.doubleSided?\"#define DOUBLE_SIDED\":\"\",r.flipSided?\"#define FLIP_SIDED\":\"\",\"#define NUM_CLIPPING_PLANES \"+r.numClippingPlanes,r.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",r.shadowMapEnabled?\"#define \"+l:\"\",r.sizeAttenuation?\"#define USE_SIZEATTENUATION\":\"\",r.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",r.logarithmicDepthBuffer&&t.extensions.get(\"EXT_frag_depth\")?\"#define USE_LOGDEPTHBUF_EXT\":\"\",\"uniform mat4 modelMatrix;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 viewMatrix;\",\"uniform mat3 normalMatrix;\",\"uniform vec3 cameraPosition;\",\"attribute vec3 position;\",\"attribute vec3 normal;\",\"attribute vec2 uv;\",\"#ifdef USE_COLOR\",\"\\tattribute vec3 color;\",\"#endif\",\"#ifdef USE_MORPHTARGETS\",\"\\tattribute vec3 morphTarget0;\",\"\\tattribute vec3 morphTarget1;\",\"\\tattribute vec3 morphTarget2;\",\"\\tattribute vec3 morphTarget3;\",\"\\t#ifdef USE_MORPHNORMALS\",\"\\t\\tattribute vec3 morphNormal0;\",\"\\t\\tattribute vec3 morphNormal1;\",\"\\t\\tattribute vec3 morphNormal2;\",\"\\t\\tattribute vec3 morphNormal3;\",\"\\t#else\",\"\\t\\tattribute vec3 morphTarget4;\",\"\\t\\tattribute vec3 morphTarget5;\",\"\\t\\tattribute vec3 morphTarget6;\",\"\\t\\tattribute vec3 morphTarget7;\",\"\\t#endif\",\"#endif\",\"#ifdef USE_SKINNING\",\"\\tattribute vec4 skinIndex;\",\"\\tattribute vec4 skinWeight;\",\"#endif\",\"\\n\"].filter(Kt).join(\"\\n\"),p=[v,\"precision \"+r.precision+\" float;\",\"precision \"+r.precision+\" int;\",\"#define SHADER_NAME \"+n.__webglShader.name,g,r.alphaTest?\"#define ALPHATEST \"+r.alphaTest:\"\",\"#define GAMMA_FACTOR \"+m,r.useFog&&r.fog?\"#define USE_FOG\":\"\",r.useFog&&r.fogExp?\"#define FOG_EXP2\":\"\",r.map?\"#define USE_MAP\":\"\",r.envMap?\"#define USE_ENVMAP\":\"\",r.envMap?\"#define \"+c:\"\",r.envMap?\"#define \"+f:\"\",r.envMap?\"#define \"+h:\"\",r.lightMap?\"#define USE_LIGHTMAP\":\"\",r.aoMap?\"#define USE_AOMAP\":\"\",r.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",r.bumpMap?\"#define USE_BUMPMAP\":\"\",r.normalMap?\"#define USE_NORMALMAP\":\"\",r.specularMap?\"#define USE_SPECULARMAP\":\"\",r.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",r.metalnessMap?\"#define USE_METALNESSMAP\":\"\",r.alphaMap?\"#define USE_ALPHAMAP\":\"\",r.vertexColors?\"#define USE_COLOR\":\"\",r.gradientMap?\"#define USE_GRADIENTMAP\":\"\",r.flatShading?\"#define FLAT_SHADED\":\"\",r.doubleSided?\"#define DOUBLE_SIDED\":\"\",r.flipSided?\"#define FLIP_SIDED\":\"\",\"#define NUM_CLIPPING_PLANES \"+r.numClippingPlanes,\"#define UNION_CLIPPING_PLANES \"+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",r.shadowMapEnabled?\"#define \"+l:\"\",r.premultipliedAlpha?\"#define PREMULTIPLIED_ALPHA\":\"\",r.physicallyCorrectLights?\"#define PHYSICALLY_CORRECT_LIGHTS\":\"\",r.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",r.logarithmicDepthBuffer&&t.extensions.get(\"EXT_frag_depth\")?\"#define USE_LOGDEPTHBUF_EXT\":\"\",r.envMap&&t.extensions.get(\"EXT_shader_texture_lod\")?\"#define TEXTURE_LOD_EXT\":\"\",\"uniform mat4 viewMatrix;\",\"uniform vec3 cameraPosition;\",r.toneMapping!==qo?\"#define TONE_MAPPING\":\"\",r.toneMapping!==qo?_s.tonemapping_pars_fragment:\"\",r.toneMapping!==qo?Yt(\"toneMapping\",r.toneMapping):\"\",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?_s.encodings_pars_fragment:\"\",r.mapEncoding?Gt(\"mapTexelToLinear\",r.mapEncoding):\"\",r.envMapEncoding?Gt(\"envMapTexelToLinear\",r.envMapEncoding):\"\",r.emissiveMapEncoding?Gt(\"emissiveMapTexelToLinear\",r.emissiveMapEncoding):\"\",r.outputEncoding?Wt(\"linearToOutputTexel\",r.outputEncoding):\"\",r.depthPacking?\"#define DEPTH_PACKING \"+n.depthPacking:\"\",\"\\n\"].filter(Kt).join(\"\\n\")),s=Qt(s,r),s=$t(s,r),u=Qt(u,r),u=$t(u,r),n.isShaderMaterial||(s=Jt(s),u=Jt(u));var b=d+s,x=p+u,_=Ht(i,i.VERTEX_SHADER,b),w=Ht(i,i.FRAGMENT_SHADER,x);i.attachShader(y,_),i.attachShader(y,w),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(y,0,\"position\"),i.linkProgram(y);var E=i.getProgramInfoLog(y),M=i.getShaderInfoLog(_),T=i.getShaderInfoLog(w),S=!0,A=!0;!1===i.getProgramParameter(y,i.LINK_STATUS)?(S=!1,console.error(\"THREE.WebGLProgram: shader error: \",i.getError(),\"gl.VALIDATE_STATUS\",i.getProgramParameter(y,i.VALIDATE_STATUS),\"gl.getProgramInfoLog\",E,M,T)):\"\"!==E?console.warn(\"THREE.WebGLProgram: gl.getProgramInfoLog()\",E):\"\"!==M&&\"\"!==T||(A=!1),A&&(this.diagnostics={runnable:S,material:n,programLog:E,vertexShader:{log:M,prefix:d},fragmentShader:{log:T,prefix:p}}),i.deleteShader(_),i.deleteShader(w);var P;this.getUniforms=function(){return void 0===P&&(P=new Y(i,y,t)),P};var C;return this.getAttributes=function(){return void 0===C&&(C=Zt(i,y)),C},this.destroy=function(){i.deleteProgram(y),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn(\"THREE.WebGLProgram: .uniforms is now .getUniforms().\"),this.getUniforms()}},attributes:{get:function(){return console.warn(\"THREE.WebGLProgram: .attributes is now .getAttributes().\"),this.getAttributes()}}}),this.id=Ps++,this.code=e,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=w,this}function ee(t,e){function n(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4),i=r;return void 0!==t&&t&&t.isSkinnedMesh&&(i=Math.min(t.skeleton.bones.length,i))<t.skeleton.bones.length&&console.warn(\"WebGLRenderer: too many bones - \"+t.skeleton.bones.length+\", this GPU supports just \"+i+\" (try OpenGL instead of ANGLE)\"),i}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"),n=t.texture.encoding):n=rs,n===rs&&e&&(n=os),n}var i=[],o={MeshDepthMaterial:\"depth\",MeshNormalMaterial:\"normal\",MeshBasicMaterial:\"basic\",MeshLambertMaterial:\"lambert\",MeshPhongMaterial:\"phong\",MeshToonMaterial:\"phong\",MeshStandardMaterial:\"physical\",MeshPhysicalMaterial:\"physical\",LineBasicMaterial:\"basic\",LineDashedMaterial:\"dashed\",PointsMaterial:\"points\"},a=[\"precision\",\"supportsVertexTextures\",\"map\",\"mapEncoding\",\"envMap\",\"envMapMode\",\"envMapEncoding\",\"lightMap\",\"aoMap\",\"emissiveMap\",\"emissiveMapEncoding\",\"bumpMap\",\"normalMap\",\"displacementMap\",\"specularMap\",\"roughnessMap\",\"metalnessMap\",\"gradientMap\",\"alphaMap\",\"combine\",\"vertexColors\",\"fog\",\"useFog\",\"fogExp\",\"flatShading\",\"sizeAttenuation\",\"logarithmicDepthBuffer\",\"skinning\",\"maxBones\",\"useVertexTexture\",\"morphTargets\",\"morphNormals\",\"maxMorphTargets\",\"maxMorphNormals\",\"premultipliedAlpha\",\"numDirLights\",\"numPointLights\",\"numSpotLights\",\"numHemiLights\",\"numRectAreaLights\",\"shadowMapEnabled\",\"shadowMapType\",\"toneMapping\",\"physicallyCorrectLights\",\"alphaTest\",\"doubleSided\",\"flipSided\",\"numClippingPlanes\",\"numClipIntersection\",\"depthPacking\"];this.getParameters=function(i,a,s,u,l,c){var f=o[i.type],h=n(c),d=t.getPrecision();null!==i.precision&&(d=e.getMaxPrecision(i.precision))!==i.precision&&console.warn(\"THREE.WebGLProgram.getParameters:\",i.precision,\"not supported, using\",d,\"instead.\");var p=t.getCurrentRenderTarget();return{shaderID:f,precision:d,supportsVertexTextures:e.vertexTextures,outputEncoding:r(p?p.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:r(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:r(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===oa||i.envMap.mapping===aa),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:r(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===lo,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:h,useVertexTexture:e.floatVertexTextures&&c&&c.skeleton&&c.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:u,numClipIntersection:l,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&a.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===uo,flipSided:i.side===so,depthPacking:void 0!==i.depthPacking&&i.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var i=0;i<a.length;i++)n.push(e[a[i]]);return n.join()},this.acquireProgram=function(e,n,r){for(var o,a=0,s=i.length;a<s;a++){var u=i[a];if(u.code===r){o=u,++o.usedTimes;break}}return void 0===o&&(o=new te(t,r,e,n),i.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function ne(t,e,n){function r(t){var i=t.target,s=u[i.id];null!==s.index&&o(s.index),a(s.attributes),i.removeEventListener(\"dispose\",r),delete u[i.id];var l=e.get(i);l.wireframe&&o(l.wireframe),e.delete(i);var c=e.get(s);c.wireframe&&o(c.wireframe),e.delete(s),n.memory.geometries--}function i(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function o(e){var n=i(e);void 0!==n&&(t.deleteBuffer(n),s(e))}function a(t){for(var e in t)o(t[e])}function s(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}var u={};return{get:function(t){var e=t.geometry;if(void 0!==u[e.id])return u[e.id];e.addEventListener(\"dispose\",r);var i;return e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ct).setFromObject(t)),i=e._bufferGeometry),u[e.id]=i,n.memory.geometries++,i}}}function re(t,e,n){function r(e){var n=c.get(e);e.geometry.isGeometry&&n.updateFromObject(e);var r=n.index,o=n.attributes;null!==r&&i(r,t.ELEMENT_ARRAY_BUFFER);for(var a in o)i(o[a],t.ARRAY_BUFFER);var s=n.morphAttributes;for(var a in s)for(var u=s[a],l=0,f=u.length;l<f;l++)i(u[l],t.ARRAY_BUFFER);return n}function i(t,n){var r=t.isInterleavedBufferAttribute?t.data:t,i=e.get(r);void 0===i.__webglBuffer?o(i,r,n):i.version!==r.version&&a(i,r,n)}function o(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i);var o=t.FLOAT,a=n.array;a instanceof Float32Array?o=t.FLOAT:a instanceof Float64Array?console.warn(\"Unsupported data buffer format: Float64Array\"):a instanceof Uint16Array?o=t.UNSIGNED_SHORT:a instanceof Int16Array?o=t.SHORT:a instanceof Uint32Array?o=t.UNSIGNED_INT:a instanceof Int32Array?o=t.INT:a instanceof Int8Array?o=t.BYTE:a instanceof Uint8Array&&(o=t.UNSIGNED_BYTE),e.bytesPerElement=a.BYTES_PER_ELEMENT,e.type=o,e.version=n.version,n.onUploadCallback()}function a(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic?t.bufferData(r,n.array,t.STATIC_DRAW):-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error(\"THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.\"):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0),e.version=n.version}function s(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function u(t){return t.isInterleavedBufferAttribute?e.get(t.data):e.get(t)}function l(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var o=[],a=n.index,s=n.attributes;if(null!==a)for(var u=a.array,l=0,c=u.length;l<c;l+=3){var f=u[l+0],h=u[l+1],d=u[l+2];o.push(f,h,h,d,d,f)}else for(var u=s.position.array,l=0,c=u.length/3-1;l<c;l+=3){var f=l+0,h=l+1,d=l+2;o.push(f,h,h,d,d,f)}var p=new(St(o)>65535?wt:xt)(o,1);return i(p,t.ELEMENT_ARRAY_BUFFER),r.wireframe=p,p}var c=new ne(t,e,n);return{getAttributeBuffer:s,getAttributeProperties:u,getWireframeAttribute:l,update:r}}function ie(t,e,n,r,i,o,a){function s(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n);return r.getContext(\"2d\").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn(\"THREE.WebGLRenderer: image is too big (\"+t.width+\"x\"+t.height+\"). Resized to \"+r.width+\"x\"+r.height,t),r}return t}function u(t){return ds.isPowerOfTwo(t.width)&&ds.isPowerOfTwo(t.height)}function l(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");e.width=ds.nearestPowerOfTwo(t.width),e.height=ds.nearestPowerOfTwo(t.height);return e.getContext(\"2d\").drawImage(t,0,0,e.width,e.height),console.warn(\"THREE.WebGLRenderer: image is not power of two (\"+t.width+\"x\"+t.height+\"). Resized to \"+e.width+\"x\"+e.height,t),e}return t}function c(t){return t.wrapS!==ua||t.wrapT!==ua||t.minFilter!==ca&&t.minFilter!==da}function f(e){return e===ca||e===fa||e===ha?t.NEAREST:t.LINEAR}function h(t){var e=t.target;e.removeEventListener(\"dispose\",h),p(e),A.textures--}function d(t){var e=t.target;e.removeEventListener(\"dispose\",d),m(e),A.textures--}function p(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.delete(e)}function m(e){var n=r.get(e),i=r.get(e.texture);if(e){if(void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(e.texture),r.delete(e)}}function v(e,i){var o=r.get(e);if(e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is undefined\",e);else{if(!1!==a.complete)return void x(o,e,i);console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\",e)}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function g(e,a){var l=r.get(e);if(6===e.image.length)if(e.version>0&&l.__version!==e.version){l.__image__webglTextureCube||(e.addEventListener(\"dispose\",h),l.__image__webglTextureCube=t.createTexture(),A.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var c=e&&e.isCompressedTexture,f=e.image[0]&&e.image[0].isDataTexture,d=[],p=0;p<6;p++)d[p]=c||f?f?e.image[p].image:e.image[p]:s(e.image[p],i.maxCubemapSize);var m=d[0],v=u(m),g=o(e.format),y=o(e.type);b(t.TEXTURE_CUBE_MAP,e,v);for(var p=0;p<6;p++)if(c)for(var x,_=d[p].mipmaps,w=0,E=_.length;w<E;w++)x=_[w],e.format!==Ra&&e.format!==Ca?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,w,g,x.width,x.height,0,x.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,w,g,x.width,x.height,0,g,y,x.data);else f?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,g,d[p].width,d[p].height,0,g,y,d[p].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+p,0,g,g,y,d[p]);e.generateMipmaps&&v&&t.generateMipmap(t.TEXTURE_CUBE_MAP),l.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_CUBE_MAP,l.__image__webglTextureCube)}function y(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)}function b(n,a,s){var u;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===ua&&a.wrapT===ua||console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\",a),t.texParameteri(n,t.TEXTURE_MAG_FILTER,f(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,f(a.minFilter)),a.minFilter!==ca&&a.minFilter!==da&&console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\",a)),u=e.get(\"EXT_texture_filter_anisotropic\")){if(a.type===wa&&null===e.get(\"OES_texture_float_linear\"))return;if(a.type===Ea&&null===e.get(\"OES_texture_half_float_linear\"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(t.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function x(e,r,a){void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener(\"dispose\",h),e.__webglTexture=t.createTexture(),A.textures++),n.activeTexture(t.TEXTURE0+a),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var f=s(r.image,i.maxTextureSize);c(r)&&!1===u(f)&&(f=l(f));var d=u(f),p=o(r.format),m=o(r.type);b(t.TEXTURE_2D,r,d);var v,g=r.mipmaps;if(r.isDepthTexture){var y=t.DEPTH_COMPONENT;if(r.type===wa){if(!P)throw new Error(\"Float Depth Texture only supported in WebGL2.0\");y=t.DEPTH_COMPONENT32F}else P&&(y=t.DEPTH_COMPONENT16);r.format===Na&&y===t.DEPTH_COMPONENT&&r.type!==ba&&r.type!==_a&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"),r.type=ba,m=o(r.type)),r.format===Ia&&(y=t.DEPTH_STENCIL,r.type!==Aa&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"),r.type=Aa,m=o(r.type))),n.texImage2D(t.TEXTURE_2D,0,y,f.width,f.height,0,p,m,null)}else if(r.isDataTexture)if(g.length>0&&d){for(var x=0,_=g.length;x<_;x++)v=g[x],n.texImage2D(t.TEXTURE_2D,x,p,v.width,v.height,0,p,m,v.data);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,f.width,f.height,0,p,m,f.data);else if(r.isCompressedTexture)for(var x=0,_=g.length;x<_;x++)v=g[x],r.format!==Ra&&r.format!==Ca?n.getCompressedTextureFormats().indexOf(p)>-1?n.compressedTexImage2D(t.TEXTURE_2D,x,p,v.width,v.height,0,v.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"):n.texImage2D(t.TEXTURE_2D,x,p,v.width,v.height,0,p,m,v.data);else if(g.length>0&&d){for(var x=0,_=g.length;x<_;x++)v=g[x],n.texImage2D(t.TEXTURE_2D,x,p,p,m,v);r.generateMipmaps=!1}else n.texImage2D(t.TEXTURE_2D,0,p,p,m,f);r.generateMipmaps&&d&&t.generateMipmap(t.TEXTURE_2D),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function _(e,i,a,s){var u=o(i.texture.format),l=o(i.texture.type);n.texImage2D(s,0,u,i.width,i.height,0,u,l,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function w(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function E(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error(\"Depth Texture with cube render targets is not supported!\");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error(\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Na)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Ia)throw new Error(\"Unknown depthTexture format\");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}function M(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error(\"target.depthTexture not supported in Cube render targets\");E(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),w(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),w(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function T(e){var i=r.get(e),o=r.get(e.texture);e.addEventListener(\"dispose\",d),o.__webglTexture=t.createTexture(),A.textures++;var a=!0===e.isWebGLRenderTargetCube,s=u(e);if(a){i.__webglFramebuffer=[];for(var l=0;l<6;l++)i.__webglFramebuffer[l]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(a){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),b(t.TEXTURE_CUBE_MAP,e.texture,s);for(var l=0;l<6;l++)_(i.__webglFramebuffer[l],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+l);e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_CUBE_MAP),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),b(t.TEXTURE_2D,e.texture,s),_(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&s&&t.generateMipmap(t.TEXTURE_2D),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&M(e)}function S(e){var i=e.texture;if(i.generateMipmaps&&u(e)&&i.minFilter!==ca&&i.minFilter!==da){var o=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=r.get(i).__webglTexture;n.bindTexture(o,a),t.generateMipmap(o),n.bindTexture(o,null)}}var A=a.memory,P=\"undefined\"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;this.setTexture2D=v,this.setTextureCube=g,this.setTextureCubeDynamic=y,this.setupRenderTarget=T,this.updateRenderTargetMipmap=S}function oe(){var t={};return{get:function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function ae(t,e,n){function r(){var e=!1,n=new a,r=null,i=new a;return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,o,a,s){!0===s&&(e*=a,r*=a,o*=a),n.set(e,r,o,a),!1===i.equals(n)&&(t.clearColor(e,r,o,a),i.copy(n))},reset:function(){e=!1,r=null,i.set(0,0,0,1)}}}function i(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?d(t.DEPTH_TEST):p(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Uo:t.depthFunc(t.NEVER);break;case zo:t.depthFunc(t.ALWAYS);break;case Fo:t.depthFunc(t.LESS);break;case Bo:t.depthFunc(t.LEQUAL);break;case jo:t.depthFunc(t.EQUAL);break;case Ho:t.depthFunc(t.GEQUAL);break;case Vo:t.depthFunc(t.GREATER);break;case Go:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}}function o(){var e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,l=null;return{setTest:function(e){e?d(t.STENCIL_TEST):p(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,a){r===e&&i===n&&o===a||(t.stencilFunc(e,n,a),r=e,i=n,o=a)},setOp:function(e,n,r){a===e&&s===n&&u===r||(t.stencilOp(e,n,r),a=e,s=n,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,l=null}}}function s(e,n,r){var i=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return o}function u(){z.setClear(0,0,0,1),F.setClear(1),B.setClear(0),d(t.DEPTH_TEST),x(Bo),T(!1),S(Qi),d(t.CULL_FACE),d(t.BLEND),v(vo)}function l(){for(var t=0,e=H.length;t<e;t++)H[t]=0}function c(n){if(H[n]=1,0===V[n]&&(t.enableVertexAttribArray(n),V[n]=1),0!==G[n]){e.get(\"ANGLE_instanced_arrays\").vertexAttribDivisorANGLE(n,0),G[n]=0}}function f(e,n,r){H[e]=1,0===V[e]&&(t.enableVertexAttribArray(e),V[e]=1),G[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),G[e]=n)}function h(){for(var e=0,n=V.length;e!==n;++e)V[e]!==H[e]&&(t.disableVertexAttribArray(e),V[e]=0)}function d(e){!0!==W[e]&&(t.enable(e),W[e]=!0)}function p(e){!1!==W[e]&&(t.disable(e),W[e]=!1)}function m(){if(null===Y&&(Y=[],e.get(\"WEBGL_compressed_texture_pvrtc\")||e.get(\"WEBGL_compressed_texture_s3tc\")||e.get(\"WEBGL_compressed_texture_etc1\")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)Y.push(n[r]);return Y}function v(e,r,i,o,a,s,u,l){e!==mo?d(t.BLEND):p(t.BLEND),e===X&&l===tt||(e===go?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===yo?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===bo?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),X=e,tt=l),e===xo?(a=a||r,s=s||i,u=u||o,r===q&&a===$||(t.blendEquationSeparate(n(r),n(a)),q=r,$=a),i===Z&&o===K&&s===Q&&u===J||(t.blendFuncSeparate(n(i),n(o),n(s),n(u)),Z=i,K=o,Q=s,J=u)):(q=null,Z=null,K=null,$=null,Q=null,J=null)}function g(t){z.setMask(t)}function y(t){F.setTest(t)}function b(t){F.setMask(t)}function x(t){F.setFunc(t)}function _(t){B.setTest(t)}function w(t){B.setMask(t)}function E(t,e,n){B.setFunc(t,e,n)}function M(t,e,n){B.setOp(t,e,n)}function T(e){et!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),et=e)}function S(e){e!==$i?(d(t.CULL_FACE),e!==nt&&(e===Qi?t.cullFace(t.BACK):e===Ji?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):p(t.CULL_FACE),nt=e}function A(e){e!==rt&&(lt&&t.lineWidth(e),rt=e)}function P(e,n,r){e?(d(t.POLYGON_OFFSET_FILL),it===n&&ot===r||(t.polygonOffset(n,r),it=n,ot=r)):p(t.POLYGON_OFFSET_FILL)}function C(){return at}function R(e){at=e,e?d(t.SCISSOR_TEST):p(t.SCISSOR_TEST)}function O(e){void 0===e&&(e=t.TEXTURE0+st-1),ct!==e&&(t.activeTexture(e),ct=e)}function L(e,n){null===ct&&O();var r=ft[ct];void 0===r&&(r={type:void 0,texture:void 0},ft[ct]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||pt[e]),r.type=e,r.texture=n)}function k(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}}function N(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}}function I(e){!1===ht.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),ht.copy(e))}function D(e){!1===dt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),dt.copy(e))}function U(){for(var e=0;e<V.length;e++)1===V[e]&&(t.disableVertexAttribArray(e),V[e]=0);W={},Y=null,ct=null,ft={},X=null,et=null,nt=null,z.reset(),F.reset(),B.reset()}var z=new r,F=new i,B=new o,j=t.getParameter(t.MAX_VERTEX_ATTRIBS),H=new Uint8Array(j),V=new Uint8Array(j),G=new Uint8Array(j),W={},Y=null,X=null,q=null,Z=null,K=null,$=null,Q=null,J=null,tt=!1,et=null,nt=null,rt=null,it=null,ot=null,at=null,st=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),ut=parseFloat(/^WebGL\\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),lt=parseFloat(ut)>=1,ct=null,ft={},ht=new a,dt=new a,pt={};return pt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),pt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:z,depth:F,stencil:B},init:u,initAttributes:l,enableAttribute:c,enableAttributeAndDivisor:f,disableUnusedAttributes:h,enable:d,disable:p,getCompressedTextureFormats:m,setBlending:v,setColorWrite:g,setDepthTest:y,setDepthWrite:b,setDepthFunc:x,setStencilTest:_,setStencilWrite:w,setStencilFunc:E,setStencilOp:M,setFlipSided:T,setCullFace:S,setLineWidth:A,setPolygonOffset:P,getScissorTest:C,setScissorTest:R,activeTexture:O,bindTexture:L,compressedTexImage2D:k,texImage2D:N,scissor:I,viewport:D,reset:U}}function se(t,e,n){function r(){if(void 0!==o)return o;var n=e.get(\"EXT_texture_filter_anisotropic\");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function i(e){if(\"highp\"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return\"highp\";e=\"mediump\"}return\"mediump\"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?\"mediump\":\"lowp\"}var o,a=void 0!==n.precision?n.precision:\"highp\",s=i(a);s!==a&&(console.warn(\"THREE.WebGLRenderer:\",a,\"not supported, using\",s,\"instead.\"),a=s);var u=!0===n.logarithmicDepthBuffer&&!!e.get(\"EXT_frag_depth\"),l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_TEXTURE_SIZE),h=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=c>0,y=!!e.get(\"OES_texture_float\");return{getMaxAnisotropy:r,getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y}}function ue(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case\"WEBGL_depth_texture\":r=t.getExtension(\"WEBGL_depth_texture\")||t.getExtension(\"MOZ_WEBGL_depth_texture\")||t.getExtension(\"WEBKIT_WEBGL_depth_texture\");break;case\"EXT_texture_filter_anisotropic\":r=t.getExtension(\"EXT_texture_filter_anisotropic\")||t.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||t.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");break;case\"WEBGL_compressed_texture_s3tc\":r=t.getExtension(\"WEBGL_compressed_texture_s3tc\")||t.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");break;case\"WEBGL_compressed_texture_pvrtc\":r=t.getExtension(\"WEBGL_compressed_texture_pvrtc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");break;case\"WEBGL_compressed_texture_etc1\":r=t.getExtension(\"WEBGL_compressed_texture_etc1\");break;default:r=t.getExtension(n)}return null===r&&console.warn(\"THREE.WebGLRenderer: \"+n+\" extension not supported.\"),e[n]=r,r}}}function le(){function t(){l.value!==r&&(l.value=r,l.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function e(t,e,r,i){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=l.value,!0!==i||null===a){var c=r+4*o,f=e.matrixWorldInverse;u.getNormalMatrix(f),(null===a||a.length<c)&&(a=new Float32Array(c));for(var h=0,d=r;h!==o;++h,d+=4)s.copy(t[h]).applyMatrix4(f,u),s.normal.toArray(a,d),a[d+3]=s.constant}l.value=a,l.needsUpdate=!0}return n.numPlanes=o,a}var n=this,r=null,i=0,o=!1,a=!1,s=new it,u=new rt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==i||o;return o=n,r=e(t,a,0),i=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,u,c,f,h){if(!o||null===n||0===n.length||a&&!u)a?e(null):t();else{var d=a?0:i,p=4*d,m=f.clippingState||null;l.value=m,m=e(n,c,p,h);for(var v=0;v!==p;++v)m[v]=r[v];f.clippingState=m,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function ce(t){function e(){return null===ht?St:1}function n(){te.init(),te.scissor(yt.copy(At).multiplyScalar(St)),te.viewport(xt.copy(Ot).multiplyScalar(St)),te.buffers.color.setClear(wt.r,wt.g,wt.b,Et,q)}function r(){ft=null,gt=null,vt=\"\",mt=-1,te.reset()}function i(t){t.preventDefault(),r(),n(),ne.clear()}function o(t){var e=t.target;e.removeEventListener(\"dispose\",o),s(e)}function s(t){u(t),ne.delete(t)}function u(t){var e=ne.get(t).program;t.program=void 0,void 0!==e&&he.releaseProgram(e)}function l(t,e,n,r){var i;if(n&&n.isInstancedBufferGeometry&&null===(i=Qt.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");void 0===r&&(r=0),te.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var u in a){var l=a[u];if(l>=0){var c=o[u];if(void 0!==c){var f=c.normalized,h=c.itemSize,d=fe.getAttributeProperties(c),p=d.__webglBuffer,m=d.type,v=d.bytesPerElement;if(c.isInterleavedBufferAttribute){var g=c.data,y=g.stride,b=c.offset;g&&g.isInstancedInterleavedBuffer?(te.enableAttributeAndDivisor(l,g.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):te.enableAttribute(l),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(l,h,m,f,y*v,(r*y+b)*v)}else c.isInstancedBufferAttribute?(te.enableAttributeAndDivisor(l,c.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):te.enableAttribute(l),Kt.bindBuffer(Kt.ARRAY_BUFFER,p),Kt.vertexAttribPointer(l,h,m,f,0,r*h*v)}else if(void 0!==s){var x=s[u];if(void 0!==x)switch(x.length){case 2:Kt.vertexAttrib2fv(l,x);break;case 3:Kt.vertexAttrib3fv(l,x);break;case 4:Kt.vertexAttrib4fv(l,x);break;default:Kt.vertexAttrib1fv(l,x)}}}}te.disableUnusedAttributes()}function h(t,e){return Math.abs(e[0])-Math.abs(t[0])}function d(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function p(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function m(t,e,n,r,i){var o,a;n.transparent?(o=rt,a=++it):(o=tt,a=++et);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=Wt.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:Wt.z,group:i},o.push(s))}function v(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Vt.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),y(Vt)}function g(t){return Vt.center.set(0,0,0),Vt.radius=.7071067811865476,Vt.applyMatrix4(t.matrixWorld),y(Vt)}function y(t){if(!kt.intersectsSphere(t))return!1;var e=It.numPlanes;if(0===e)return!0;var n=ct.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function b(t,e){if(!1!==t.visible){if(0!=(t.layers.mask&e.layers.mask))if(t.isLight)Q.push(t);else if(t.isSprite)!1!==t.frustumCulled&&!0!==g(t)||ut.push(t);else if(t.isLensFlare)lt.push(t);else if(t.isImmediateRenderObject)!0===ct.sortObjects&&(Wt.setFromMatrixPosition(t.matrixWorld),Wt.applyMatrix4(Gt)),m(t,null,t.material,Wt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!1===t.frustumCulled||!0===v(t))){var n=t.material;if(!0===n.visible){!0===ct.sortObjects&&(Wt.setFromMatrixPosition(t.matrixWorld),Wt.applyMatrix4(Gt));var r=fe.update(t);if(n.isMultiMaterial)for(var i=r.groups,o=n.materials,a=0,s=i.length;a<s;a++){var u=i[a],l=o[u.materialIndex];!0===l.visible&&m(t,r,l,Wt.z,u)}else m(t,r,n,Wt.z,null)}}for(var c=t.children,a=0,s=c.length;a<s;a++)b(c[a],e)}}function x(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,u=a.geometry,l=void 0===r?a.material:r,c=a.group;if(s.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(ct,e,n,u,l,c),s.isImmediateRenderObject){w(l);var f=E(n,e.fog,l,s);vt=\"\",s.render(function(t){ct.renderBufferImmediate(t,f,l)})}else ct.renderBufferDirect(n,e.fog,u,l,s,c);s.onAfterRender(ct,e,n,u,l,c)}}function _(t,e,n){var r=ne.get(t),i=he.getParameters(t,qt,e,It.numPlanes,It.numIntersection,n),a=he.getProgramCode(t,i),s=r.program,l=!0;if(void 0===s)t.addEventListener(\"dispose\",o);else if(s.code!==a)u(t);else{if(void 0!==i.shaderID)return;l=!1}if(l){if(i.shaderID){var c=Ms[i.shaderID];r.__webglShader={name:t.type,uniforms:xs.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,s=he.acquireProgram(t,i,a),r.program=s,t.program=s}var f=s.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var h=0;h<ct.maxMorphTargets;h++)f[\"morphTarget\"+h]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var h=0;h<ct.maxMorphNormals;h++)f[\"morphNormal\"+h]>=0&&t.numSupportedMorphNormals++}var d=r.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=It.numPlanes,r.numIntersection=It.numIntersection,d.clippingPlanes=It.uniform),r.fog=e,r.lightsHash=qt.hash,t.lights&&(d.ambientLightColor.value=qt.ambient,d.directionalLights.value=qt.directional,d.spotLights.value=qt.spot,d.rectAreaLights.value=qt.rectArea,d.pointLights.value=qt.point,d.hemisphereLights.value=qt.hemi,d.directionalShadowMap.value=qt.directionalShadowMap,d.directionalShadowMatrix.value=qt.directionalShadowMatrix,d.spotShadowMap.value=qt.spotShadowMap,d.spotShadowMatrix.value=qt.spotShadowMatrix,d.pointShadowMap.value=qt.pointShadowMap,d.pointShadowMatrix.value=qt.pointShadowMatrix);var p=r.program.getUniforms(),m=Y.seqWithValue(p.seq,d);r.uniformsList=m}function w(t){t.side===uo?te.disable(Kt.CULL_FACE):te.enable(Kt.CULL_FACE),te.setFlipSided(t.side===so),!0===t.transparent?te.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):te.setBlending(mo),te.setDepthFunc(t.depthFunc),te.setDepthTest(t.depthTest),te.setDepthWrite(t.depthWrite),te.setColorWrite(t.colorWrite),te.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function E(t,e,n,r){_t=0;var i=ne.get(n);if(jt&&(Ht||t!==gt)){var o=t===gt&&n.id===mt;It.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:n.lights&&i.lightsHash!==qt.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===It.numPlanes&&i.numIntersection===It.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(_(n,e,r),n.needsUpdate=!1);var a=!1,s=!1,u=!1,l=i.program,c=l.getUniforms(),f=i.__webglShader.uniforms;if(l.id!==ft&&(Kt.useProgram(l.program),ft=l.id,a=!0,s=!0,u=!0),n.id!==mt&&(mt=n.id,s=!0),a||t!==gt){if(c.set(Kt,t,\"projectionMatrix\"),Jt.logarithmicDepthBuffer&&c.setValue(Kt,\"logDepthBufFC\",2/(Math.log(t.far+1)/Math.LN2)),t!==gt&&(gt=t,s=!0,u=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var h=c.map.cameraPosition;void 0!==h&&h.setValue(Kt,Wt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&c.setValue(Kt,\"viewMatrix\",t.matrixWorldInverse),c.set(Kt,ct,\"toneMappingExposure\"),c.set(Kt,ct,\"toneMappingWhitePoint\")}if(n.skinning){c.setOptional(Kt,r,\"bindMatrix\"),c.setOptional(Kt,r,\"bindMatrixInverse\");var d=r.skeleton;d&&(Jt.floatVertexTextures&&d.useVertexTexture?(c.set(Kt,d,\"boneTexture\"),c.set(Kt,d,\"boneTextureWidth\"),c.set(Kt,d,\"boneTextureHeight\")):c.setOptional(Kt,d,\"boneMatrices\"))}return s&&(n.lights&&I(f,u),e&&n.fog&&P(f,e),(n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)&&M(f,n),n.isLineBasicMaterial?T(f,n):n.isLineDashedMaterial?(T(f,n),S(f,n)):n.isPointsMaterial?A(f,n):n.isMeshLambertMaterial?C(f,n):n.isMeshToonMaterial?O(f,n):n.isMeshPhongMaterial?R(f,n):n.isMeshPhysicalMaterial?k(f,n):n.isMeshStandardMaterial?L(f,n):n.isMeshDepthMaterial?n.displacementMap&&(f.displacementMap.value=n.displacementMap,f.displacementScale.value=n.displacementScale,f.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&N(f,n),void 0!==f.ltcMat&&(f.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==f.ltcMag&&(f.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),Y.upload(Kt,i.uniformsList,f,ct)),c.set(Kt,r,\"modelViewMatrix\"),c.set(Kt,r,\"normalMatrix\"),c.setValue(Kt,\"modelMatrix\",r.matrixWorld),l}function M(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;if(e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n){n.isWebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function T(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function S(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function A(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*St,t.scale.value=.5*Tt,t.map.value=e.map,null!==e.map){var n=e.map.offset,r=e.map.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}}function P(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function C(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function R(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function O(t,e){R(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function L(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function k(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,L(t,e)}function N(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function I(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function D(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(qt.shadows[e++]=i)}qt.shadows.length=e}function U(t,e){var n,r,i,o,a,s,u,l=0,c=0,h=0,d=e.matrixWorldInverse,p=0,m=0,v=0,g=0,y=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],o=i.color,a=i.intensity,s=i.distance,u=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i.isAmbientLight)l+=o.r*a,c+=o.g*a,h+=o.b*a;else if(i.isDirectionalLight){var b=de.get(i);b.color.copy(i.color).multiplyScalar(i.intensity),b.direction.setFromMatrixPosition(i.matrixWorld),Wt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(Wt),b.direction.transformDirection(d),b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),qt.directionalShadowMap[p]=u,qt.directionalShadowMatrix[p]=i.shadow.matrix,qt.directional[p++]=b}else if(i.isSpotLight){var b=de.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(o).multiplyScalar(a),b.distance=s,b.direction.setFromMatrixPosition(i.matrixWorld),Wt.setFromMatrixPosition(i.target.matrixWorld),b.direction.sub(Wt),b.direction.transformDirection(d),b.coneCos=Math.cos(i.angle),b.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),qt.spotShadowMap[v]=u,qt.spotShadowMatrix[v]=i.shadow.matrix,qt.spot[v++]=b}else if(i.isRectAreaLight){var b=de.get(i);b.color.copy(o).multiplyScalar(a/(i.width*i.height)),b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),Xt.identity(),Yt.copy(i.matrixWorld),Yt.premultiply(d),Xt.extractRotation(Yt),b.halfWidth.set(.5*i.width,0,0),b.halfHeight.set(0,.5*i.height,0),b.halfWidth.applyMatrix4(Xt),b.halfHeight.applyMatrix4(Xt),qt.rectArea[g++]=b}else if(i.isPointLight){var b=de.get(i);b.position.setFromMatrixPosition(i.matrixWorld),b.position.applyMatrix4(d),b.color.copy(i.color).multiplyScalar(i.intensity),b.distance=i.distance,b.decay=0===i.distance?0:i.decay,b.shadow=i.castShadow,i.castShadow&&(b.shadowBias=i.shadow.bias,b.shadowRadius=i.shadow.radius,b.shadowMapSize=i.shadow.mapSize),qt.pointShadowMap[m]=u,void 0===qt.pointShadowMatrix[m]&&(qt.pointShadowMatrix[m]=new f),Wt.setFromMatrixPosition(i.matrixWorld).negate(),qt.pointShadowMatrix[m].identity().setPosition(Wt),qt.point[m++]=b}else if(i.isHemisphereLight){var b=de.get(i);b.direction.setFromMatrixPosition(i.matrixWorld),b.direction.transformDirection(d),b.direction.normalize(),b.skyColor.copy(i.color).multiplyScalar(a),b.groundColor.copy(i.groundColor).multiplyScalar(a),qt.hemi[y++]=b}qt.ambient[0]=l,qt.ambient[1]=c,qt.ambient[2]=h,qt.directional.length=p,qt.spot.length=v,qt.rectArea.length=g,qt.point.length=m,qt.hemi.length=y,qt.hash=p+\",\"+m+\",\"+v+\",\"+g+\",\"+y+\",\"+qt.shadows.length}function z(){var t=_t;return t>=Jt.maxTextures&&console.warn(\"WebGLRenderer: trying to use \"+t+\" texture units while this GPU supports only \"+Jt.maxTextures),_t+=1,t}function F(t){var e;if(t===sa)return Kt.REPEAT;if(t===ua)return Kt.CLAMP_TO_EDGE;if(t===la)return Kt.MIRRORED_REPEAT;if(t===ca)return Kt.NEAREST;if(t===fa)return Kt.NEAREST_MIPMAP_NEAREST;if(t===ha)return Kt.NEAREST_MIPMAP_LINEAR;if(t===da)return Kt.LINEAR;if(t===pa)return Kt.LINEAR_MIPMAP_NEAREST;if(t===ma)return Kt.LINEAR_MIPMAP_LINEAR;if(t===va)return Kt.UNSIGNED_BYTE;if(t===Ma)return Kt.UNSIGNED_SHORT_4_4_4_4;if(t===Ta)return Kt.UNSIGNED_SHORT_5_5_5_1;if(t===Sa)return Kt.UNSIGNED_SHORT_5_6_5;if(t===ga)return Kt.BYTE;if(t===ya)return Kt.SHORT;if(t===ba)return Kt.UNSIGNED_SHORT;if(t===xa)return Kt.INT;if(t===_a)return Kt.UNSIGNED_INT;if(t===wa)return Kt.FLOAT;if(t===Ea&&null!==(e=Qt.get(\"OES_texture_half_float\")))return e.HALF_FLOAT_OES;if(t===Pa)return Kt.ALPHA;if(t===Ca)return Kt.RGB;if(t===Ra)return Kt.RGBA;if(t===Oa)return Kt.LUMINANCE;if(t===La)return Kt.LUMINANCE_ALPHA;if(t===Na)return Kt.DEPTH_COMPONENT;if(t===Ia)return Kt.DEPTH_STENCIL;if(t===_o)return Kt.FUNC_ADD;if(t===wo)return Kt.FUNC_SUBTRACT;if(t===Eo)return Kt.FUNC_REVERSE_SUBTRACT;if(t===So)return Kt.ZERO;if(t===Ao)return Kt.ONE;if(t===Po)return Kt.SRC_COLOR;if(t===Co)return Kt.ONE_MINUS_SRC_COLOR;if(t===Ro)return Kt.SRC_ALPHA;if(t===Oo)return Kt.ONE_MINUS_SRC_ALPHA;if(t===Lo)return Kt.DST_ALPHA;if(t===ko)return Kt.ONE_MINUS_DST_ALPHA;if(t===No)return Kt.DST_COLOR;if(t===Io)return Kt.ONE_MINUS_DST_COLOR;if(t===Do)return Kt.SRC_ALPHA_SATURATE;if((t===Da||t===Ua||t===za||t===Fa)&&null!==(e=Qt.get(\"WEBGL_compressed_texture_s3tc\"))){if(t===Da)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Ua)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===za)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Fa)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Ba||t===ja||t===Ha||t===Va)&&null!==(e=Qt.get(\"WEBGL_compressed_texture_pvrtc\"))){if(t===Ba)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ja)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Ha)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Va)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Ga&&null!==(e=Qt.get(\"WEBGL_compressed_texture_etc1\")))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===Mo||t===To)&&null!==(e=Qt.get(\"EXT_blend_minmax\"))){if(t===Mo)return e.MIN_EXT;if(t===To)return e.MAX_EXT}return t===Aa&&null!==(e=Qt.get(\"WEBGL_depth_texture\"))?e.UNSIGNED_INT_24_8_WEBGL:0}console.log(\"THREE.WebGLRenderer\",Zi),t=t||{};var B=void 0!==t.canvas?t.canvas:document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),j=void 0!==t.context?t.context:null,H=void 0!==t.alpha&&t.alpha,V=void 0===t.depth||t.depth,G=void 0===t.stencil||t.stencil,W=void 0!==t.antialias&&t.antialias,q=void 0===t.premultipliedAlpha||t.premultipliedAlpha,Z=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,Q=[],tt=[],et=-1,rt=[],it=-1,st=new Float32Array(8),ut=[],lt=[];this.domElement=B,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Zo,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ct=this,ft=null,ht=null,dt=null,mt=-1,vt=\"\",gt=null,yt=new a,bt=null,xt=new a,_t=0,wt=new X(0),Et=0,Mt=B.width,Tt=B.height,St=1,At=new a(0,0,Mt,Tt),Pt=!1,Ot=new a(0,0,Mt,Tt),kt=new ot,It=new le,jt=!1,Ht=!1,Vt=new nt,Gt=new f,Wt=new c,Yt=new f,Xt=new f,qt={hash:\"\",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Zt={calls:0,vertices:0,faces:0,points:0};this.info={render:Zt,memory:{geometries:0,textures:0},programs:null};var Kt;try{var $t={alpha:H,depth:V,stencil:G,antialias:W,premultipliedAlpha:q,preserveDrawingBuffer:Z};if(null===(Kt=j||B.getContext(\"webgl\",$t)||B.getContext(\"experimental-webgl\",$t)))throw null!==B.getContext(\"webgl\")?\"Error creating WebGL context with your selected attributes.\":\"Error creating WebGL context.\";void 0===Kt.getShaderPrecisionFormat&&(Kt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),B.addEventListener(\"webglcontextlost\",i,!1)}catch(t){console.error(\"THREE.WebGLRenderer: \"+t)}var Qt=new ue(Kt);Qt.get(\"WEBGL_depth_texture\"),Qt.get(\"OES_texture_float\"),Qt.get(\"OES_texture_float_linear\"),Qt.get(\"OES_texture_half_float\"),Qt.get(\"OES_texture_half_float_linear\"),Qt.get(\"OES_standard_derivatives\"),Qt.get(\"ANGLE_instanced_arrays\"),Qt.get(\"OES_element_index_uint\")&&(Ct.MaxIndex=4294967296);var Jt=new se(Kt,Qt,t),te=new ae(Kt,Qt,F),ne=new oe,ce=new ie(Kt,Qt,te,ne,Jt,F,this.info),fe=new re(Kt,ne,this.info),he=new ee(this,Jt),de=new Bt;this.info.programs=he.programs;var pe,me,ve,ge,ye=new Ft(Kt,Qt,Zt),be=new zt(Kt,Qt,Zt);n(),this.context=Kt,this.capabilities=Jt,this.extensions=Qt,this.properties=ne,this.state=te;var xe=new at(this,qt,fe,Jt);this.shadowMap=xe;var _e=new $(this,ut),we=new K(this,lt);this.getContext=function(){return Kt},this.getContextAttributes=function(){return Kt.getContextAttributes()},this.forceContextLoss=function(){Qt.get(\"WEBGL_lose_context\").loseContext()},this.getMaxAnisotropy=function(){return Jt.getMaxAnisotropy()},this.getPrecision=function(){return Jt.precision},this.getPixelRatio=function(){return St},this.setPixelRatio=function(t){void 0!==t&&(St=t,this.setSize(Ot.z,Ot.w,!1))},this.getSize=function(){return{width:Mt,height:Tt}},this.setSize=function(t,e,n){Mt=t,Tt=e,B.width=t*St,B.height=e*St,!1!==n&&(B.style.width=t+\"px\",B.style.height=e+\"px\"),this.setViewport(0,0,t,e)},this.setViewport=function(t,e,n,r){te.viewport(Ot.set(t,e,n,r))},this.setScissor=function(t,e,n,r){te.scissor(At.set(t,e,n,r))},this.setScissorTest=function(t){te.setScissorTest(Pt=t)},this.getClearColor=function(){return wt},this.setClearColor=function(t,e){wt.set(t),Et=void 0!==e?e:1,te.buffers.color.setClear(wt.r,wt.g,wt.b,Et,q)},this.getClearAlpha=function(){return Et},this.setClearAlpha=function(t){Et=t,te.buffers.color.setClear(wt.r,wt.g,wt.b,Et,q)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=Kt.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=Kt.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=Kt.STENCIL_BUFFER_BIT),Kt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=r,this.dispose=function(){rt=[],it=-1,tt=[],et=-1,B.removeEventListener(\"webglcontextlost\",i,!1)},this.renderBufferImmediate=function(t,e,n){te.initAttributes();var r=ne.get(t);t.hasPositions&&!r.position&&(r.position=Kt.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=Kt.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=Kt.createBuffer()),t.hasColors&&!r.color&&(r.color=Kt.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.position),Kt.bufferData(Kt.ARRAY_BUFFER,t.positionArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.position),Kt.vertexAttribPointer(i.position,3,Kt.FLOAT,!1,0,0)),t.hasNormals){if(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&n.shading===lo)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,u=(s[o+0]+s[o+3]+s[o+6])/3,l=(s[o+1]+s[o+4]+s[o+7])/3,c=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=u,s[o+1]=l,s[o+2]=c,s[o+3]=u,s[o+4]=l,s[o+5]=c,s[o+6]=u,s[o+7]=l,s[o+8]=c}Kt.bufferData(Kt.ARRAY_BUFFER,t.normalArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.normal),Kt.vertexAttribPointer(i.normal,3,Kt.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.uv),Kt.bufferData(Kt.ARRAY_BUFFER,t.uvArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.uv),Kt.vertexAttribPointer(i.uv,2,Kt.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==fo&&(Kt.bindBuffer(Kt.ARRAY_BUFFER,r.color),Kt.bufferData(Kt.ARRAY_BUFFER,t.colorArray,Kt.DYNAMIC_DRAW),te.enableAttribute(i.color),Kt.vertexAttribPointer(i.color,3,Kt.FLOAT,!1,0,0)),te.disableUnusedAttributes(),Kt.drawArrays(Kt.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,r,i,o,a){w(i);var s=E(t,n,i,o),u=!1,c=r.id+\"_\"+s.id+\"_\"+i.wireframe;c!==vt&&(vt=c,u=!0);var f=o.morphTargetInfluences;if(void 0!==f){for(var d=[],p=0,m=f.length;p<m;p++){var v=f[p];d.push([v,p])}d.sort(h),d.length>8&&(d.length=8);for(var g=r.morphAttributes,p=0,m=d.length;p<m;p++){var v=d[p];if(st[p]=v[0],0!==v[0]){var y=v[1];!0===i.morphTargets&&g.position&&r.addAttribute(\"morphTarget\"+p,g.position[y]),!0===i.morphNormals&&g.normal&&r.addAttribute(\"morphNormal\"+p,g.normal[y])}else!0===i.morphTargets&&r.removeAttribute(\"morphTarget\"+p),!0===i.morphNormals&&r.removeAttribute(\"morphNormal\"+p)}for(var p=d.length,b=st.length;p<b;p++)st[p]=0;s.getUniforms().setValue(Kt,\"morphTargetInfluences\",st),u=!0}var y=r.index,x=r.attributes.position,_=1;!0===i.wireframe&&(y=fe.getWireframeAttribute(r),_=2);var M;null!==y?(M=be,M.setIndex(y)):M=ye,u&&(l(i,s,r),null!==y&&Kt.bindBuffer(Kt.ELEMENT_ARRAY_BUFFER,fe.getAttributeBuffer(y)));var T=0;null!==y?T=y.count:void 0!==x&&(T=x.count);var S=r.drawRange.start*_,A=r.drawRange.count*_,P=null!==a?a.start*_:0,C=null!==a?a.count*_:1/0,R=Math.max(S,P),O=Math.min(T,S+A,P+C)-1,L=Math.max(0,O-R+1);if(0!==L){if(o.isMesh)if(!0===i.wireframe)te.setLineWidth(i.wireframeLinewidth*e()),M.setMode(Kt.LINES);else switch(o.drawMode){case ts:M.setMode(Kt.TRIANGLES);break;case es:M.setMode(Kt.TRIANGLE_STRIP);break;case ns:M.setMode(Kt.TRIANGLE_FAN)}else if(o.isLine){var k=i.linewidth;void 0===k&&(k=1),te.setLineWidth(k*e()),o.isLineSegments?M.setMode(Kt.LINES):M.setMode(Kt.LINE_STRIP)}else o.isPoints&&M.setMode(Kt.POINTS);r&&r.isInstancedBufferGeometry?r.maxInstancedCount>0&&M.renderInstances(r,R,L):M.render(R,L)}},this.render=function(t,e,n,r){if(void 0!==e&&!0!==e.isCamera)return void console.error(\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\");vt=\"\",mt=-1,gt=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),Gt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),kt.setFromMatrix(Gt),Q.length=0,et=-1,it=-1,ut.length=0,lt.length=0,Ht=this.localClippingEnabled,jt=It.init(this.clippingPlanes,Ht,e),b(t,e),tt.length=et+1,rt.length=it+1,!0===ct.sortObjects&&(tt.sort(d),rt.sort(p)),jt&&It.beginShadows(),D(Q),xe.render(t,e),U(Q,e),jt&&It.endShadows(),Zt.calls=0,Zt.vertices=0,Zt.faces=0,Zt.points=0,void 0===n&&(n=null),this.setRenderTarget(n);var i=t.background;if(null===i?te.buffers.color.setClear(wt.r,wt.g,wt.b,Et,q):i&&i.isColor&&(te.buffers.color.setClear(i.r,i.g,i.b,1,q),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),i&&i.isCubeTexture?(void 0===ve&&(ve=new Dt,ge=new Rt(new Lt(5,5,5),new J({uniforms:Ms.cube.uniforms,vertexShader:Ms.cube.vertexShader,fragmentShader:Ms.cube.fragmentShader,side:so,depthTest:!1,depthWrite:!1,fog:!1}))),ve.projectionMatrix.copy(e.projectionMatrix),ve.matrixWorld.extractRotation(e.matrixWorld),ve.matrixWorldInverse.getInverse(ve.matrixWorld),ge.material.uniforms.tCube.value=i,ge.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,ge.matrixWorld),fe.update(ge),ct.renderBufferDirect(ve,null,ge.geometry,ge.material,ge,null)):i&&i.isTexture&&(void 0===pe&&(pe=new Ut(-1,1,1,-1,0,1),me=new Rt(new Nt(2,2),new pt({depthTest:!1,depthWrite:!1,fog:!1}))),me.material.map=i,fe.update(me),ct.renderBufferDirect(pe,null,me.geometry,me.material,me,null)),t.overrideMaterial){var o=t.overrideMaterial;x(tt,t,e,o),x(rt,t,e,o)}else te.setBlending(mo),x(tt,t,e),x(rt,t,e);_e.render(t,e),we.render(t,e,xt),n&&ce.updateRenderTargetMipmap(n),te.setDepthTest(!0),te.setDepthWrite(!0),te.setColorWrite(!0)},this.setFaceCulling=function(t,e){te.setCullFace(t),te.setFlipSided(e===eo)},this.allocTextureUnit=z,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn(\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\"),t=!0),e=e.texture),ce.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn(\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\"),t=!0),ce.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn(\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?ce.setTextureCube(e,n):ce.setTextureCubeDynamic(e,n)}}(),this.getCurrentRenderTarget=function(){return ht},this.setRenderTarget=function(t){ht=t,t&&void 0===ne.get(t).__webglFramebuffer&&ce.setupRenderTarget(t);var e,n=t&&t.isWebGLRenderTargetCube;if(t){var r=ne.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,yt.copy(t.scissor),bt=t.scissorTest,xt.copy(t.viewport)}else e=null,yt.copy(At).multiplyScalar(St),bt=Pt,xt.copy(Ot).multiplyScalar(St);if(dt!==e&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,e),dt=e),te.scissor(yt),te.setScissorTest(bt),te.viewport(xt),n){var i=ne.get(t.texture);Kt.framebufferTexture2D(Kt.FRAMEBUFFER,Kt.COLOR_ATTACHMENT0,Kt.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(!1===(t&&t.isWebGLRenderTarget))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\");var a=ne.get(t).__webglFramebuffer;if(a){var s=!1;a!==dt&&(Kt.bindFramebuffer(Kt.FRAMEBUFFER,a),s=!0);try{var u=t.texture,l=u.format,c=u.type;if(l!==Ra&&F(l)!==Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\");if(!(c===va||F(c)===Kt.getParameter(Kt.IMPLEMENTATION_COLOR_READ_TYPE)||c===wa&&(Qt.get(\"OES_texture_float\")||Qt.get(\"WEBGL_color_buffer_float\"))||c===Ea&&Qt.get(\"EXT_color_buffer_half_float\")))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\");Kt.checkFramebufferStatus(Kt.FRAMEBUFFER)===Kt.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&Kt.readPixels(e,n,r,i,F(l),F(c),o):console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\")}finally{s&&Kt.bindFramebuffer(Kt.FRAMEBUFFER,dt)}}}}function fe(t,e){this.name=\"\",this.color=new X(t),this.density=void 0!==e?e:25e-5}function he(t,e,n){this.name=\"\",this.color=new X(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function de(){ct.call(this),this.type=\"Scene\",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function pe(t,e,n,r,i){ct.call(this),this.lensFlares=[],this.positionScreen=new c,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)}function me(t){Q.call(this),this.type=\"SpriteMaterial\",this.color=new X(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function ve(t){ct.call(this),this.type=\"Sprite\",this.material=void 0!==t?t:new me}function ge(){ct.call(this),this.type=\"LOD\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ye(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new f,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=ds.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new q(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ra,wa)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn(\"THREE.Skeleton bonInverses is the wrong length.\"),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new f)}}function be(){ct.call(this),this.type=\"Bone\"}function xe(t,e,n){Rt.call(this,t,e),this.type=\"SkinnedMesh\",this.bindMode=\"attached\",this.bindMatrix=new f,this.bindMatrixInverse=new f;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new be,r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(var a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],-1!==o.parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ye(r,void 0,n),this.matrixWorld)}function _e(t){Q.call(this),this.type=\"LineBasicMaterial\",this.color=new X(16777215),this.linewidth=1,this.linecap=\"round\",this.linejoin=\"round\",this.lights=!1,this.setValues(t)}function we(t,e,n){if(1===n)return console.warn(\"THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.\"),new Ee(t,e);ct.call(this),this.type=\"Line\",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new _e({color:16777215*Math.random()})}function Ee(t,e){we.call(this,t,e),this.type=\"LineSegments\"}function Me(t){Q.call(this),this.type=\"PointsMaterial\",this.color=new X(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function Te(t,e){ct.call(this),this.type=\"Points\",this.geometry=void 0!==t?t:new Ct,this.material=void 0!==e?e:new Me({color:16777215*Math.random()})}function Se(){ct.call(this),this.type=\"Group\"}function Ae(t,e,n,r,i,a,s,u,l){function c(){requestAnimationFrame(c),t.readyState>=t.HAVE_CURRENT_DATA&&(f.needsUpdate=!0)}o.call(this,t,e,n,r,i,a,s,u,l),this.generateMipmaps=!1;var f=this;c()}function Pe(t,e,n,r,i,a,s,u,l,c,f,h){o.call(this,null,a,s,u,l,c,r,i,f,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ce(t,e,n,r,i,a,s,u,l){o.call(this,t,e,n,r,i,a,s,u,l),this.needsUpdate=!0}function Re(t,e,n,r,i,a,s,u,l,c){if((c=void 0!==c?c:Na)!==Na&&c!==Ia)throw new Error(\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\");void 0===n&&c===Na&&(n=ba),void 0===n&&c===Ia&&(n=Aa),o.call(this,null,r,i,a,s,u,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==s?s:ca,this.minFilter=void 0!==u?u:ca,this.flipY=!1,this.generateMipmaps=!1}function Oe(t){function e(t,e){return t-e}Ct.call(this),this.type=\"WireframeGeometry\";var n,r,i,o,a,s,u,l,f=[],h=[0,0],d={},p=[\"a\",\"b\",\"c\"];if(t&&t.isGeometry){var m=t.faces;for(n=0,i=m.length;n<i;n++){var v=m[n];for(r=0;r<3;r++)h[0]=v[p[r]],h[1]=v[p[(r+1)%3]],h.sort(e),u=h.toString(),void 0===d[u]&&(d[u]={index1:h[0],index2:h[1]})}for(u in d)s=d[u],l=t.vertices[s.index1],f.push(l.x,l.y,l.z),l=t.vertices[s.index2],f.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var g,y,b,x,_,w,E,M;if(l=new c,null!==t.index){for(g=t.attributes.position,y=t.index,b=t.groups,0===b.length&&t.addGroup(0,y.count),o=0,a=b.length;o<a;++o)for(x=b[o],_=x.start,w=x.count,n=_,i=_+w;n<i;n+=3)for(r=0;r<3;r++)h[0]=y.getX(n+r),h[1]=y.getX(n+(r+1)%3),h.sort(e),u=h.toString(),void 0===d[u]&&(d[u]={index1:h[0],index2:h[1]});for(u in d)s=d[u],l.fromBufferAttribute(g,s.index1),f.push(l.x,l.y,l.z),l.fromBufferAttribute(g,s.index2),f.push(l.x,l.y,l.z)}else for(g=t.attributes.position,n=0,i=g.count/3;n<i;n++)for(r=0;r<3;r++)E=3*n+r,l.fromBufferAttribute(g,E),f.push(l.x,l.y,l.z),M=3*n+(r+1)%3,l.fromBufferAttribute(g,M),f.push(l.x,l.y,l.z)}this.addAttribute(\"position\",new Et(f,3))}function Le(t,e,n){Pt.call(this),this.type=\"ParametricGeometry\",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new ke(t,e,n)),this.mergeVertices()}function ke(t,e,n){Ct.call(this),this.type=\"ParametricBufferGeometry\",this.parameters={func:t,slices:e,stacks:n};var r,i,o=[],a=[],s=[],u=e+1;for(r=0;r<=n;r++){var l=r/n;for(i=0;i<=e;i++){var c=i/e,f=t(c,l);a.push(f.x,f.y,f.z),s.push(c,l)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var h=r*u+i,d=r*u+i+1,p=(r+1)*u+i+1,m=(r+1)*u+i;o.push(h,d,m),o.push(d,p,m)}this.setIndex(o),this.addAttribute(\"position\",new Et(a,3)),this.addAttribute(\"uv\",new Et(s,2)),this.computeVertexNormals()}function Ne(t,e,n,r){Pt.call(this),this.type=\"PolyhedronGeometry\",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Ie(t,e,n,r)),this.mergeVertices()}function Ie(t,e,n,r){function o(t,e,n,r){var i,o,a=Math.pow(2,r),u=[];for(i=0;i<=a;i++){u[i]=[];var l=t.clone().lerp(n,i/a),c=e.clone().lerp(n,i/a),f=a-i;for(o=0;o<=f;o++)u[i][o]=0===o&&i===a?l:l.clone().lerp(c,o/f)}for(i=0;i<a;i++)for(o=0;o<2*(a-i)-1;o++){var h=Math.floor(o/2);o%2==0?(s(u[i][h+1]),s(u[i+1][h]),s(u[i][h])):(s(u[i][h+1]),s(u[i+1][h+1]),s(u[i+1][h]))}}function a(){for(var t=0;t<m.length;t+=6){var e=m[t+0],n=m[t+2],r=m[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(m[t+0]+=1),n<.2&&(m[t+2]+=1),r<.2&&(m[t+4]+=1))}}function s(t){p.push(t.x,t.y,t.z)}function u(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function l(){for(var t=new c,e=new c,n=new c,r=new c,o=new i,a=new i,s=new i,u=0,l=0;u<p.length;u+=9,l+=6){t.set(p[u+0],p[u+1],p[u+2]),e.set(p[u+3],p[u+4],p[u+5]),n.set(p[u+6],p[u+7],p[u+8]),o.set(m[l+0],m[l+1]),a.set(m[l+2],m[l+3]),s.set(m[l+4],m[l+5]),r.copy(t).add(e).add(n).divideScalar(3);var d=h(r);f(o,l+0,t,d),f(a,l+2,e,d),f(s,l+4,n,d)}}function f(t,e,n,r){r<0&&1===t.x&&(m[e]=t.x-1),0===n.x&&0===n.z&&(m[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}Ct.call(this),this.type=\"PolyhedronBufferGeometry\",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;var p=[],m=[];!function(t){for(var n=new c,r=new c,i=new c,a=0;a<e.length;a+=3)u(e[a+0],n),u(e[a+1],r),u(e[a+2],i),o(n,r,i,t)}(r),function(t){for(var e=new c,n=0;n<p.length;n+=3)e.x=p[n+0],e.y=p[n+1],e.z=p[n+2],e.normalize().multiplyScalar(t),p[n+0]=e.x,p[n+1]=e.y,p[n+2]=e.z}(n),function(){for(var t=new c,e=0;e<p.length;e+=3){t.x=p[e+0],t.y=p[e+1],t.z=p[e+2];var n=h(t)/2/Math.PI+.5,r=d(t)/Math.PI+.5;m.push(n,1-r)}l(),a()}(),this.addAttribute(\"position\",new Et(p,3)),this.addAttribute(\"normal\",new Et(p.slice(),3)),this.addAttribute(\"uv\",new Et(m,2)),this.normalizeNormals()}function De(t,e){Pt.call(this),this.type=\"TetrahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ue(t,e)),this.mergeVertices()}function Ue(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];Ie.call(this,n,r,t,e),this.type=\"TetrahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function ze(t,e){Pt.call(this),this.type=\"OctahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Fe(t,e)),this.mergeVertices()}function Fe(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Ie.call(this,n,r,t,e),this.type=\"OctahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Be(t,e){Pt.call(this),this.type=\"IcosahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new je(t,e)),this.mergeVertices()}function je(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Ie.call(this,r,i,t,e),this.type=\"IcosahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function He(t,e){Pt.call(this),this.type=\"DodecahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ve(t,e)),this.mergeVertices()}function Ve(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Ie.call(this,i,o,t,e),this.type=\"DodecahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Ge(t,e,n,r,i,o){Pt.call(this),this.type=\"TubeGeometry\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn(\"THREE.TubeGeometry: taper has been removed.\");var a=new We(t,e,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function We(t,e,n,r,o){function a(i){var o=t.getPointAt(i/e),a=l.normals[i],s=l.binormals[i];for(h=0;h<=r;h++){var u=h/r*Math.PI*2,c=Math.sin(u),f=-Math.cos(u);p.x=f*a.x+c*s.x,p.y=f*a.y+c*s.y,p.z=f*a.z+c*s.z,p.normalize(),g.push(p.x,p.y,p.z),d.x=o.x+n*p.x,d.y=o.y+n*p.y,d.z=o.z+n*p.z,v.push(d.x,d.y,d.z)}}function s(){for(h=1;h<=e;h++)for(f=1;f<=r;f++){var t=(r+1)*(h-1)+(f-1),n=(r+1)*h+(f-1),i=(r+1)*h+f,o=(r+1)*(h-1)+f;b.push(t,n,o),b.push(n,i,o)}}function u(){for(f=0;f<=e;f++)for(h=0;h<=r;h++)m.x=f/e,m.y=h/r,y.push(m.x,m.y)}Ct.call(this),this.type=\"TubeBufferGeometry\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:o},e=e||64,n=n||1,r=r||8,o=o||!1;var l=t.computeFrenetFrames(e,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;var f,h,d=new c,p=new c,m=new i,v=[],g=[],y=[],b=[];!function(){for(f=0;f<e;f++)a(f);a(!1===o?e:0),u(),s()}(),this.setIndex(b),this.addAttribute(\"position\",new Et(v,3)),this.addAttribute(\"normal\",new Et(g,3)),this.addAttribute(\"uv\",new Et(y,2))}function Ye(t,e,n,r,i,o,a){Pt.call(this),this.type=\"TorusKnotGeometry\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn(\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\"),this.fromBufferGeometry(new Xe(t,e,n,r,i,o)),this.mergeVertices()}function Xe(t,e,n,r,o,a){function s(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}Ct.call(this),this.type=\"TorusKnotBufferGeometry\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:o,q:a},t=t||100,e=e||40,n=Math.floor(n)||64,r=Math.floor(r)||8,o=o||2,a=a||3;var u,l,f=[],h=[],d=[],p=[],m=new c,v=new c,g=(new i,new c),y=new c,b=new c,x=new c,_=new c;for(u=0;u<=n;++u){var w=u/n*o*Math.PI*2;for(s(w,o,a,t,g),s(w+.01,o,a,t,y),x.subVectors(y,g),_.addVectors(y,g),b.crossVectors(x,_),_.crossVectors(b,x),b.normalize(),_.normalize(),l=0;l<=r;++l){var E=l/r*Math.PI*2,M=-e*Math.cos(E),T=e*Math.sin(E);m.x=g.x+(M*_.x+T*b.x),m.y=g.y+(M*_.y+T*b.y),m.z=g.z+(M*_.z+T*b.z),h.push(m.x,m.y,m.z),v.subVectors(m,g).normalize(),d.push(v.x,v.y,v.z),p.push(u/n),p.push(l/r)}}for(l=1;l<=n;l++)for(u=1;u<=r;u++){var S=(r+1)*(l-1)+(u-1),A=(r+1)*l+(u-1),P=(r+1)*l+u,C=(r+1)*(l-1)+u;f.push(S,A,C),f.push(A,P,C)}this.setIndex(f),this.addAttribute(\"position\",new Et(h,3)),this.addAttribute(\"normal\",new Et(d,3)),this.addAttribute(\"uv\",new Et(p,2))}function qe(t,e,n,r,i){Pt.call(this),this.type=\"TorusGeometry\",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ze(t,e,n,r,i))}function Ze(t,e,n,r,i){Ct.call(this),this.type=\"TorusBufferGeometry\",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=[],u=[],l=[],f=[],h=new c,d=new c,p=new c;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var m=a/r*i,v=o/n*Math.PI*2;d.x=(t+e*Math.cos(v))*Math.cos(m),d.y=(t+e*Math.cos(v))*Math.sin(m),d.z=e*Math.sin(v),u.push(d.x,d.y,d.z),h.x=t*Math.cos(m),h.y=t*Math.sin(m),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),f.push(a/r),f.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var g=(r+1)*o+a-1,y=(r+1)*(o-1)+a-1,b=(r+1)*(o-1)+a,x=(r+1)*o+a;s.push(g,y,x),s.push(y,b,x)}this.setIndex(s),this.addAttribute(\"position\",new Et(u,3)),this.addAttribute(\"normal\",new Et(l,3)),this.addAttribute(\"uv\",new Et(f,2))}function Ke(t,e){if(void 0===t)return void(t=[]);Pt.call(this),this.type=\"ExtrudeGeometry\",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()}function $e(t,e){e=e||{};var n=e.font;if(!1===(n&&n.isFont))return console.error(\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"),new Pt;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ke.call(this,r,e),this.type=\"TextGeometry\"}function Qe(t,e,n,r,i,o,a){Pt.call(this),this.type=\"SphereGeometry\",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Je(t,e,n,r,i,o,a))}function Je(t,e,n,r,i,o,a){Ct.call(this),this.type=\"SphereBufferGeometry\",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,u,l=o+a,f=0,h=[],d=new c,p=new c,m=[],v=[],g=[],y=[];for(u=0;u<=n;u++){var b=[],x=u/n;for(s=0;s<=e;s++){var _=s/e;d.x=-t*Math.cos(r+_*i)*Math.sin(o+x*a),d.y=t*Math.cos(o+x*a),d.z=t*Math.sin(r+_*i)*Math.sin(o+x*a),v.push(d.x,d.y,d.z),p.set(d.x,d.y,d.z).normalize(),g.push(p.x,p.y,p.z),y.push(_,1-x),b.push(f++)}h.push(b)}for(u=0;u<n;u++)for(s=0;s<e;s++){var w=h[u][s+1],E=h[u][s],M=h[u+1][s],T=h[u+1][s+1];(0!==u||o>0)&&m.push(w,E,T),(u!==n-1||l<Math.PI)&&m.push(E,M,T)}this.setIndex(m),this.addAttribute(\"position\",new Et(v,3)),this.addAttribute(\"normal\",new Et(g,3)),this.addAttribute(\"uv\",new Et(y,2))}function tn(t,e,n,r,i,o){Pt.call(this),this.type=\"RingGeometry\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new en(t,e,n,r,i,o))}function en(t,e,n,r,o,a){Ct.call(this),this.type=\"RingBufferGeometry\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:a},t=t||20,e=e||50,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(1,r):1;var s,u,l,f=[],h=[],d=[],p=[],m=t,v=(e-t)/r,g=new c,y=new i;for(u=0;u<=r;u++){for(l=0;l<=n;l++)s=o+l/n*a,g.x=m*Math.cos(s),g.y=m*Math.sin(s),h.push(g.x,g.y,g.z),d.push(0,0,1),y.x=(g.x/e+1)/2,y.y=(g.y/e+1)/2,p.push(y.x,y.y);m+=v}for(u=0;u<r;u++){var b=u*(n+1);for(l=0;l<n;l++){s=l+b;var x=s,_=s+n+1,w=s+n+2,E=s+1;f.push(x,_,E),f.push(_,w,E)}}this.setIndex(f),this.addAttribute(\"position\",new Et(h,3)),this.addAttribute(\"normal\",new Et(d,3)),this.addAttribute(\"uv\",new Et(p,2))}function nn(t,e,n,r){Pt.call(this),this.type=\"LatheGeometry\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new rn(t,e,n,r)),this.mergeVertices()}function rn(t,e,n,r){Ct.call(this),this.type=\"LatheBufferGeometry\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=ds.clamp(r,0,2*Math.PI);var o,a,s,u=[],l=[],f=[],h=1/e,d=new c,p=new i;for(a=0;a<=e;a++){var m=n+a*h*r,v=Math.sin(m),g=Math.cos(m);for(s=0;s<=t.length-1;s++)d.x=t[s].x*v,d.y=t[s].y,d.z=t[s].x*g,l.push(d.x,d.y,d.z),p.x=a/e,p.y=s/(t.length-1),f.push(p.x,p.y)}for(a=0;a<e;a++)for(s=0;s<t.length-1;s++){o=s+a*t.length;var y=o,b=o+t.length,x=o+t.length+1,_=o+1;u.push(y,b,_),u.push(b,x,_)}if(this.setIndex(u),this.addAttribute(\"position\",new Et(l,3)),this.addAttribute(\"uv\",new Et(f,2)),this.computeVertexNormals(),r===2*Math.PI){var w=this.attributes.normal.array,E=new c,M=new c,T=new c;for(o=e*t.length*3,a=0,s=0;a<t.length;a++,s+=3)E.x=w[s+0],E.y=w[s+1],E.z=w[s+2],M.x=w[o+s+0],M.y=w[o+s+1],M.z=w[o+s+2],T.addVectors(E,M).normalize(),w[s+0]=w[o+s+0]=T.x,w[s+1]=w[o+s+1]=T.y,w[s+2]=w[o+s+2]=T.z}}function on(t,e){Pt.call(this),this.type=\"ShapeGeometry\",\"object\"==typeof e&&(console.warn(\"THREE.ShapeGeometry: Options parameter has been removed.\"),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new an(t,e)),this.mergeVertices()}function an(t,e){function n(t){var n,s,l,c=i.length/3,f=t.extractPoints(e),h=f.shape,d=f.holes;if(!1===Cs.isClockWise(h))for(h=h.reverse(),n=0,s=d.length;n<s;n++)l=d[n],!0===Cs.isClockWise(l)&&(d[n]=l.reverse());var p=Cs.triangulateShape(h,d);for(n=0,s=d.length;n<s;n++)l=d[n],h=h.concat(l);for(n=0,s=h.length;n<s;n++){var m=h[n];i.push(m.x,m.y,0),o.push(0,0,1),a.push(m.x,m.y)}for(n=0,s=p.length;n<s;n++){var v=p[n],g=v[0]+c,y=v[1]+c,b=v[2]+c;r.push(g,y,b),u+=3}}Ct.call(this),this.type=\"ShapeBufferGeometry\",this.parameters={shapes:t,curveSegments:e},e=e||12;var r=[],i=[],o=[],a=[],s=0,u=0;if(!1===Array.isArray(t))n(t);else for(var l=0;l<t.length;l++)n(t[l]),this.addGroup(s,u,l),s+=u,u=0;this.setIndex(r),this.addAttribute(\"position\",new Et(i,3)),this.addAttribute(\"normal\",new Et(o,3)),this.addAttribute(\"uv\",new Et(a,2))}function sn(t,e){function n(t,e){return t-e}Ct.call(this),this.type=\"EdgesGeometry\",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var r,i,o=[],a=Math.cos(ds.DEG2RAD*e),s=[0,0],u={},l=[\"a\",\"b\",\"c\"];t.isBufferGeometry?(i=new Pt,i.fromBufferGeometry(t)):i=t.clone(),i.mergeVertices(),i.computeFaceNormals();for(var c=i.vertices,f=i.faces,h=0,d=f.length;h<d;h++)for(var p=f[h],m=0;m<3;m++)s[0]=p[l[m]],s[1]=p[l[(m+1)%3]],s.sort(n),r=s.toString(),void 0===u[r]?u[r]={index1:s[0],index2:s[1],face1:h,face2:void 0}:u[r].face2=h;for(r in u){var v=u[r];if(void 0===v.face2||f[v.face1].normal.dot(f[v.face2].normal)<=a){var g=c[v.index1];o.push(g.x,g.y,g.z),g=c[v.index2],o.push(g.x,g.y,g.z)}}this.addAttribute(\"position\",new Et(o,3))}function un(t,e,n,r,i,o,a,s){Pt.call(this),this.type=\"CylinderGeometry\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new ln(t,e,n,r,i,o,a,s)),this.mergeVertices()}function ln(t,e,n,r,o,a,s,u){function l(n){var o,a,l,g=new i,x=new c,_=0,w=!0===n?t:e,E=!0===n?1:-1;for(a=v,o=1;o<=r;o++)d.push(0,y*E,0),p.push(0,E,0),m.push(.5,.5),v++;for(l=v,o=0;o<=r;o++){var M=o/r,T=M*u+s,S=Math.cos(T),A=Math.sin(T);x.x=w*A,x.y=y*E,x.z=w*S,d.push(x.x,x.y,x.z),p.push(0,E,0),g.x=.5*S+.5,g.y=.5*A*E+.5,m.push(g.x,g.y),v++}for(o=0;o<r;o++){var P=a+o,C=l+o;!0===n?h.push(C,C+1,P):h.push(C+1,C,P),_+=3}f.addGroup(b,_,!0===n?1:2),b+=_}Ct.call(this),this.type=\"CylinderBufferGeometry\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:u};var f=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,o=Math.floor(o)||1,a=void 0!==a&&a,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var h=[],d=[],p=[],m=[],v=0,g=[],y=n/2,b=0;!function(){var i,a,l=new c,x=new c,_=0,w=(e-t)/n;for(a=0;a<=o;a++){var E=[],M=a/o,T=M*(e-t)+t;for(i=0;i<=r;i++){var S=i/r,A=S*u+s,P=Math.sin(A),C=Math.cos(A);x.x=T*P,x.y=-M*n+y,x.z=T*C,d.push(x.x,x.y,x.z),l.set(P,w,C).normalize(),p.push(l.x,l.y,l.z),m.push(S,1-M),E.push(v++)}g.push(E)}for(i=0;i<r;i++)for(a=0;a<o;a++){var R=g[a][i],O=g[a+1][i],L=g[a+1][i+1],k=g[a][i+1];h.push(R,O,k),h.push(O,L,k),_+=6}f.addGroup(b,_,0),b+=_}(),!1===a&&(t>0&&l(!0),e>0&&l(!1)),this.setIndex(h),this.addAttribute(\"position\",new Et(d,3)),this.addAttribute(\"normal\",new Et(p,3)),this.addAttribute(\"uv\",new Et(m,2))}function cn(t,e,n,r,i,o,a){un.call(this,0,t,e,n,r,i,o,a),this.type=\"ConeGeometry\",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function fn(t,e,n,r,i,o,a){ln.call(this,0,t,e,n,r,i,o,a),this.type=\"ConeBufferGeometry\",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function hn(t,e,n,r){Pt.call(this),this.type=\"CircleGeometry\",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new dn(t,e,n,r))}function dn(t,e,n,r){Ct.call(this),this.type=\"CircleBufferGeometry\",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var o,a,s=[],u=[],l=[],f=[],h=new c,d=new i;for(u.push(0,0,0),l.push(0,0,1),f.push(.5,.5),a=0,o=3;a<=e;a++,o+=3){var p=n+a/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),u.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(u[o]/t+1)/2,d.y=(u[o+1]/t+1)/2,f.push(d.x,d.y)}for(o=1;o<=e;o++)s.push(o,o+1,0);this.setIndex(s),this.addAttribute(\"position\",new Et(u,3)),this.addAttribute(\"normal\",new Et(l,3)),this.addAttribute(\"uv\",new Et(f,2))}function pn(){J.call(this,{uniforms:xs.merge([Es.lights,{opacity:{value:1}}]),vertexShader:_s.shadow_vert,fragmentShader:_s.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function mn(t){J.call(this,t),this.type=\"RawShaderMaterial\"}function vn(t){this.uuid=ds.generateUUID(),this.type=\"MultiMaterial\",this.materials=Array.isArray(t)?t:[],this.visible=!0}function gn(t){Q.call(this),this.defines={STANDARD:\"\"},this.type=\"MeshStandardMaterial\",this.color=new X(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yn(t){gn.call(this),this.defines={PHYSICAL:\"\"},this.type=\"MeshPhysicalMaterial\",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function bn(t){Q.call(this),this.type=\"MeshPhongMaterial\",this.color=new X(16777215),this.specular=new X(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xn(t){bn.call(this),this.defines={TOON:\"\"},this.type=\"MeshToonMaterial\",this.gradientMap=null,this.setValues(t)}function _n(t){Q.call(this,t),this.type=\"MeshNormalMaterial\",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new i(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function wn(t){Q.call(this),this.type=\"MeshLambertMaterial\",this.color=new X(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Wo,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function En(t){Q.call(this),this.type=\"LineDashedMaterial\",this.color=new X(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}function Mn(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}}function Tn(t){this.manager=void 0!==t?t:ks}function Sn(t){this.manager=void 0!==t?t:ks,this._parser=null}function An(t){this.manager=void 0!==t?t:ks,this._parser=null}function Pn(t){this.manager=void 0!==t?t:ks}function Cn(t){this.manager=void 0!==t?t:ks}function Rn(t){this.manager=void 0!==t?t:ks}function On(t,e){ct.call(this),this.type=\"Light\",this.color=new X(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Ln(t,e,n){On.call(this,t,n),this.type=\"HemisphereLight\",this.castShadow=void 0,this.position.copy(ct.DefaultUp),this.updateMatrix(),this.groundColor=new X(e)}function kn(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new i(512,512),this.map=null,this.matrix=new f}function Nn(){kn.call(this,new Dt(50,1,.5,500))}function In(t,e,n,r,i,o){On.call(this,t,e),this.type=\"SpotLight\",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,Object.defineProperty(this,\"power\",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Nn}function Dn(t,e,n,r){On.call(this,t,e),this.type=\"PointLight\",Object.defineProperty(this,\"power\",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new kn(new Dt(90,1,.5,500))}function Un(){kn.call(this,new Ut(-5,5,5,-5,.5,500))}function zn(t,e){On.call(this,t,e),this.type=\"DirectionalLight\",this.position.copy(ct.DefaultUp),this.updateMatrix(),this.target=new ct,this.shadow=new Un}function Fn(t,e){On.call(this,t,e),this.type=\"AmbientLight\",this.castShadow=void 0}function Bn(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function jn(t,e,n,r){Bn.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Hn(t,e,n,r){Bn.call(this,t,e,n,r)}function Vn(t,e,n,r){Bn.call(this,t,e,n,r)}function Gn(t,e,n,r){if(void 0===t)throw new Error(\"track name is undefined\");if(void 0===e||0===e.length)throw new Error(\"no keyframes in track named \"+t);this.name=t,this.times=Ns.convertArray(e,this.TimeBufferType),this.values=Ns.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Wn(t,e,n,r){Gn.call(this,t,e,n,r)}function Yn(t,e,n,r){Bn.call(this,t,e,n,r)}function Xn(t,e,n,r){Gn.call(this,t,e,n,r)}function qn(t,e,n,r){Gn.call(this,t,e,n,r)}function Zn(t,e,n,r){Gn.call(this,t,e,n,r)}function Kn(t,e,n){Gn.call(this,t,e,n)}function $n(t,e,n,r){Gn.call(this,t,e,n,r)}function Qn(t,e,n,r){Gn.apply(this,arguments)}function Jn(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=ds.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function tr(t){this.manager=void 0!==t?t:ks,this.textures={}}function er(t){this.manager=void 0!==t?t:ks}function nr(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function rr(t){\"boolean\"==typeof t&&(console.warn(\"THREE.JSONLoader: showStatus parameter has been removed from constructor.\"),t=void 0),this.manager=void 0!==t?t:ks,this.withCredentials=!1}function ir(t){this.manager=void 0!==t?t:ks,this.texturePath=\"\"}function or(t,e,n,r,i){var o=.5*(r-e),a=.5*(i-n),s=t*t;return(2*n-2*r+o+a)*(t*s)+(-3*n+3*r-2*o-a)*s+o*t+n}function ar(t,e){var n=1-t;return n*n*e}function sr(t,e){return 2*(1-t)*t*e}function ur(t,e){return t*t*e}function lr(t,e,n,r){return ar(t,e)+sr(t,n)+ur(t,r)}function cr(t,e){var n=1-t;return n*n*n*e}function fr(t,e){var n=1-t;return 3*n*n*t*e}function hr(t,e){return 3*(1-t)*t*t*e}function dr(t,e){return t*t*t*e}function pr(t,e,n,r,i){return cr(t,e)+fr(t,n)+hr(t,r)+dr(t,i)}function mr(){}function vr(t,e){this.v1=t,this.v2=e}function gr(){this.curves=[],this.autoClose=!1}function yr(t,e,n,r,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0}function br(t){this.points=void 0===t?[]:t}function xr(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function _r(t,e,n){this.v0=t,this.v1=e,this.v2=n}function wr(t){gr.call(this),this.currentPoint=new i,t&&this.fromPoints(t)}function Er(){wr.apply(this,arguments),this.holes=[]}function Mr(){this.subPaths=[],this.currentPath=null}function Tr(t){this.data=t}function Sr(t){this.manager=void 0!==t?t:ks}function Ar(t){this.manager=void 0!==t?t:ks}function Pr(t,e,n,r){On.call(this,t,e),this.type=\"RectAreaLight\",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Cr(){this.type=\"StereoCamera\",this.aspect=1,this.eyeSep=.064,this.cameraL=new Dt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Dt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Rr(t,e,n){ct.call(this),this.type=\"CubeCamera\";var r=new Dt(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new c(1,0,0)),this.add(r);var i=new Dt(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new c(-1,0,0)),this.add(i);var o=new Dt(90,1,t,e);o.up.set(0,0,1),o.lookAt(new c(0,1,0)),this.add(o);var a=new Dt(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new c(0,-1,0)),this.add(a);var s=new Dt(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new c(0,0,1)),this.add(s);var l=new Dt(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new c(0,0,-1)),this.add(l);var f={format:Ca,magFilter:da,minFilter:da};this.renderTarget=new u(n,n,f),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,a,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=u,n.activeCubeFace=5,t.render(e,l,n),t.setRenderTarget(null)}}function Or(){ct.call(this),this.type=\"AudioListener\",this.context=zs.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Lr(t){ct.call(this),this.type=\"Audio\",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType=\"empty\",this.filters=[]}function kr(t){Lr.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Nr(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ir(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case\"quaternion\":r=this._slerp;break;case\"string\":case\"bool\":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Dr(t,e,n){this.path=e,this.parsedPath=n||Dr.parseTrackName(e),this.node=Dr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Ur(t){this.uuid=ds.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function zr(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:$a,endingEnd:$a},s=0;s!==i;++s){var u=r[s].createInterpolant(null);o[s]=u,u.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ya,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Fr(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Br(t){\"string\"==typeof t&&(console.warn(\"THREE.Uniform: Type parameter is no longer needed.\"),t=arguments[1]),this.value=t}function jr(){Ct.call(this),this.type=\"InstancedBufferGeometry\",this.maxInstancedCount=void 0}function Hr(t,e,n,r){this.uuid=ds.generateUUID(),this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Vr(t,e){this.uuid=ds.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Gr(t,e,n){Vr.call(this,t,e),this.meshPerAttribute=n||1}function Wr(t,e,n){mt.call(this,t,e),this.meshPerAttribute=n||1}function Yr(t,e,n,r){this.ray=new st(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn(\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\"),this.Points}}})}function Xr(t,e){return t.distance-e.distance}function qr(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,o=0,a=i.length;o<a;o++)qr(i[o],e,n,!0)}function Zr(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Kr(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function $r(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Qr(t,e){Rt.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation(\"__default\",0,r,i),this.setAnimationWeight(\"__default\",1)}function Jr(t){ct.call(this),this.material=t,this.render=function(t){}}function ti(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var u=new Ct,l=new Et(2*a*3,3);u.addAttribute(\"position\",l),Ee.call(this,u,new _e({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function ei(t){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Ct,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute(\"position\",new Et(n,3));var s=new _e({fog:!1});this.cone=new Ee(e,s),this.add(this.cone),this.update()}function ni(t){this.bones=this.getBoneList(t);for(var e=new Ct,n=[],r=[],i=new X(0,0,1),o=new X(0,1,0),a=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(o.r,o.g,o.b))}e.addAttribute(\"position\",new Et(n,3)),e.addAttribute(\"color\",new Et(r,3));var u=new _e({vertexColors:po,depthTest:!1,depthWrite:!1,transparent:!0});Ee.call(this,e,u),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function ri(t,e){this.light=t,this.light.updateMatrixWorld();var n=new Je(e,4,2),r=new pt({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Rt.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function ii(t){ct.call(this),this.light=t,this.light.updateMatrixWorld();var e=new pt({color:t.color,fog:!1}),n=new pt({color:t.color,fog:!1,wireframe:!0}),r=new Ct;r.addAttribute(\"position\",new mt(new Float32Array(18),3)),this.add(new Rt(r,e)),this.add(new Rt(r,n)),this.update()}function oi(t,e){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var n=new Fe(e);n.rotateY(.5*Math.PI);var r=new pt({vertexColors:po,wireframe:!0}),i=n.getAttribute(\"position\"),o=new Float32Array(3*i.count);n.addAttribute(\"color\",new mt(o,3)),this.add(new Rt(n,r)),this.update()}function ai(t,e,n,r){t=t||10,e=e||10,n=new X(void 0!==n?n:4473924),r=new X(void 0!==r?r:8947848);for(var i=e/2,o=t/e,a=t/2,s=[],u=[],l=0,c=0,f=-a;l<=e;l++,f+=o){s.push(-a,0,f,a,0,f),s.push(f,0,-a,f,0,a);var h=l===i?n:r;h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3}var d=new Ct;d.addAttribute(\"position\",new Et(s,3)),d.addAttribute(\"color\",new Et(u,3));var p=new _e({vertexColors:po});Ee.call(this,d,p)}function si(t,e,n,r,i,o){t=t||10,e=e||16,n=n||8,r=r||64,i=new X(void 0!==i?i:4473924),o=new X(void 0!==o?o:8947848);var a,s,u,l,c,f,h,d=[],p=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),a=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(a,0,s),h=1&l?i:o,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(l=0;l<=n;l++)for(h=1&l?i:o,f=t-t/n*l,c=0;c<r;c++)u=c/r*(2*Math.PI),a=Math.sin(u)*f,s=Math.cos(u)*f,d.push(a,0,s),p.push(h.r,h.g,h.b),u=(c+1)/r*(2*Math.PI),a=Math.sin(u)*f,s=Math.cos(u)*f,d.push(a,0,s),p.push(h.r,h.g,h.b);var m=new Ct;m.addAttribute(\"position\",new Et(d,3)),m.addAttribute(\"color\",new Et(p,3));var v=new _e({vertexColors:po});Ee.call(this,m,v)}function ui(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn(\"THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.\");var u=new Ct,l=new Et(2*a*3,3);u.addAttribute(\"position\",l),Ee.call(this,u,new _e({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function li(t,e){ct.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Ct;n.addAttribute(\"position\",new Et([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new _e({fog:!1});this.add(new we(n,r)),n=new Ct,n.addAttribute(\"position\",new Et([0,0,0,0,0,1],3)),this.add(new we(n,r)),this.update()}function ci(t){function e(t,e,r){n(t,r),n(e,r)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var r=new Ct,i=new _e({color:16777215,vertexColors:ho}),o=[],a=[],s={},u=new X(16755200),l=new X(16711680),c=new X(43775),f=new X(16777215),h=new X(3355443);e(\"n1\",\"n2\",u),e(\"n2\",\"n4\",u),e(\"n4\",\"n3\",u),e(\"n3\",\"n1\",u),e(\"f1\",\"f2\",u),e(\"f2\",\"f4\",u),e(\"f4\",\"f3\",u),e(\"f3\",\"f1\",u),e(\"n1\",\"f1\",u),e(\"n2\",\"f2\",u),e(\"n3\",\"f3\",u),e(\"n4\",\"f4\",u),e(\"p\",\"n1\",l),e(\"p\",\"n2\",l),e(\"p\",\"n3\",l),e(\"p\",\"n4\",l),e(\"u1\",\"u2\",c),e(\"u2\",\"u3\",c),e(\"u3\",\"u1\",c),e(\"c\",\"t\",f),e(\"p\",\"c\",h),e(\"cn1\",\"cn2\",h),e(\"cn3\",\"cn4\",h),e(\"cf1\",\"cf2\",h),e(\"cf3\",\"cf4\",h),r.addAttribute(\"position\",new Et(o,3)),r.addAttribute(\"color\",new Et(a,3)),Ee.call(this,r,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function fi(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Ct;i.setIndex(new mt(n,1)),i.addAttribute(\"position\",new mt(r,3)),Ee.call(this,i,new _e({color:e})),void 0!==t&&this.update(t)}function hi(t,e,n,r,i,o){ct.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===Fs&&(Fs=new Ct,Fs.addAttribute(\"position\",new Et([0,0,0,0,1,0],3)),Bs=new ln(0,.5,1,5,1),Bs.translate(0,-.5,0)),this.position.copy(e),this.line=new we(Fs,new _e({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rt(Bs,new pt({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,o)}function di(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Ct;r.addAttribute(\"position\",new Et(e,3)),r.addAttribute(\"color\",new Et(n,3));var i=new _e({vertexColors:po});Ee.call(this,r,i)}function pi(){function t(t,o,a,s){e=t,n=a,r=-3*t+3*o-2*a-s,i=2*t-2*o+a+s}var e=0,n=0,r=0,i=0;return{initCatmullRom:function(e,n,r,i,o){t(n,r,o*(r-e),o*(i-n))},initNonuniformCatmullRom:function(e,n,r,i,o,a,s){var u=(n-e)/o-(r-e)/(o+a)+(r-n)/a,l=(r-n)/a-(i-n)/(a+s)+(i-r)/s;u*=a,l*=a,t(n,r,u,l)},calc:function(t){var o=t*t;return e+n*t+r*o+i*(o*t)}}}function mi(t){this.points=t||[],this.closed=!1}function vi(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}function gi(t,e,n){this.v0=t,this.v1=e,this.v2=n}function yi(t,e){this.v1=t,this.v2=e}function bi(t,e,n,r,i,o){yr.call(this,t,e,n,n,r,i,o)}function xi(t,e,n,r,i,o,a){return console.warn(\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\"),new dt(t,e,n,i,o,a)}function _i(t){return console.warn(\"THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial.\"),new vn(t)}function wi(t,e){return console.warn(\"THREE.PointCloud has been renamed to THREE.Points.\"),new Te(t,e)}function Ei(t){return console.warn(\"THREE.Particle has been renamed to THREE.Sprite.\"),new ve(t)}function Mi(t,e){return console.warn(\"THREE.ParticleSystem has been renamed to THREE.Points.\"),new Te(t,e)}function Ti(t){return console.warn(\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\"),new Me(t)}function Si(t){return console.warn(\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\"),new Me(t)}function Ai(t){return console.warn(\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\"),new Me(t)}function Pi(t,e,n){return console.warn(\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\"),new c(t,e,n)}function Ci(t,e){return console.warn(\"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.\"),new mt(t,e).setDynamic(!0)}function Ri(t,e){return console.warn(\"THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.\"),new vt(t,e)}function Oi(t,e){return console.warn(\"THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.\"),new gt(t,e)}function Li(t,e){return console.warn(\"THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.\"),new yt(t,e)}function ki(t,e){return console.warn(\"THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.\"),new bt(t,e)}function Ni(t,e){return console.warn(\"THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.\"),new xt(t,e)}function Ii(t,e){return console.warn(\"THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.\"),new _t(t,e)}function Di(t,e){return console.warn(\"THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.\"),new wt(t,e)}function Ui(t,e){return console.warn(\"THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.\"),new Et(t,e)}function zi(t,e){return console.warn(\"THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.\"),new Mt(t,e)}function Fi(t){console.warn(\"THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"),mi.call(this,t),this.type=\"catmullrom\",this.closed=!0}function Bi(t){console.warn(\"THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"),mi.call(this,t),this.type=\"catmullrom\"}function ji(t){console.warn(\"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.\"),mi.call(this,t),this.type=\"catmullrom\"}function Hi(t,e){return console.warn(\"THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.\"),new fi(t,e)}function Vi(t,e){return console.warn(\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\"),new Ee(new sn(t.geometry),new _e({color:void 0!==e?e:16777215}))}function Gi(t,e){return console.warn(\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\"),new Ee(new Oe(t.geometry),new _e({color:void 0!==e?e:16777215}))}function Wi(t){return console.warn(\"THREE.XHRLoader has been renamed to THREE.FileLoader.\"),new Tn(t)}function Yi(t){return console.warn(\"THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.\"),new An(t)}function Xi(){console.error(\"THREE.Projector has been moved to /examples/js/renderers/Projector.js.\"),this.projectVector=function(t,e){console.warn(\"THREE.Projector: .projectVector() is now vector.project().\"),t.project(e)},this.unprojectVector=function(t,e){console.warn(\"THREE.Projector: .unprojectVector() is now vector.unproject().\"),t.unproject(e)},this.pickingRay=function(){console.error(\"THREE.Projector: .pickingRay() is now raycaster.setFromCamera().\")}}function qi(){console.error(\"THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js\"),this.domElement=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}Object.defineProperty(e,\"__esModule\",{value:!0}),n.d(e,\"WebGLRenderTargetCube\",function(){return u}),n.d(e,\"WebGLRenderTarget\",function(){return s}),n.d(e,\"WebGLRenderer\",function(){return ce}),n.d(e,\"ShaderLib\",function(){return Ms}),n.d(e,\"UniformsLib\",function(){return Es}),n.d(e,\"UniformsUtils\",function(){return xs}),n.d(e,\"ShaderChunk\",function(){return _s}),n.d(e,\"FogExp2\",function(){return fe}),n.d(e,\"Fog\",function(){return he}),n.d(e,\"Scene\",function(){return de}),n.d(e,\"LensFlare\",function(){return pe}),n.d(e,\"Sprite\",function(){return ve}),n.d(e,\"LOD\",function(){return ge}),n.d(e,\"SkinnedMesh\",function(){return xe}),n.d(e,\"Skeleton\",function(){return ye}),n.d(e,\"Bone\",function(){return be}),n.d(e,\"Mesh\",function(){return Rt}),n.d(e,\"LineSegments\",function(){return Ee}),n.d(e,\"Line\",function(){return we}),n.d(e,\"Points\",function(){return Te}),n.d(e,\"Group\",function(){return Se}),n.d(e,\"VideoTexture\",function(){return Ae}),n.d(e,\"DataTexture\",function(){return q}),n.d(e,\"CompressedTexture\",function(){return Pe}),n.d(e,\"CubeTexture\",function(){return h}),n.d(e,\"CanvasTexture\",function(){return Ce}),n.d(e,\"DepthTexture\",function(){return Re}),n.d(e,\"Texture\",function(){return o}),n.d(e,\"CompressedTextureLoader\",function(){return Sn}),n.d(e,\"DataTextureLoader\",function(){return An}),n.d(e,\"CubeTextureLoader\",function(){return Cn}),n.d(e,\"TextureLoader\",function(){return Rn}),n.d(e,\"ObjectLoader\",function(){return ir}),n.d(e,\"MaterialLoader\",function(){return tr}),n.d(e,\"BufferGeometryLoader\",function(){return er}),n.d(e,\"DefaultLoadingManager\",function(){return ks}),n.d(e,\"LoadingManager\",function(){return Mn}),n.d(e,\"JSONLoader\",function(){return rr}),n.d(e,\"ImageLoader\",function(){return Pn}),n.d(e,\"FontLoader\",function(){return Sr}),n.d(e,\"FileLoader\",function(){return Tn}),n.d(e,\"Loader\",function(){return nr}),n.d(e,\"Cache\",function(){return Ls}),n.d(e,\"AudioLoader\",function(){return Ar}),n.d(e,\"SpotLightShadow\",function(){return Nn}),n.d(e,\"SpotLight\",function(){return In}),n.d(e,\"PointLight\",function(){return Dn}),n.d(e,\"RectAreaLight\",function(){return Pr}),n.d(e,\"HemisphereLight\",function(){return Ln}),n.d(e,\"DirectionalLightShadow\",function(){return Un}),n.d(e,\"DirectionalLight\",function(){return zn}),n.d(e,\"AmbientLight\",function(){return Fn}),n.d(e,\"LightShadow\",function(){return kn}),n.d(e,\"Light\",function(){return On}),n.d(e,\"StereoCamera\",function(){return Cr}),n.d(e,\"PerspectiveCamera\",function(){return Dt}),n.d(e,\"OrthographicCamera\",function(){return Ut}),n.d(e,\"CubeCamera\",function(){return Rr}),n.d(e,\"Camera\",function(){return It}),n.d(e,\"AudioListener\",function(){return Or}),n.d(e,\"PositionalAudio\",function(){return kr}),n.d(e,\"AudioContext\",function(){return zs}),n.d(e,\"AudioAnalyser\",function(){return Nr}),n.d(e,\"Audio\",function(){return Lr}),n.d(e,\"VectorKeyframeTrack\",function(){return Wn}),n.d(e,\"StringKeyframeTrack\",function(){return Zn}),n.d(e,\"QuaternionKeyframeTrack\",function(){return Xn}),n.d(e,\"NumberKeyframeTrack\",function(){return qn}),n.d(e,\"ColorKeyframeTrack\",function(){return $n}),n.d(e,\"BooleanKeyframeTrack\",function(){return Kn}),n.d(e,\"PropertyMixer\",function(){return Ir}),n.d(e,\"PropertyBinding\",function(){return Dr}),n.d(e,\"KeyframeTrack\",function(){return Qn}),n.d(e,\"AnimationUtils\",function(){return Ns}),n.d(e,\"AnimationObjectGroup\",function(){return Ur}),n.d(e,\"AnimationMixer\",function(){return Fr}),n.d(e,\"AnimationClip\",function(){return Jn}),n.d(e,\"Uniform\",function(){return Br}),n.d(e,\"InstancedBufferGeometry\",function(){return jr}),n.d(e,\"BufferGeometry\",function(){return Ct}),n.d(e,\"GeometryIdCount\",function(){return At}),n.d(e,\"Geometry\",function(){return Pt}),n.d(e,\"InterleavedBufferAttribute\",function(){return Hr}),n.d(e,\"InstancedInterleavedBuffer\",function(){return Gr}),n.d(e,\"InterleavedBuffer\",function(){return Vr}),n.d(e,\"InstancedBufferAttribute\",function(){return Wr}),n.d(e,\"Face3\",function(){return dt}),n.d(e,\"Object3D\",function(){return ct}),n.d(e,\"Raycaster\",function(){return Yr}),n.d(e,\"Layers\",function(){return lt}),n.d(e,\"EventDispatcher\",function(){return r}),n.d(e,\"Clock\",function(){return Zr}),n.d(e,\"QuaternionLinearInterpolant\",function(){return Yn}),n.d(e,\"LinearInterpolant\",function(){return Hn}),n.d(e,\"DiscreteInterpolant\",function(){return Vn}),n.d(e,\"CubicInterpolant\",function(){return jn}),n.d(e,\"Interpolant\",function(){return Bn}),n.d(e,\"Triangle\",function(){return ht}),n.d(e,\"Math\",function(){return ds}),n.d(e,\"Spherical\",function(){return Kr}),n.d(e,\"Cylindrical\",function(){return $r}),n.d(e,\"Plane\",function(){return it}),n.d(e,\"Frustum\",function(){return ot}),n.d(e,\"Sphere\",function(){return nt}),n.d(e,\"Ray\",function(){return st}),n.d(e,\"Matrix4\",function(){return f}),n.d(e,\"Matrix3\",function(){return rt}),n.d(e,\"Box3\",function(){return et}),n.d(e,\"Box2\",function(){return Z}),n.d(e,\"Line3\",function(){return ft}),n.d(e,\"Euler\",function(){return ut}),n.d(e,\"Vector4\",function(){return a}),n.d(e,\"Vector3\",function(){return c}),n.d(e,\"Vector2\",function(){return i}),n.d(e,\"Quaternion\",function(){return l}),n.d(e,\"Color\",function(){return X}),n.d(e,\"MorphBlendMesh\",function(){return Qr}),n.d(e,\"ImmediateRenderObject\",function(){return Jr}),n.d(e,\"VertexNormalsHelper\",function(){return ti}),n.d(e,\"SpotLightHelper\",function(){return ei}),n.d(e,\"SkeletonHelper\",function(){return ni}),n.d(e,\"PointLightHelper\",function(){return ri}),n.d(e,\"RectAreaLightHelper\",function(){return ii}),n.d(e,\"HemisphereLightHelper\",function(){return oi}),n.d(e,\"GridHelper\",function(){return ai}),n.d(e,\"PolarGridHelper\",function(){return si}),n.d(e,\"FaceNormalsHelper\",function(){return ui}),n.d(e,\"DirectionalLightHelper\",function(){return li}),n.d(e,\"CameraHelper\",function(){return ci}),n.d(e,\"BoxHelper\",function(){return fi}),n.d(e,\"ArrowHelper\",function(){return hi}),n.d(e,\"AxisHelper\",function(){return di}),n.d(e,\"CatmullRomCurve3\",function(){return mi}),n.d(e,\"CubicBezierCurve3\",function(){return vi}),n.d(e,\"QuadraticBezierCurve3\",function(){return gi}),n.d(e,\"LineCurve3\",function(){return yi}),n.d(e,\"ArcCurve\",function(){return bi}),n.d(e,\"EllipseCurve\",function(){return yr}),n.d(e,\"SplineCurve\",function(){return br}),n.d(e,\"CubicBezierCurve\",function(){return xr}),n.d(e,\"QuadraticBezierCurve\",function(){return _r}),n.d(e,\"LineCurve\",function(){return vr}),n.d(e,\"Shape\",function(){return Er}),n.d(e,\"Path\",function(){return wr}),n.d(e,\"ShapePath\",function(){return Mr}),n.d(e,\"Font\",function(){return Tr}),n.d(e,\"CurvePath\",function(){return gr}),n.d(e,\"Curve\",function(){return mr}),n.d(e,\"ShapeUtils\",function(){return Cs}),n.d(e,\"SceneUtils\",function(){return Ws}),n.d(e,\"WireframeGeometry\",function(){return Oe}),n.d(e,\"ParametricGeometry\",function(){return Le}),n.d(e,\"ParametricBufferGeometry\",function(){return ke}),n.d(e,\"TetrahedronGeometry\",function(){return De}),n.d(e,\"TetrahedronBufferGeometry\",function(){return Ue}),n.d(e,\"OctahedronGeometry\",function(){return ze}),n.d(e,\"OctahedronBufferGeometry\",function(){return Fe}),n.d(e,\"IcosahedronGeometry\",function(){return Be}),n.d(e,\"IcosahedronBufferGeometry\",function(){return je}),n.d(e,\"DodecahedronGeometry\",function(){return He}),n.d(e,\"DodecahedronBufferGeometry\",function(){return Ve}),n.d(e,\"PolyhedronGeometry\",function(){return Ne}),n.d(e,\"PolyhedronBufferGeometry\",function(){return Ie}),n.d(e,\"TubeGeometry\",function(){return Ge}),n.d(e,\"TubeBufferGeometry\",function(){return We}),n.d(e,\"TorusKnotGeometry\",function(){return Ye}),n.d(e,\"TorusKnotBufferGeometry\",function(){return Xe}),n.d(e,\"TorusGeometry\",function(){return qe}),n.d(e,\"TorusBufferGeometry\",function(){return Ze}),n.d(e,\"TextGeometry\",function(){return $e}),n.d(e,\"SphereGeometry\",function(){return Qe}),n.d(e,\"SphereBufferGeometry\",function(){return Je}),n.d(e,\"RingGeometry\",function(){return tn}),n.d(e,\"RingBufferGeometry\",function(){return en}),n.d(e,\"PlaneGeometry\",function(){return kt}),n.d(e,\"PlaneBufferGeometry\",function(){return Nt}),n.d(e,\"LatheGeometry\",function(){return nn}),n.d(e,\"LatheBufferGeometry\",function(){return rn}),n.d(e,\"ShapeGeometry\",function(){return on}),n.d(e,\"ShapeBufferGeometry\",function(){return an}),n.d(e,\"ExtrudeGeometry\",function(){return Ke}),n.d(e,\"EdgesGeometry\",function(){return sn}),n.d(e,\"ConeGeometry\",function(){return cn}),n.d(e,\"ConeBufferGeometry\",function(){return fn}),n.d(e,\"CylinderGeometry\",function(){return un}),n.d(e,\"CylinderBufferGeometry\",function(){return ln}),n.d(e,\"CircleGeometry\",function(){return hn}),n.d(e,\"CircleBufferGeometry\",function(){return dn}),n.d(e,\"BoxGeometry\",function(){return Ot}),n.d(e,\"BoxBufferGeometry\",function(){return Lt}),n.d(e,\"ShadowMaterial\",function(){return pn}),n.d(e,\"SpriteMaterial\",function(){return me}),n.d(e,\"RawShaderMaterial\",function(){return mn}),n.d(e,\"ShaderMaterial\",function(){return J}),n.d(e,\"PointsMaterial\",function(){return Me}),n.d(e,\"MultiMaterial\",function(){return vn}),n.d(e,\"MeshPhysicalMaterial\",function(){return yn}),n.d(e,\"MeshStandardMaterial\",function(){return gn}),n.d(e,\"MeshPhongMaterial\",function(){return bn});n.d(e,\"MeshToonMaterial\",function(){return xn}),n.d(e,\"MeshNormalMaterial\",function(){return _n}),n.d(e,\"MeshLambertMaterial\",function(){return wn}),n.d(e,\"MeshDepthMaterial\",function(){return tt}),n.d(e,\"MeshBasicMaterial\",function(){return pt}),n.d(e,\"LineDashedMaterial\",function(){return En}),n.d(e,\"LineBasicMaterial\",function(){return _e}),n.d(e,\"Material\",function(){return Q}),n.d(e,\"Float64BufferAttribute\",function(){return Mt}),n.d(e,\"Float32BufferAttribute\",function(){return Et}),n.d(e,\"Uint32BufferAttribute\",function(){return wt}),n.d(e,\"Int32BufferAttribute\",function(){return _t}),n.d(e,\"Uint16BufferAttribute\",function(){return xt}),n.d(e,\"Int16BufferAttribute\",function(){return bt}),n.d(e,\"Uint8ClampedBufferAttribute\",function(){return yt}),n.d(e,\"Uint8BufferAttribute\",function(){return gt}),n.d(e,\"Int8BufferAttribute\",function(){return vt}),n.d(e,\"BufferAttribute\",function(){return mt}),n.d(e,\"REVISION\",function(){return Zi}),n.d(e,\"MOUSE\",function(){return Ki}),n.d(e,\"CullFaceNone\",function(){return $i}),n.d(e,\"CullFaceBack\",function(){return Qi}),n.d(e,\"CullFaceFront\",function(){return Ji}),n.d(e,\"CullFaceFrontBack\",function(){return to}),n.d(e,\"FrontFaceDirectionCW\",function(){return eo}),n.d(e,\"FrontFaceDirectionCCW\",function(){return no}),n.d(e,\"BasicShadowMap\",function(){return ro}),n.d(e,\"PCFShadowMap\",function(){return io}),n.d(e,\"PCFSoftShadowMap\",function(){return oo}),n.d(e,\"FrontSide\",function(){return ao}),n.d(e,\"BackSide\",function(){return so}),n.d(e,\"DoubleSide\",function(){return uo}),n.d(e,\"FlatShading\",function(){return lo}),n.d(e,\"SmoothShading\",function(){return co}),n.d(e,\"NoColors\",function(){return fo}),n.d(e,\"FaceColors\",function(){return ho}),n.d(e,\"VertexColors\",function(){return po}),n.d(e,\"NoBlending\",function(){return mo}),n.d(e,\"NormalBlending\",function(){return vo}),n.d(e,\"AdditiveBlending\",function(){return go}),n.d(e,\"SubtractiveBlending\",function(){return yo}),n.d(e,\"MultiplyBlending\",function(){return bo}),n.d(e,\"CustomBlending\",function(){return xo}),n.d(e,\"AddEquation\",function(){return _o}),n.d(e,\"SubtractEquation\",function(){return wo}),n.d(e,\"ReverseSubtractEquation\",function(){return Eo}),n.d(e,\"MinEquation\",function(){return Mo}),n.d(e,\"MaxEquation\",function(){return To}),n.d(e,\"ZeroFactor\",function(){return So}),n.d(e,\"OneFactor\",function(){return Ao}),n.d(e,\"SrcColorFactor\",function(){return Po}),n.d(e,\"OneMinusSrcColorFactor\",function(){return Co}),n.d(e,\"SrcAlphaFactor\",function(){return Ro}),n.d(e,\"OneMinusSrcAlphaFactor\",function(){return Oo}),n.d(e,\"DstAlphaFactor\",function(){return Lo}),n.d(e,\"OneMinusDstAlphaFactor\",function(){return ko}),n.d(e,\"DstColorFactor\",function(){return No}),n.d(e,\"OneMinusDstColorFactor\",function(){return Io}),n.d(e,\"SrcAlphaSaturateFactor\",function(){return Do}),n.d(e,\"NeverDepth\",function(){return Uo}),n.d(e,\"AlwaysDepth\",function(){return zo}),n.d(e,\"LessDepth\",function(){return Fo}),n.d(e,\"LessEqualDepth\",function(){return Bo}),n.d(e,\"EqualDepth\",function(){return jo}),n.d(e,\"GreaterEqualDepth\",function(){return Ho}),n.d(e,\"GreaterDepth\",function(){return Vo}),n.d(e,\"NotEqualDepth\",function(){return Go}),n.d(e,\"MultiplyOperation\",function(){return Wo}),n.d(e,\"MixOperation\",function(){return Yo}),n.d(e,\"AddOperation\",function(){return Xo}),n.d(e,\"NoToneMapping\",function(){return qo}),n.d(e,\"LinearToneMapping\",function(){return Zo}),n.d(e,\"ReinhardToneMapping\",function(){return Ko}),n.d(e,\"Uncharted2ToneMapping\",function(){return $o}),n.d(e,\"CineonToneMapping\",function(){return Qo}),n.d(e,\"UVMapping\",function(){return Jo}),n.d(e,\"CubeReflectionMapping\",function(){return ta}),n.d(e,\"CubeRefractionMapping\",function(){return ea}),n.d(e,\"EquirectangularReflectionMapping\",function(){return na}),n.d(e,\"EquirectangularRefractionMapping\",function(){return ra}),n.d(e,\"SphericalReflectionMapping\",function(){return ia}),n.d(e,\"CubeUVReflectionMapping\",function(){return oa}),n.d(e,\"CubeUVRefractionMapping\",function(){return aa}),n.d(e,\"RepeatWrapping\",function(){return sa}),n.d(e,\"ClampToEdgeWrapping\",function(){return ua}),n.d(e,\"MirroredRepeatWrapping\",function(){return la}),n.d(e,\"NearestFilter\",function(){return ca}),n.d(e,\"NearestMipMapNearestFilter\",function(){return fa}),n.d(e,\"NearestMipMapLinearFilter\",function(){return ha}),n.d(e,\"LinearFilter\",function(){return da}),n.d(e,\"LinearMipMapNearestFilter\",function(){return pa}),n.d(e,\"LinearMipMapLinearFilter\",function(){return ma}),n.d(e,\"UnsignedByteType\",function(){return va}),n.d(e,\"ByteType\",function(){return ga}),n.d(e,\"ShortType\",function(){return ya}),n.d(e,\"UnsignedShortType\",function(){return ba}),n.d(e,\"IntType\",function(){return xa}),n.d(e,\"UnsignedIntType\",function(){return _a}),n.d(e,\"FloatType\",function(){return wa}),n.d(e,\"HalfFloatType\",function(){return Ea}),n.d(e,\"UnsignedShort4444Type\",function(){return Ma}),n.d(e,\"UnsignedShort5551Type\",function(){return Ta}),n.d(e,\"UnsignedShort565Type\",function(){return Sa}),n.d(e,\"UnsignedInt248Type\",function(){return Aa}),n.d(e,\"AlphaFormat\",function(){return Pa}),n.d(e,\"RGBFormat\",function(){return Ca}),n.d(e,\"RGBAFormat\",function(){return Ra}),n.d(e,\"LuminanceFormat\",function(){return Oa}),n.d(e,\"LuminanceAlphaFormat\",function(){return La}),n.d(e,\"RGBEFormat\",function(){return ka}),n.d(e,\"DepthFormat\",function(){return Na}),n.d(e,\"DepthStencilFormat\",function(){return Ia}),n.d(e,\"RGB_S3TC_DXT1_Format\",function(){return Da}),n.d(e,\"RGBA_S3TC_DXT1_Format\",function(){return Ua}),n.d(e,\"RGBA_S3TC_DXT3_Format\",function(){return za}),n.d(e,\"RGBA_S3TC_DXT5_Format\",function(){return Fa}),n.d(e,\"RGB_PVRTC_4BPPV1_Format\",function(){return Ba}),n.d(e,\"RGB_PVRTC_2BPPV1_Format\",function(){return ja}),n.d(e,\"RGBA_PVRTC_4BPPV1_Format\",function(){return Ha}),n.d(e,\"RGBA_PVRTC_2BPPV1_Format\",function(){return Va}),n.d(e,\"RGB_ETC1_Format\",function(){return Ga}),n.d(e,\"LoopOnce\",function(){return Wa}),n.d(e,\"LoopRepeat\",function(){return Ya}),n.d(e,\"LoopPingPong\",function(){return Xa}),n.d(e,\"InterpolateDiscrete\",function(){return qa}),n.d(e,\"InterpolateLinear\",function(){return Za}),n.d(e,\"InterpolateSmooth\",function(){return Ka}),n.d(e,\"ZeroCurvatureEnding\",function(){return $a}),n.d(e,\"ZeroSlopeEnding\",function(){return Qa}),n.d(e,\"WrapAroundEnding\",function(){return Ja}),n.d(e,\"TrianglesDrawMode\",function(){return ts}),n.d(e,\"TriangleStripDrawMode\",function(){return es}),n.d(e,\"TriangleFanDrawMode\",function(){return ns}),n.d(e,\"LinearEncoding\",function(){return rs}),n.d(e,\"sRGBEncoding\",function(){return is}),n.d(e,\"GammaEncoding\",function(){return os}),n.d(e,\"RGBEEncoding\",function(){return as}),n.d(e,\"LogLuvEncoding\",function(){return ss}),n.d(e,\"RGBM7Encoding\",function(){return us}),n.d(e,\"RGBM16Encoding\",function(){return ls}),n.d(e,\"RGBDEncoding\",function(){return cs}),n.d(e,\"BasicDepthPacking\",function(){return fs}),n.d(e,\"RGBADepthPacking\",function(){return hs}),n.d(e,\"CubeGeometry\",function(){return Ot}),n.d(e,\"Face4\",function(){return xi}),n.d(e,\"LineStrip\",function(){return Ys}),n.d(e,\"LinePieces\",function(){return Xs}),n.d(e,\"MeshFaceMaterial\",function(){return _i}),n.d(e,\"PointCloud\",function(){return wi}),n.d(e,\"Particle\",function(){return Ei}),n.d(e,\"ParticleSystem\",function(){return Mi}),n.d(e,\"PointCloudMaterial\",function(){return Ti}),n.d(e,\"ParticleBasicMaterial\",function(){return Si}),n.d(e,\"ParticleSystemMaterial\",function(){return Ai}),n.d(e,\"Vertex\",function(){return Pi}),n.d(e,\"DynamicBufferAttribute\",function(){return Ci}),n.d(e,\"Int8Attribute\",function(){return Ri}),n.d(e,\"Uint8Attribute\",function(){return Oi}),n.d(e,\"Uint8ClampedAttribute\",function(){return Li}),n.d(e,\"Int16Attribute\",function(){return ki}),n.d(e,\"Uint16Attribute\",function(){return Ni}),n.d(e,\"Int32Attribute\",function(){return Ii}),n.d(e,\"Uint32Attribute\",function(){return Di}),n.d(e,\"Float32Attribute\",function(){return Ui}),n.d(e,\"Float64Attribute\",function(){return zi}),n.d(e,\"ClosedSplineCurve3\",function(){return Fi}),n.d(e,\"SplineCurve3\",function(){return Bi}),n.d(e,\"Spline\",function(){return ji}),n.d(e,\"BoundingBoxHelper\",function(){return Hi}),n.d(e,\"EdgesHelper\",function(){return Vi}),n.d(e,\"WireframeHelper\",function(){return Gi}),n.d(e,\"XHRLoader\",function(){return Wi}),n.d(e,\"BinaryTextureLoader\",function(){return Yi}),n.d(e,\"GeometryUtils\",function(){return qs}),n.d(e,\"ImageUtils\",function(){return Zs}),n.d(e,\"Projector\",function(){return Xi}),n.d(e,\"CanvasRenderer\",function(){return qi}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,\"name\",{get:function(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}}(),r.prototype={addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,r=n[t];if(void 0!==r){var i=r.indexOf(e);-1!==i&&r.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;var r=[],i=0,o=n.length;for(i=0;i<o;i++)r[i]=n[i];for(i=0;i<o;i++)r[i].call(this,t)}}}};var Zi=\"84\",Ki={LEFT:0,MIDDLE:1,RIGHT:2},$i=0,Qi=1,Ji=2,to=3,eo=0,no=1,ro=0,io=1,oo=2,ao=0,so=1,uo=2,lo=1,co=2,fo=0,ho=1,po=2,mo=0,vo=1,go=2,yo=3,bo=4,xo=5,_o=100,wo=101,Eo=102,Mo=103,To=104,So=200,Ao=201,Po=202,Co=203,Ro=204,Oo=205,Lo=206,ko=207,No=208,Io=209,Do=210,Uo=0,zo=1,Fo=2,Bo=3,jo=4,Ho=5,Vo=6,Go=7,Wo=0,Yo=1,Xo=2,qo=0,Zo=1,Ko=2,$o=3,Qo=4,Jo=300,ta=301,ea=302,na=303,ra=304,ia=305,oa=306,aa=307,sa=1e3,ua=1001,la=1002,ca=1003,fa=1004,ha=1005,da=1006,pa=1007,ma=1008,va=1009,ga=1010,ya=1011,ba=1012,xa=1013,_a=1014,wa=1015,Ea=1016,Ma=1017,Ta=1018,Sa=1019,Aa=1020,Pa=1021,Ca=1022,Ra=1023,Oa=1024,La=1025,ka=Ra,Na=1026,Ia=1027,Da=2001,Ua=2002,za=2003,Fa=2004,Ba=2100,ja=2101,Ha=2102,Va=2103,Ga=2151,Wa=2200,Ya=2201,Xa=2202,qa=2300,Za=2301,Ka=2302,$a=2400,Qa=2401,Ja=2402,ts=0,es=1,ns=2,rs=3e3,is=3001,os=3007,as=3002,ss=3003,us=3004,ls=3005,cs=3006,fs=3200,hs=3201,ds={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".split(\"\"),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]=\"-\":14===i?n[i]=\"4\":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join(\"\")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*ds.DEG2RAD},radToDeg:function(t){return t*ds.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}};i.prototype={constructor:i,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new i,e=new i),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}};var ps=0;o.DEFAULT_IMAGE=void 0,o.DEFAULT_MAPPING=Jo,o.prototype={constructor:o,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:\"Texture\",generator:\"Texture.toJSON\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=ds.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),e.width=t.width,e.height=t.height,e.getContext(\"2d\").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL(\"image/jpeg\",.6):e.toDataURL(\"image/png\")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:\"dispose\"})},transformUv:function(t){if(this.mapping===Jo){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case sa:t.x=t.x-Math.floor(t.x);break;case ua:t.x=t.x<0?0:1;break;case la:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case sa:t.y=t.y-Math.floor(t.y);break;case ua:t.y=t.y<0?0:1;break;case la:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(o.prototype,r.prototype),a.prototype={constructor:a,isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],u=o[8],l=o[1],c=o[5],f=o[9],h=o[2],d=o[6],p=o[10];if(Math.abs(s-l)<.01&&Math.abs(u-h)<.01&&Math.abs(f-d)<.01){if(Math.abs(s+l)<.1&&Math.abs(u+h)<.1&&Math.abs(f+d)<.1&&Math.abs(a+c+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(a+1)/2,v=(c+1)/2,g=(p+1)/2,y=(s+l)/4,b=(u+h)/4,x=(f+d)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(m),r=y/n,i=b/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(v),n=y/r,i=x/r):g<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(g),n=b/i,r=x/i),this.set(n,r,i,e),this}var _=Math.sqrt((d-f)*(d-f)+(u-h)*(u-h)+(l-s)*(l-s));return Math.abs(_)<.001&&(_=1),this.x=(d-f)/_,this.y=(u-h)/_,this.z=(l-s)/_,this.w=Math.acos((a+c+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new a,e=new a),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},s.prototype={constructor:s,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Object.assign(s.prototype,r.prototype),u.prototype=Object.create(s.prototype),u.prototype.constructor=u,u.prototype.isWebGLRenderTargetCube=!0,l.prototype={constructor:l,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error(\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),u=t.order;return\"XYZ\"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):\"YXZ\"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):\"ZXY\"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):\"ZYX\"===u?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):\"YZX\"===u?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):\"XZY\"===u&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],u=n[9],l=n[2],c=n[6],f=n[10],h=r+s+f;return h>0?(e=.5/Math.sqrt(h+1),this._w=.25/e,this._x=(c-u)*e,this._y=(o-l)*e,this._z=(a-i)*e):r>s&&r>f?(e=2*Math.sqrt(1+r-s-f),this._w=(c-u)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+l)/e):s>f?(e=2*Math.sqrt(1+s-r-f),this._w=(o-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(u+c)/e):(e=2*Math.sqrt(1+f-r-s),this._w=(a-i)/e,this._x=(o+l)/e,this._y=(u+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e;return function(n,r){return void 0===t&&(t=new c),e=n.dot(r)+1,e<1e-6?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,u=e._z,l=e._w;return this._x=n*l+o*a+r*u-i*s,this._y=r*l+o*s+i*a-n*u,this._z=i*l+o*u+n*s-r*a,this._w=o*l-n*a-r*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,a),l=Math.sin((1-e)*u)/s,c=Math.sin(e*u)/s;return this._w=o*l+this._w*c,this._x=n*l+this._x*c,this._y=r*l+this._y*c,this._z=i*l+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(l,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],f=i[o+0],h=i[o+1],d=i[o+2],p=i[o+3];if(c!==p||s!==f||u!==h||l!==d){var m=1-a,v=s*f+u*h+l*d+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,a=Math.sin(a*x)/b}var _=a*g;if(s=s*m+f*_,u=u*m+h*_,l=l*m+d*_,c=c*m+p*_,m===1-a){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=c}}),c.prototype={constructor:c,isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return!1===(e&&e.isEuler)&&console.error(\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"),void 0===t&&(t=new l),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new l),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14];var o=i[3]*e+i[7]*n+i[11]*r+i[15];return this.divideScalar(o)},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,u=s*e+o*r-a*n,l=s*n+a*e-i*r,c=s*r+i*n-o*e,f=-i*e-o*n-a*r;return this.x=u*s+f*-i+l*-a-c*-o,this.y=l*s+f*-o+c*-i-u*-a,this.z=c*s+f*-a+u*-o-l*-i,this},project:function(){var t;return function(e){return void 0===t&&(t=new f),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new f),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new c,e=new c),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn(\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new c),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new c),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(ds.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if(\"number\"==typeof t){console.warn(\"THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).\");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},f.prototype={constructor:f,isMatrix4:!0,set:function(t,e,n,r,i,o,a,s,u,l,c,f,h,d,p,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=f,v[3]=h,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new f).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new c);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error(\"THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if(\"XYZ\"===t.order){var f=o*l,h=o*c,d=a*l,p=a*c;e[0]=s*l,e[4]=-s*c,e[8]=u,e[1]=h+d*u,e[5]=f-p*u,e[9]=-a*s,e[2]=p-f*u,e[6]=d+h*u,e[10]=o*s}else if(\"YXZ\"===t.order){var m=s*l,v=s*c,g=u*l,y=u*c;e[0]=m+y*a,e[4]=g*a-v,e[8]=o*u,e[1]=o*c,e[5]=o*l,e[9]=-a,e[2]=v*a-g,e[6]=y+m*a,e[10]=o*s}else if(\"ZXY\"===t.order){var m=s*l,v=s*c,g=u*l,y=u*c;e[0]=m-y*a,e[4]=-o*c,e[8]=g+v*a,e[1]=v+g*a,e[5]=o*l,e[9]=y-m*a,e[2]=-o*u,e[6]=a,e[10]=o*s}else if(\"ZYX\"===t.order){var f=o*l,h=o*c,d=a*l,p=a*c;e[0]=s*l,e[4]=d*u-h,e[8]=f*u+p,e[1]=s*c,e[5]=p*u+f,e[9]=h*u-d,e[2]=-u,e[6]=a*s,e[10]=o*s}else if(\"YZX\"===t.order){var b=o*s,x=o*u,_=a*s,w=a*u;e[0]=s*l,e[4]=w-b*c,e[8]=_*c+x,e[1]=c,e[5]=o*l,e[9]=-a*l,e[2]=-u*l,e[6]=x*c+_,e[10]=b-w*c}else if(\"XZY\"===t.order){var b=o*s,x=o*u,_=a*s,w=a*u;e[0]=s*l,e[4]=-c,e[8]=u*l,e[1]=b*c+w,e[5]=o*l,e[9]=x*c-_,e[2]=_*c-x,e[6]=a*l,e[10]=w*c+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,u=i+i,l=n*a,c=n*s,f=n*u,h=r*s,d=r*u,p=i*u,m=o*a,v=o*s,g=o*u;return e[0]=1-(h+p),e[4]=c-g,e[8]=f+v,e[1]=c+g,e[5]=1-(l+p),e[9]=d-m,e[2]=f-v,e[6]=d+m,e[10]=1-(l+h),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,n;return function(r,i,o){void 0===t&&(t=new c,e=new c,n=new c);var a=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),t.crossVectors(o,n).normalize(),0===t.lengthSq()&&(n.z+=1e-4,t.crossVectors(o,n).normalize()),e.crossVectors(n,t),a[0]=t.x,a[4]=e.x,a[8]=n.x,a[1]=t.y,a[5]=e.y,a[9]=n.y,a[2]=t.z,a[6]=e.z,a[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],l=n[1],c=n[5],f=n[9],h=n[13],d=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],M=r[12],T=r[1],S=r[5],A=r[9],P=r[13],C=r[2],R=r[6],O=r[10],L=r[14],k=r[3],N=r[7],I=r[11],D=r[15];return i[0]=o*_+a*T+s*C+u*k,i[4]=o*w+a*S+s*R+u*N,i[8]=o*E+a*A+s*O+u*I,i[12]=o*M+a*P+s*L+u*D,i[1]=l*_+c*T+f*C+h*k,i[5]=l*w+c*S+f*R+h*N,i[9]=l*E+c*A+f*O+h*I,i[13]=l*M+c*P+f*L+h*D,i[2]=d*_+p*T+m*C+v*k,i[6]=d*w+p*S+m*R+v*N,i[10]=d*E+p*A+m*O+v*I,i[14]=d*M+p*P+m*L+v*D,i[3]=g*_+y*T+b*C+x*k,i[7]=g*w+y*S+b*R+x*N,i[11]=g*E+y*A+b*O+x*I,i[15]=g*M+y*P+b*L+x*D,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new c);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],u=t[13],l=t[2],c=t[6],f=t[10],h=t[14];return t[3]*(+i*s*c-r*u*c-i*a*f+n*u*f+r*a*h-n*s*h)+t[7]*(+e*s*h-e*u*f+i*o*f-r*o*h+r*u*l-i*s*l)+t[11]*(+e*u*c-e*a*h-i*o*c+n*o*h+i*a*l-n*u*l)+t[15]*(-r*a*l-e*s*c+e*a*f+r*o*c-n*o*f+n*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],l=r[5],c=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],x=d*y*f-g*p*f+g*c*m-l*y*m-d*c*b+l*p*b,_=v*p*f-h*y*f-v*c*m+u*y*m+h*c*b-u*p*b,w=h*g*f-v*d*f+v*l*m-u*g*m-h*l*b+u*d*b,E=v*d*c-h*g*c-v*l*p+u*g*p+h*l*y-u*d*y,M=i*x+o*_+a*w+s*E;if(0===M){var T=\"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/M;return n[0]=x*S,n[1]=(g*p*s-d*y*s-g*a*m+o*y*m+d*a*b-o*p*b)*S,n[2]=(l*y*s-g*c*s+g*a*f-o*y*f-l*a*b+o*c*b)*S,n[3]=(d*c*s-l*p*s-d*a*f+o*p*f+l*a*m-o*c*m)*S,n[4]=_*S,n[5]=(h*y*s-v*p*s+v*a*m-i*y*m-h*a*b+i*p*b)*S,n[6]=(v*c*s-u*y*s-v*a*f+i*y*f+u*a*b-i*c*b)*S,n[7]=(u*p*s-h*c*s+h*a*f-i*p*f-u*a*m+i*c*m)*S,n[8]=w*S,n[9]=(v*d*s-h*g*s-v*o*m+i*g*m+h*o*b-i*d*b)*S,n[10]=(u*g*s-v*l*s+v*o*f-i*g*f-u*o*b+i*l*b)*S,n[11]=(h*l*s-u*d*s-h*o*f+i*d*f+u*o*m-i*l*m)*S,n[12]=E*S,n[13]=(h*g*a-v*d*a+v*o*p-i*g*p-h*o*y+i*d*y)*S,n[14]=(v*l*a-u*g*a-v*o*c+i*g*c+u*o*y-i*l*y)*S,n[15]=(u*d*a-h*l*a+h*o*c-i*d*c-u*o*p+i*l*p)*S,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,u=i*o,l=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,l*a+n,l*s-r*o,0,u*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new c,e=new f);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),u=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var l=1/a,h=1/s,d=1/u;return e.elements[0]*=l,e.elements[1]*=l,e.elements[2]*=l,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,r.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=u,this}}(),makePerspective:function(t,e,n,r,i,o){void 0===o&&console.warn(\"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\");var a=this.elements,s=2*i/(e-t),u=2*i/(n-r),l=(e+t)/(e-t),c=(n+r)/(n-r),f=-(o+i)/(o-i),h=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=h,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),u=1/(n-r),l=1/(o-i),c=(e+t)*s,f=(n+r)*u,h=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-h,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},h.prototype=Object.create(o.prototype),h.prototype.constructor=h,h.prototype.isCubeTexture=!0,Object.defineProperty(h.prototype,\"images\",{get:function(){return this.image},set:function(t){this.image=t}});var ms=new o,vs=new h,gs=[],ys=[];V.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var bs=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;Y.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},Y.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},Y.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},Y.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},Y.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n};var xs={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var r in t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}},_s={alphamap_fragment:\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\",alphamap_pars_fragment:\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\",alphatest_fragment:\"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\",aomap_fragment:\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\",aomap_pars_fragment:\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\",begin_vertex:\"\\nvec3 transformed = vec3( position );\\n\",beginnormal_vertex:\"\\nvec3 objectNormal = vec3( normal );\\n\",bsdfs:\"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t\\tif( decayExponent > 0.0 ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\t\\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t\\treturn distanceFalloff * maxDistanceCutoffFactor;\\n#else\\n\\t\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 P = geometry.position;\\n\\tfloat theta = acos( dot( N, V ) );\\n\\tvec2 uv = vec2(\\n\\t\\tsqrt( saturate( roughness ) ),\\n\\t\\tsaturate( theta / ( 0.5 * PI ) ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\\n\\tint config = 0;\\n\\tif ( L[0].z > 0.0 ) config += 1;\\n\\tif ( L[1].z > 0.0 ) config += 2;\\n\\tif ( L[2].z > 0.0 ) config += 4;\\n\\tif ( L[3].z > 0.0 ) config += 8;\\n\\tn = 0;\\n\\tif ( config == 0 ) {\\n\\t} else if ( config == 1 ) {\\n\\t\\tn = 3;\\n\\t\\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\\n\\t\\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\\n\\t} else if ( config == 2 ) {\\n\\t\\tn = 3;\\n\\t\\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\\n\\t\\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\\n\\t} else if ( config == 3 ) {\\n\\t\\tn = 4;\\n\\t\\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\\n\\t\\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\\n\\t} else if ( config == 4 ) {\\n\\t\\tn = 3;\\n\\t\\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\\n\\t\\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\\n\\t} else if ( config == 5 ) {\\n\\t\\tn = 0;\\n\\t} else if ( config == 6 ) {\\n\\t\\tn = 4;\\n\\t\\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\\n\\t\\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\\n\\t} else if ( config == 7 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\\n\\t\\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\\n\\t} else if ( config == 8 ) {\\n\\t\\tn = 3;\\n\\t\\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\\n\\t\\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\\n\\t\\tL[2] =  L[3];\\n\\t} else if ( config == 9 ) {\\n\\t\\tn = 4;\\n\\t\\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\\n\\t\\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\\n\\t} else if ( config == 10 ) {\\n\\t\\tn = 0;\\n\\t} else if ( config == 11 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = L[3];\\n\\t\\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\\n\\t\\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\\n\\t} else if ( config == 12 ) {\\n\\t\\tn = 4;\\n\\t\\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\\n\\t\\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\\n\\t} else if ( config == 13 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = L[3];\\n\\t\\tL[3] = L[2];\\n\\t\\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\\n\\t\\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\\n\\t} else if ( config == 14 ) {\\n\\t\\tn = 5;\\n\\t\\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\\n\\t\\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\\n\\t} else if ( config == 15 ) {\\n\\t\\tn = 4;\\n\\t}\\n\\tif ( n == 3 )\\n\\t\\tL[3] = L[0];\\n\\tif ( n == 4 )\\n\\t\\tL[4] = L[0];\\n}\\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\\n\\tfloat cosTheta = dot( v1, v2 );\\n\\tfloat theta = acos( cosTheta );\\n\\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\\n\\treturn res;\\n}\\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\\n\\trectPoints[0] = pos - halfWidth - halfHeight;\\n\\trectPoints[1] = pos + halfWidth - halfHeight;\\n\\trectPoints[2] = pos + halfWidth + halfHeight;\\n\\trectPoints[3] = pos - halfWidth + halfHeight;\\n}\\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 P = geometry.position;\\n\\tvec3 T1, T2;\\n\\tT1 = normalize(V - N * dot( V, N ));\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\\n\\tvec3 clippedRect[5];\\n\\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\\n\\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\\n\\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\\n\\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\\n\\tint n;\\n\\tclipQuadToHorizon(clippedRect, n);\\n\\tif ( n == 0 )\\n\\t\\treturn vec3( 0, 0, 0 );\\n\\tclippedRect[0] = normalize( clippedRect[0] );\\n\\tclippedRect[1] = normalize( clippedRect[1] );\\n\\tclippedRect[2] = normalize( clippedRect[2] );\\n\\tclippedRect[3] = normalize( clippedRect[3] );\\n\\tclippedRect[4] = normalize( clippedRect[4] );\\n\\tfloat sum = 0.0;\\n\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\\n\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\\n\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\\n\\tif (n >= 4)\\n\\t\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\\n\\tif (n == 5)\\n\\t\\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\\n\\tsum = max( 0.0, sum );\\n\\tvec3 Lo_i = vec3( sum, sum, sum );\\n\\treturn Lo_i;\\n}\\nvec3 Rect_Area_Light_Specular_Reflectance(\\n\\t\\tconst in GeometricContext geometry,\\n\\t\\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\\n\\t\\tconst in float roughness,\\n\\t\\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\\n\\tvec3 rectPoints[4];\\n\\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\\n\\tvec2 uv = ltcTextureCoords( geometry, roughness );\\n\\tvec4 brdfLtcApproxParams, t;\\n\\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\\n\\tt = texture2D( ltcMat, uv );\\n\\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\\n\\tmat3 brdfLtcApproxMat = mat3(\\n\\t\\tvec3(   1,   0, t.y ),\\n\\t\\tvec3(   0, t.z,   0 ),\\n\\t\\tvec3( t.w,   0, t.x )\\n\\t);\\n\\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\\n\\tspecularReflectance *= brdfLtcScalar;\\n\\treturn specularReflectance;\\n}\\nvec3 Rect_Area_Light_Diffuse_Reflectance(\\n\\t\\tconst in GeometricContext geometry,\\n\\t\\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\\n\\tvec3 rectPoints[4];\\n\\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\\n\\tmat3 diffuseBrdfMat = mat3(1);\\n\\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\\n\\treturn diffuseReflectance;\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\",bumpmap_pars_fragment:\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = dFdx( surf_pos );\\n\\t\\tvec3 vSigmaY = dFdy( surf_pos );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\",clipping_planes_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\\n\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t\\t\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\\n\\t\\t\\tvec4 plane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t\\n\\t#endif\\n#endif\\n\",clipping_planes_pars_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\",clipping_planes_pars_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\",clipping_planes_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\",color_fragment:\"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\",color_pars_fragment:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\",color_pars_vertex:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\",color_vertex:\"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\",common:\"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transpose( const in mat3 v ) {\\n\\tmat3 tmp;\\n\\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\\n\\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\\n\\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\\n\\treturn tmp;\\n}\\n\",cube_uv_reflection_fragment:\"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\",defaultnormal_vertex:\"#ifdef FLIP_SIDED\\n\\tobjectNormal = -objectNormal;\\n#endif\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n\",displacementmap_pars_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\",displacementmap_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\",emissivemap_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\",emissivemap_pars_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\",encodings_fragment:\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\",encodings_pars_fragment:\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM            = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\\n\\tfloat D      = max( maxRange / maxRGB, 1.0 );\\n\\tD            = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract(Le);\\n\\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max(vRGB, 0.0), 1.0 );\\n}\\n\",envmap_fragment:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\\t\\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\",envmap_pars_fragment:\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\",envmap_pars_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\",envmap_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\",fog_vertex:\"\\n#ifdef USE_FOG\\nfogDepth = -mvPosition.z;\\n#endif\",fog_pars_vertex:\"#ifdef USE_FOG\\n  varying float fogDepth;\\n#endif\\n\",fog_fragment:\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\",fog_pars_fragment:\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n\",gradientmap_pars_fragment:\"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",lightmap_fragment:\"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\",lightmap_pars_fragment:\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\",lights_lambert_vertex:\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",lights_pars:\"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltcMat;\\tuniform sampler2D ltcMag;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\",lights_phong_fragment:\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\",lights_phong_pars_fragment:\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 matDiffColor = material.diffuseColor;\\n\\t\\tvec3 matSpecColor = material.specularColor;\\n\\t\\tvec3 lightColor   = rectAreaLight.color;\\n\\t\\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\\n\\t\\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\\n\\t\\t\\t\\troughness,\\n\\t\\t\\t\\tltcMat, ltcMag );\\n\\t\\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\\n\\t\\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\\n\\t\\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\\n\\t}\\n#endif\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\",lights_physical_fragment:\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\",lights_physical_pars_fragment:\"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 matDiffColor = material.diffuseColor;\\n\\t\\tvec3 matSpecColor = material.specularColor;\\n\\t\\tvec3 lightColor   = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\\n\\t\\t\\t\\troughness,\\n\\t\\t\\t\\tltcMat, ltcMag );\\n\\t\\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\\n\\t\\t\\t\\tgeometry,\\n\\t\\t\\t\\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\\n\\t\\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\\n\\t\\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\",lights_template:\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\\n\\t#endif\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\\n\\t#ifndef STANDARD\\n\\t\\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\\n\\t#else\\n\\t\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n\\t#endif\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\",logdepthbuf_fragment:\"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n#endif\",logdepthbuf_pars_fragment:\"#ifdef USE_LOGDEPTHBUF\\n\\tuniform float logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n#endif\\n\",logdepthbuf_pars_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#endif\\n\\tuniform float logDepthBufFC;\\n#endif\",logdepthbuf_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\t#endif\\n#endif\\n\",map_fragment:\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\",map_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\",map_particle_fragment:\"#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\",map_particle_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform vec4 offsetRepeat;\\n\\tuniform sampler2D map;\\n#endif\\n\",metalnessmap_fragment:\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.r;\\n#endif\\n\",metalnessmap_pars_fragment:\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\",morphnormal_vertex:\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\",morphtarget_pars_vertex:\"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\",morphtarget_vertex:\"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\",normal_flip:\"#ifdef DOUBLE_SIDED\\n\\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n#else\\n\\tfloat flipNormal = 1.0;\\n#endif\\n\",normal_fragment:\"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal ) * flipNormal;\\n#endif\\n#ifdef USE_NORMALMAP\\n\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\",normalmap_pars_fragment:\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\tvec3 q0 = dFdx( eye_pos.xyz );\\n\\t\\tvec3 q1 = dFdy( eye_pos.xyz );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\\t\\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\\n\",packing:\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 1.0 - 2.0 * rgb.xyz;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\",premultiplied_alpha_fragment:\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\",project_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 mvPosition = modelViewMatrix * skinned;\\n#else\\n\\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n#endif\\ngl_Position = projectionMatrix * mvPosition;\\n\",roughnessmap_fragment:\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.r;\\n#endif\\n\",roughnessmap_pars_fragment:\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\",shadowmap_pars_fragment:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",shadowmap_pars_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\",shadowmap_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\",shadowmask_pars_fragment:\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\",skinbase_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\",skinning_pars_vertex:\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureWidth;\\n\\t\\tuniform int boneTextureHeight;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureWidth ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureWidth ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureWidth );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureHeight );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\",skinning_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\tskinned  = bindMatrixInverse * skinned;\\n#endif\\n\",skinnormal_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\",specularmap_fragment:\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\",specularmap_pars_fragment:\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\",tonemapping_fragment:\"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\",tonemapping_pars_fragment:\"#define saturate(a) clamp( a, 0.0, 1.0 )\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\",uv_pars_fragment:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\",uv_pars_vertex:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform vec4 offsetRepeat;\\n#endif\\n\",uv_vertex:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n#endif\",uv2_pars_fragment:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_pars_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\",worldpos_vertex:\"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\\t#ifdef USE_SKINNING\\n\\t\\tvec4 worldPosition = modelMatrix * skinned;\\n\\t#else\\n\\t\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\\t#endif\\n#endif\\n\",cube_frag:\"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\",cube_vert:\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\",depth_frag:\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\",depth_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\",distanceRGBA_frag:\"uniform vec3 lightPos;\\nvarying vec4 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\\n}\\n\",distanceRGBA_vert:\"varying vec4 vWorldPosition;\\n#include <common>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <skinbase_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition;\\n}\\n\",equirect_frag:\"uniform sampler2D tEquirect;\\nuniform float tFlip;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\",equirect_vert:\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\",linedashed_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",linedashed_vert:\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshbasic_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshbasic_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshlambert_frag:\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <normal_flip>\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshlambert_vert:\"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshphong_frag:\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshphong_vert:\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshphysical_frag:\"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <lights_pars>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_template>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshphysical_vert:\"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",normal_frag:\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_flip>\\n\\t#include <normal_fragment>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n\",normal_vert:\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n\",points_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",points_vert:\"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tgl_PointSize = size * ( scale / - mvPosition.z );\\n\\t#else\\n\\t\\tgl_PointSize = size;\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",shadow_frag:\"uniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <bsdfs>\\n#include <lights_pars>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\\n}\\n\",shadow_vert:\"#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n}\\n\"};X.prototype={constructor:X,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):\"number\"==typeof t?this.setHex(t):\"string\"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=ds.euclideanModulo(e,1),n=ds.clamp(n,0,1),r=ds.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn(\"THREE.Color: Alpha component of \"+t+\" will be ignored.\")}var n;if(n=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case\"rgb\":case\"rgba\":if(r=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case\"hsl\":case\"hsla\":if(r=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\\#([A-Fa-f0-9]+)$/.exec(t)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(t&&t.length>0){var l=ws[t];void 0!==l?this.setHex(l):console.warn(\"THREE.Color: Unknown color \"+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\"000000\"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),l=(u+s)/2;if(u===s)e=0,n=0;else{var c=s-u;switch(n=l<=.5?c/(s+u):c/(2-s-u),s){case i:e=(o-a)/c+(o<a?6:0);break;case o:e=(a-i)/c+2;break;case a:e=(i-o)/c+4}e/=6}return r.h=e,r.s=n,r.l=l,r},getStyle:function(){return\"rgb(\"+(255*this.r|0)+\",\"+(255*this.g|0)+\",\"+(255*this.b|0)+\")\"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q.prototype=Object.create(o.prototype),q.prototype.constructor=q,q.prototype.isDataTexture=!0;var Es={common:{diffuse:{value:new X(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new i(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new X(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new X(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new a(0,0,1,1)}}},Ms={basic:{uniforms:xs.merge([Es.common,Es.aomap,Es.lightmap,Es.fog]),vertexShader:_s.meshbasic_vert,fragmentShader:_s.meshbasic_frag},lambert:{uniforms:xs.merge([Es.common,Es.aomap,Es.lightmap,Es.emissivemap,Es.fog,Es.lights,{emissive:{value:new X(0)}}]),vertexShader:_s.meshlambert_vert,fragmentShader:_s.meshlambert_frag},phong:{uniforms:xs.merge([Es.common,Es.aomap,Es.lightmap,Es.emissivemap,Es.bumpmap,Es.normalmap,Es.displacementmap,Es.gradientmap,Es.fog,Es.lights,{emissive:{value:new X(0)},specular:{value:new X(1118481)},shininess:{value:30}}]),vertexShader:_s.meshphong_vert,fragmentShader:_s.meshphong_frag},standard:{uniforms:xs.merge([Es.common,Es.aomap,Es.lightmap,Es.emissivemap,Es.bumpmap,Es.normalmap,Es.displacementmap,Es.roughnessmap,Es.metalnessmap,Es.fog,Es.lights,{emissive:{value:new X(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:_s.meshphysical_vert,fragmentShader:_s.meshphysical_frag},points:{uniforms:xs.merge([Es.points,Es.fog]),vertexShader:_s.points_vert,fragmentShader:_s.points_frag},dashed:{uniforms:xs.merge([Es.common,Es.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:_s.linedashed_vert,fragmentShader:_s.linedashed_frag},depth:{uniforms:xs.merge([Es.common,Es.displacementmap]),vertexShader:_s.depth_vert,fragmentShader:_s.depth_frag},normal:{uniforms:xs.merge([Es.common,Es.bumpmap,Es.normalmap,Es.displacementmap,{opacity:{value:1}}]),vertexShader:_s.normal_vert,fragmentShader:_s.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:_s.cube_vert,fragmentShader:_s.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:_s.equirect_vert,fragmentShader:_s.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new c}},vertexShader:_s.distanceRGBA_vert,fragmentShader:_s.distanceRGBA_frag}};Ms.physical={uniforms:xs.merge([Ms.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:_s.meshphysical_vert,fragmentShader:_s.meshphysical_frag},Z.prototype={constructor:Z,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new i;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new i).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new i).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var Ts=0;Q.prototype={constructor:Q,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=\"overdraw\"===e?Number(n):n:console.warn(\"THREE.\"+this.type+\": '\"+e+\"' is not a property of this material.\")}else console.warn(\"THREE.Material: '\"+e+\"' parameter is undefined.\")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.4,type:\"Material\",generator:\"Material.toJSON\"}};if(r.uuid=this.uuid,r.type=this.type,\"\"!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==vo&&(r.blending=this.blending),this.shading!==co&&(r.shading=this.shading),this.side!==ao&&(r.side=this.side),this.vertexColors!==fo&&(r.vertexColors=this.vertexColors),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,this.alphaTest>0&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),\"round\"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),\"round\"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n){var i=e(t.textures),o=e(t.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:\"update\"})},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Object.assign(Q.prototype,r.prototype),J.prototype=Object.create(Q.prototype),J.prototype.constructor=J,J.prototype.isShaderMaterial=!0,J.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=xs.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},J.prototype.toJSON=function(t){var e=Q.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},tt.prototype=Object.create(Q.prototype),tt.prototype.constructor=tt,tt.prototype.isMeshDepthMaterial=!0,tt.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},et.prototype={constructor:et,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],c=t[s+1],f=t[s+2];l<e&&(e=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>o&&(o=c),f>a&&(a=f)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),c=t.getY(s),f=t.getZ(s);l<e&&(e=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>o&&(o=c),f>a&&(a=f)}return this.min.set(e,n,r),this.max.set(i,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new c;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new c;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new c;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t=new c;return function(e){var n=this;return e.updateMatrixWorld(!0),e.traverse(function(e){var r,i,o=e.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(r=0,i=a.length;r<i;r++)t.copy(a[r]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(r=0,i=s.count;r<i;r++)t.fromBufferAttribute(s,r).applyMatrix4(e.matrixWorld),n.expandByPoint(t)}}),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new c).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new c),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new c).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new c;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new c;return function(e){var n=e||new nt;return this.getCenter(n.center),n.radius=.5*this.getSize(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new c,new c,new c,new c,new c,new c,new c,new c];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},nt.prototype={constructor:nt,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t;return function(e,n){void 0===t&&(t=new et);var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new c;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new et;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},rt.prototype={constructor:rt,isMatrix3:!0,set:function(t,e,n,r,i,o,a,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=a,l[3]=e,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new c);for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*o*l-e*a*u-n*i*l+n*a*s+r*i*u-r*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error(\"THREE.Matrix3.getInverse no longer takes a Matrix4 argument.\");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],f=n[7],h=n[8],d=h*u-l*f,p=l*c-h*s,m=f*s-u*c,v=i*d+o*p+a*m;if(0===v){var g=\"THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0\";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(a*f-h*o)*y,r[2]=(l*o-a*u)*y,r[3]=p*y,r[4]=(h*i-a*c)*y,r[5]=(a*s-l*i)*y,r[6]=m*y,r[7]=(o*c-f*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},it.prototype={constructor:it,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new c,e=new c;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new c).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new c;return function(e,n){var r=n||new c,i=e.delta(t),o=this.normal.dot(i);if(0!==o){var a=-(e.start.dot(this.normal)+this.constant)/o;if(!(a<0||a>1))return r.copy(i).multiplyScalar(a).add(e.start)}else if(0===this.distanceToPoint(e.start))return r.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new c).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new c,e=new rt;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},ot.prototype={constructor:ot,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],l=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return e[0].setComponents(a-r,c-s,p-f,y-m).normalize(),e[1].setComponents(a+r,c+s,p+f,y+m).normalize(),e[2].setComponents(a+i,c+u,p+h,y+v).normalize(),e[3].setComponents(a-i,c-u,p-h,y-v).normalize(),e[4].setComponents(a-o,c-l,p-d,y-g).normalize(),e[5].setComponents(a+o,c+l,p+d,y+g).normalize(),this},intersectsObject:function(){var t=new nt;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new nt;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new c,e=new c;return function(n){for(var r=this.planes,i=0;i<6;i++){var o=r[i];t.x=o.normal.x>0?n.min.x:n.max.x,e.x=o.normal.x>0?n.max.x:n.min.x,t.y=o.normal.y>0?n.min.y:n.max.y,e.y=o.normal.y>0?n.max.y:n.min.y,t.z=o.normal.z>0?n.min.z:n.max.z,e.z=o.normal.z>0?n.max.z:n.min.z;var a=o.distanceToPoint(t),s=o.distanceToPoint(e);if(a<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},st.prototype={constructor:st,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new c).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new c;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new c;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new c;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new c,e=new c,n=new c;return function(r,i,o,a){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,u,l,c,f=.5*r.distanceTo(i),h=-this.direction.dot(e),d=n.dot(this.direction),p=-n.dot(e),m=n.lengthSq(),v=Math.abs(1-h*h);if(v>0)if(s=h*p-d,u=h*d-p,c=f*v,s>=0)if(u>=-c)if(u<=c){var g=1/v;s*=g,u*=g,l=s*(s+h*u+2*d)+u*(h*s+u+2*p)+m}else u=f,s=Math.max(0,-(h*u+d)),l=-s*s+u*(u+2*p)+m;else u=-f,s=Math.max(0,-(h*u+d)),l=-s*s+u*(u+2*p)+m;else u<=-c?(s=Math.max(0,-(-h*f+d)),u=s>0?-f:Math.min(Math.max(-f,-p),f),l=-s*s+u*(u+2*p)+m):u<=c?(s=0,u=Math.min(Math.max(-f,-p),f),l=u*(u+2*p)+m):(s=Math.max(0,-(h*f+d)),u=s>0?f:Math.min(Math.max(-f,-p),f),l=-s*s+u*(u+2*p)+m);else u=h>0?-f:f,s=Math.max(0,-(h*u+d)),l=-s*s+u*(u+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(u).add(t),l}}(),intersectSphere:function(){var t=new c;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,u=r+a;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(n=(t.min.x-f.x)*u,r=(t.max.x-f.x)*u):(n=(t.max.x-f.x)*u,r=(t.min.x-f.x)*u),l>=0?(i=(t.min.y-f.y)*l,o=(t.max.y-f.y)*l):(i=(t.max.y-f.y)*l,o=(t.min.y-f.y)*l),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),c>=0?(a=(t.min.z-f.z)*c,s=(t.max.z-f.z)*c):(a=(t.max.z-f.z)*c,s=(t.min.z-f.z)*c),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new c;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new c,e=new c,n=new c,r=new c;return function(i,o,a,s,u){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var l,c=this.direction.dot(r);if(c>0){if(s)return null;l=1}else{if(!(c<0))return null;l=-1,c=-c}t.subVectors(this.origin,i);var f=l*this.direction.dot(n.crossVectors(t,n));if(f<0)return null;var h=l*this.direction.dot(e.cross(t));if(h<0)return null;if(f+h>c)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/c,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},ut.RotationOrders=[\"XYZ\",\"YZX\",\"ZXY\",\"XZY\",\"YXZ\",\"ZYX\"],ut.DefaultOrder=\"XYZ\",ut.prototype={constructor:ut,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=ds.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],u=i[1],l=i[5],c=i[9],f=i[2],h=i[6],d=i[10];return e=e||this._order,\"XYZ\"===e?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,l),this._z=0)):\"YXZ\"===e?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-f,o),this._z=0)):\"ZXY\"===e?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(u,o))):\"ZYX\"===e?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(h,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,l))):\"YZX\"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,d))):\"XZY\"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn(\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \"+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new f),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new l;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new c(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},lt.prototype={constructor:lt,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}};var Ss=0;ct.DefaultUp=new c(0,1,0),ct.DefaultMatrixAutoUpdate=!0,ct.prototype={constructor:ct,isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new l;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new c(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new c(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new c(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new c;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new c(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new c(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new c(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new f;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new f;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:\"added\"}),this.children.push(t)):console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:\"removed\"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty(\"id\",t)},getObjectByName:function(t){return this.getObjectByProperty(\"name\",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n],o=i.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){var e=t||new c;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new c,e=new c;return function(n){var r=n||new l;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,e),r}}(),getWorldRotation:function(){var t=new l;return function(e){var n=e||new ut;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new c,e=new l;return function(n){var r=n||new c;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new l;return function(e){var n=e||new c;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}var n=void 0===t||\"\"===t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{}},r.metadata={version:4.4,type:\"Object\",generator:\"Object3D.toJSON\"});var i={};if(i.uuid=this.uuid,i.type=this.type,\"\"!==this.name&&(i.name=this.name),\"{}\"!==JSON.stringify(this.userData)&&(i.userData=this.userData),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),i.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),i.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),i.material=this.material.uuid),this.children.length>0){i.children=[];for(var o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(t).object)}if(n){var a=e(t.geometries),s=e(t.materials),u=e(t.textures),l=e(t.images);a.length>0&&(r.geometries=a),s.length>0&&(r.materials=s),u.length>0&&(r.textures=u),l.length>0&&(r.images=l)}return r.object=i,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}},Object.assign(ct.prototype,r.prototype),ft.prototype={constructor:ft,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return(t||new c).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new c).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new c;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new c,e=new c;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),o=e.dot(t),a=o/i;return r&&(a=ds.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new c;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},ht.normal=function(){var t=new c;return function(e,n,r,i){var o=i||new c;o.subVectors(r,n),t.subVectors(e,n),o.cross(t);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),ht.barycoordFromPoint=function(){var t=new c,e=new c,n=new c;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var u=t.dot(t),l=t.dot(e),f=t.dot(n),h=e.dot(e),d=e.dot(n),p=u*h-l*l,m=s||new c;if(0===p)return m.set(-2,-1,-1);var v=1/p,g=(h*f-l*d)*v,y=(u*d-l*f)*v;return m.set(1-g-y,y,g)}}(),ht.containsPoint=function(){var t=new c;return function(e,n,r,i){var o=ht.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),ht.prototype={constructor:ht,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new c,e=new c;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new c).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return ht.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new it).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return ht.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return ht.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,o){void 0===t&&(t=new it,e=[new ft,new ft,new ft],n=new c,r=new c);var a=o||new c,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var l=n.distanceToSquared(r);l<s&&(s=l,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},dt.prototype={constructor:dt,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},pt.prototype=Object.create(Q.prototype),pt.prototype.constructor=pt,pt.prototype.isMeshBasicMaterial=!0,pt.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},mt.prototype={constructor:mt,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn(\"THREE.BufferAttribute.copyColorsArray(): color is undefined\",r),o=new X),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,o=t.length;r<o;r++){var a=t[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\",r),a=new i),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn(\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\",r),o=new c),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn(\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\",r),o=new a),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},vt.prototype=Object.create(mt.prototype),vt.prototype.constructor=vt,gt.prototype=Object.create(mt.prototype),gt.prototype.constructor=gt,yt.prototype=Object.create(mt.prototype),yt.prototype.constructor=yt,bt.prototype=Object.create(mt.prototype),bt.prototype.constructor=bt,xt.prototype=Object.create(mt.prototype),xt.prototype.constructor=xt,_t.prototype=Object.create(mt.prototype),_t.prototype.constructor=_t,wt.prototype=Object.create(mt.prototype),wt.prototype.constructor=wt,Et.prototype=Object.create(mt.prototype),Et.prototype.constructor=Et,Mt.prototype=Object.create(mt.prototype),Mt.prototype.constructor=Mt,Object.assign(Tt.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==r&&(r=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:r})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,o=t.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,u=t.morphTargets,l=u.length;if(l>0){e=[];for(var c=0;c<l;c++)e[c]=[];this.morphTargets.position=e}var f,h=t.morphNormals,d=h.length;if(d>0){f=[];for(var c=0;c<d;c++)f[c]=[];this.morphTargets.normal=f}for(var p=t.skinIndices,m=t.skinWeights,v=p.length===r.length,g=m.length===r.length,c=0;c<n.length;c++){var y=n[c];this.vertices.push(r[y.a],r[y.b],r[y.c]);var b=y.vertexNormals;if(3===b.length)this.normals.push(b[0],b[1],b[2]);else{var x=y.normal;this.normals.push(x,x,x)}var _=y.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=y.color;this.colors.push(w,w,w)}if(!0===a){var E=o[0][c];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \",c),this.uvs.push(new i,new i,new i))}if(!0===s){var E=o[1][c];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \",c),this.uvs2.push(new i,new i,new i))}for(var M=0;M<l;M++){var T=u[M].vertices;e[M].push(T[y.a],T[y.b],T[y.c])}for(var M=0;M<d;M++){var S=h[M].vertexNormals[c];f[M].push(S.a,S.b,S.c)}v&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var As=0;Pt.prototype={constructor:Pt,isGeometry:!0,applyMatrix:function(t){for(var e=(new rt).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new f),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new f),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new f),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new f),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new f),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ct),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,r,i){var o=void 0!==s?[h[t].clone(),h[e].clone(),h[r].clone()]:[],a=void 0!==u?[n.colors[t].clone(),n.colors[e].clone(),n.colors[r].clone()]:[],c=new dt(t,e,r,o,a,i);n.faces.push(c),void 0!==l&&n.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[r].clone()]),void 0!==f&&n.faceVertexUvs[1].push([p[t].clone(),p[e].clone(),p[r].clone()])}var n=this,r=null!==t.index?t.index.array:void 0,o=t.attributes,a=o.position.array,s=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,l=void 0!==o.uv?o.uv.array:void 0,f=void 0!==o.uv2?o.uv2.array:void 0;void 0!==f&&(this.faceVertexUvs[1]=[]);for(var h=[],d=[],p=[],m=0,v=0;m<a.length;m+=3,v+=2)n.vertices.push(new c(a[m],a[m+1],a[m+2])),void 0!==s&&h.push(new c(s[m],s[m+1],s[m+2])),void 0!==u&&n.colors.push(new X(u[m],u[m+1],u[m+2])),void 0!==l&&d.push(new i(l[v],l[v+1])),void 0!==f&&p.push(new i(f[v],f[v+1]));if(void 0!==r){var g=t.groups;if(g.length>0)for(var m=0;m<g.length;m++)for(var y=g[m],b=y.start,x=y.count,v=b,_=b+x;v<_;v+=3)e(r[v],r[v+1],r[v+2],y.materialIndex);else for(var m=0;m<r.length;m+=3)e(r[m],r[m+1],r[m+2])}else for(var m=0;m<a.length/3;m+=3)e(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new f;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new c,e=new c,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,r,i,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new c;if(t){var s,u,l,f=new c,h=new c;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],u=this.vertices[o.b],l=this.vertices[o.c],f.subVectors(l,u),h.subVectors(s,u),f.cross(h),a[o.a].add(f),a[o.b].add(f),a[o.c].add(f)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o=this.faces[r],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){o=this.faces[r];var d=o.vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for(i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Pt;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,s,u=this.morphNormals[t].faceNormals,l=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)a=new c,s={a:new c,b:new c,c:new c},u.push(a),l.push(s)}var f=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],a=f.faceNormals[n],s=f.vertexNormals[n],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new nt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!1===(t&&t.isGeometry))return void console.error(\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\",t);var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],c=t.faceVertexUvs[0],f=this.colors,h=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new rt).getNormalMatrix(e));for(var d=0,p=a.length;d<p;d++){var m=a[d],v=m.clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(var d=0,p=h.length;d<p;d++)f.push(h[d].clone());for(d=0,p=u.length;d<p;d++){var g,y,b,x=u[d],_=x.vertexNormals,w=x.vertexColors;g=new dt(x.a+i,x.b+i,x.c+i),g.normal.copy(x.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var E=0,M=_.length;E<M;E++)y=_[E].clone(),void 0!==r&&y.applyMatrix3(r).normalize(),g.vertexNormals.push(y);g.color.copy(x.color);for(var E=0,M=w.length;E<M;E++)b=w[E],g.vertexColors.push(b.clone());g.materialIndex=x.materialIndex+n,s.push(g)}for(d=0,p=c.length;d<p;d++){var T=c[d],S=[];if(void 0!==T){for(var E=0,M=T.length;E<M;E++)S.push(T[E].clone());l.push(S)}}},mergeMesh:function(t){if(!1===(t&&t.isMesh))return void console.error(\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,r,i,o,a,s,u={},l=[],c=[],f=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],e=Math.round(t.x*f)+\"_\"+Math.round(t.y*f)+\"_\"+Math.round(t.z*f),void 0===u[e]?(u[e]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[u[e]];var h=[];for(n=0,r=this.faces.length;n<r;n++){i=this.faces[n],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var p=h[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,r=0;r<n;r++)e[r]._id=r;e.sort(t);var i,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(i=[]),s&&s.length===n&&(o=[]);for(var r=0;r<n;r++){var u=e[r]._id;i&&i.push(a[u]),o&&o.push(s[u])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==h[e]?h[e]:(h[e]=f.length/3,f.push(t.x,t.y,t.z),h[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==p[e]?p[e]:(p[e]=d.length,d.push(t.getHex()),p[e])}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==v[e]?v[e]:(v[e]=m.length/2,m.push(t.x,t.y),v[e])}var i={metadata:{version:4.4,type:\"Geometry\",generator:\"Geometry.toJSON\"}};if(i.uuid=this.uuid,i.type=this.type,\"\"!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var l=this.vertices[u];s.push(l.x,l.y,l.z)}for(var c=[],f=[],h={},d=[],p={},m=[],v={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=void 0!==this.faceVertexUvs[0][u],b=g.normal.length()>0,x=g.vertexNormals.length>0,_=1!==g.color.r||1!==g.color.g||1!==g.color.b,w=g.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,!0),E=t(E,2,!1),E=t(E,3,y),E=t(E,4,b),E=t(E,5,x),E=t(E,6,_),E=t(E,7,w),c.push(E),c.push(g.a,g.b,g.c),c.push(g.materialIndex),y){var M=this.faceVertexUvs[0][u];c.push(r(M[0]),r(M[1]),r(M[2]))}if(b&&c.push(e(g.normal)),x){var T=g.vertexNormals;c.push(e(T[0]),e(T[1]),e(T[2]))}if(_&&c.push(n(g.color)),w){var S=g.vertexColors;c.push(n(S[0]),n(S[1]),n(S[2]))}}return i.data={},i.data.vertices=s,i.data.normals=f,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=c,i},clone:function(){return(new Pt).copy(this)},copy:function(t){var e,n,r,i,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,n=u.length;e<n;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,n=l.length;e<n;e++)this.faces.push(l[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=c.length;r<i;r++){var f=c[r],h=[];for(o=0,a=f.length;o<a;o++){var d=f[o];h.push(d.clone())}this.faceVertexUvs[e].push(h)}}var p=t.morphTargets;for(e=0,n=p.length;e<n;e++){var m={};if(m.name=p[e].name,void 0!==p[e].vertices)for(m.vertices=[],r=0,i=p[e].vertices.length;r<i;r++)m.vertices.push(p[e].vertices[r].clone());if(void 0!==p[e].normals)for(m.normals=[],r=0,i=p[e].normals.length;r<i;r++)m.normals.push(p[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,n=v.length;e<n;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,i=v[e].vertexNormals.length;r<i;r++){var y=v[e].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,i=v[e].faceNormals.length;r<i;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var x=t.skinWeights;for(e=0,n=x.length;e<n;e++)this.skinWeights.push(x[e].clone());var _=t.skinIndices;for(e=0,n=_.length;e<n;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var E=t.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Object.assign(Pt.prototype,r.prototype),Ct.prototype={constructor:Ct,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(St(t)>65535?wt:xt)(t,1):this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn(\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"),void this.addAttribute(t,new mt(arguments[1],arguments[2]))):\"index\"===t?(console.warn(\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new rt).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new f),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new f),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new f),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new f),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new f),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new ct),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Et(3*e.vertices.length,3),r=new Et(3*e.colors.length,3);if(this.addAttribute(\"position\",n.copyVector3sArray(e.vertices)),this.addAttribute(\"color\",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Et(e.lineDistances.length,1);this.addAttribute(\"lineDistance\",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var r;return!0===e.verticesNeedUpdate&&(r=this.attributes.position,void 0!==r&&(r.copyVector3sArray(e.vertices),r.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(r=this.attributes.normal,void 0!==r&&(r.copyVector3sArray(e.normals),r.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(r=this.attributes.color,void 0!==r&&(r.copyColorsArray(e.colors),r.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(r=this.attributes.uv,void 0!==r&&(r.copyVector2sArray(e.uvs),r.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(r=this.attributes.lineDistance,void 0!==r&&(r.copyArray(e.lineDistances),r.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Tt).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute(\"position\",new mt(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute(\"normal\",new mt(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute(\"color\",new mt(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute(\"uv\",new mt(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute(\"uv2\",new mt(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=St(t.indices)>65535?Uint32Array:Uint16Array,s=new a(3*t.indices.length);this.setIndex(new mt(s,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var l=[],c=t.morphTargets[u],f=0,h=c.length;f<h;f++){var d=c[f],p=new Et(3*d.length,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[u]=l}if(t.skinIndices.length>0){var m=new Et(4*t.skinIndices.length,4);this.addAttribute(\"skinIndex\",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new Et(4*t.skinWeights.length,4);this.addAttribute(\"skinWeight\",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new et);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new et,e=new c;return function(){null===this.boundingSphere&&(this.boundingSphere=new nt);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute(\"normal\",new mt(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,u,l,f=e.normal.array,h=new c,d=new c,p=new c,m=new c,v=new c;if(t){var g=t.array;0===n.length&&this.addGroup(0,g.length);for(var y=0,b=n.length;y<b;++y)for(var x=n[y],_=x.start,w=x.count,o=_,a=_+w;o<a;o+=3)s=3*g[o+0],u=3*g[o+1],l=3*g[o+2],h.fromArray(r,s),d.fromArray(r,u),p.fromArray(r,l),m.subVectors(p,d),v.subVectors(h,d),m.cross(v),f[s]+=m.x,f[s+1]+=m.y,f[s+2]+=m.z,f[u]+=m.x,f[u+1]+=m.y,f[u+2]+=m.z,f[l]+=m.x,f[l+1]+=m.y,f[l+2]+=m.z}else for(var o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),d.fromArray(r,o+3),p.fromArray(r,o+6),m.subVectors(p,d),v.subVectors(h,d),m.cross(v),f[o]=m.x,f[o+1]=m.y,f[o+2]=m.z,f[o+3]=m.x,f[o+4]=m.y,f[o+5]=m.z,f[o+6]=m.x,f[o+7]=m.y,f[o+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1===(t&&t.isBufferGeometry))return void console.error(\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",t);void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r],o=i.array,a=t.attributes[r],s=a.array,u=a.itemSize,l=0,c=u*e;l<s.length;l++,c++)o[c]=s[l];return this},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn(\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\"),this;var t=new Ct,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),u=0,l=0,c=0,f=e.length;c<f;c++){u=e[c]*a;for(var h=0;h<a;h++)s[l++]=o[u++]}t.addAttribute(r,new mt(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:\"BufferGeometry\",generator:\"BufferGeometry.toJSON\"}};if(t.uuid=this.uuid,t.type=this.type,\"\"!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n],i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new Ct).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(n=0,r=l.length;n<r;n++)u.push(l[n].clone());this.morphAttributes[e]=u}var c=t.groups;for(n=0,r=c.length;n<r;n++){var f=c[n];this.addGroup(f.start,f.count,f.materialIndex)}var h=t.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}},Ct.MaxIndex=65535,Object.assign(Ct.prototype,r.prototype),Rt.prototype=Object.assign(Object.create(ct.prototype),{constructor:Rt,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return ct.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,n=t.length;e<n;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){function t(t,e,n,r,i,o,a){return ht.barycoordFromPoint(t,e,n,r,y),i.multiplyScalar(y.x),o.multiplyScalar(y.y),a.multiplyScalar(y.z),i.add(o).add(a),i.clone()}function e(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===so?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==uo,a)))return null;x.copy(a),x.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(x);return u<e.near||u>e.far?null:{distance:u,point:x.clone(),object:t}}function n(n,r,i,o,a,c,f,h){s.fromBufferAttribute(o,c),u.fromBufferAttribute(o,f),l.fromBufferAttribute(o,h);var d=e(n,r,i,s,u,l,b);return d&&(a&&(m.fromBufferAttribute(a,c),v.fromBufferAttribute(a,f),g.fromBufferAttribute(a,h),d.uv=t(b,s,u,l,m,v,g)),d.face=new dt(c,f,h,ht.normal(s,u,l)),d.faceIndex=c),d}var r=new f,o=new st,a=new nt,s=new c,u=new c,l=new c,h=new c,d=new c,p=new c,m=new i,v=new i,g=new i,y=new c,b=new c,x=new c;return function(i,c){var f=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===f.boundingSphere&&f.computeBoundingSphere(),a.copy(f.boundingSphere),a.applyMatrix4(x),!1!==i.ray.intersectsSphere(a)&&(r.getInverse(x),o.copy(i.ray).applyMatrix4(r),null===f.boundingBox||!1!==o.intersectsBox(f.boundingBox)))){var _;if(f.isBufferGeometry){var w,E,M,T,S,A=f.index,P=f.attributes.position,C=f.attributes.uv;if(null!==A)for(T=0,S=A.count;T<S;T+=3)w=A.getX(T),E=A.getX(T+1),M=A.getX(T+2),(_=n(this,i,o,P,C,w,E,M))&&(_.faceIndex=Math.floor(T/3),c.push(_));else for(T=0,S=P.count;T<S;T+=3)w=T,E=T+1,M=T+2,(_=n(this,i,o,P,C,w,E,M))&&(_.index=w,c.push(_))}else if(f.isGeometry){var R,O,L,k,N=y&&y.isMultiMaterial,I=!0===N?y.materials:null,D=f.vertices,U=f.faces,z=f.faceVertexUvs[0];z.length>0&&(k=z);for(var F=0,B=U.length;F<B;F++){var j=U[F],H=!0===N?I[j.materialIndex]:y;if(void 0!==H){if(R=D[j.a],O=D[j.b],L=D[j.c],!0===H.morphTargets){var V=f.morphTargets,G=this.morphTargetInfluences;s.set(0,0,0),u.set(0,0,0),l.set(0,0,0);for(var W=0,Y=V.length;W<Y;W++){var X=G[W];if(0!==X){var q=V[W].vertices;s.addScaledVector(h.subVectors(q[j.a],R),X),u.addScaledVector(d.subVectors(q[j.b],O),X),l.addScaledVector(p.subVectors(q[j.c],L),X)}}s.add(R),u.add(O),l.add(L),R=s,O=u,L=l}if(_=e(this,i,o,R,O,L,b)){if(k){var Z=k[F];m.copy(Z[0]),v.copy(Z[1]),g.copy(Z[2]),_.uv=t(b,R,O,L,m,v,g)}_.face=j,_.faceIndex=F,c.push(_)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ot.prototype=Object.create(Pt.prototype),Ot.prototype.constructor=Ot,Lt.prototype=Object.create(Ct.prototype),Lt.prototype.constructor=Lt,kt.prototype=Object.create(Pt.prototype),kt.prototype.constructor=kt,Nt.prototype=Object.create(Ct.prototype),Nt.prototype.constructor=Nt,It.prototype=Object.create(ct.prototype),It.prototype.constructor=It,It.prototype.isCamera=!0,It.prototype.getWorldDirection=function(){var t=new l;return function(e){var n=e||new c;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),It.prototype.lookAt=function(){var t=new f;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),It.prototype.clone=function(){return(new this.constructor).copy(this)},It.prototype.copy=function(t){return ct.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Dt.prototype=Object.assign(Object.create(It.prototype),{constructor:Dt,isPerspectiveCamera:!0,copy:function(t){return It.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*ds.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*ds.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*ds.RAD2DEG*Math.atan(Math.tan(.5*ds.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*ds.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far)},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Ut.prototype=Object.assign(Object.create(It.prototype),{constructor:Ut,isOrthographicCamera:!0,copy:function(t){return It.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,o){this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,o=n+t,a=r+e,s=r-e;if(null!==this.view){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;i+=c*(this.view.offsetX/u),o=i+c*(this.view.width/u),a-=f*(this.view.offsetY/l),s=a-f*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far)},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Ps=0;fe.prototype.isFogExp2=!0,fe.prototype.clone=function(){return new fe(this.color.getHex(),this.density)},fe.prototype.toJSON=function(t){return{type:\"FogExp2\",color:this.color.getHex(),density:this.density}},he.prototype.isFog=!0,he.prototype.clone=function(){return new he(this.color.getHex(),this.near,this.far)},he.prototype.toJSON=function(t){return{type:\"Fog\",color:this.color.getHex(),near:this.near,far:this.far}},de.prototype=Object.create(ct.prototype),de.prototype.constructor=de,de.prototype.copy=function(t,e){return ct.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},de.prototype.toJSON=function(t){var e=ct.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},pe.prototype=Object.assign(Object.create(ct.prototype),{constructor:pe,isLensFlare:!0,copy:function(t){ct.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new X(16777215)),void 0===r&&(r=vo),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),me.prototype=Object.create(Q.prototype),me.prototype.constructor=me,me.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},ve.prototype=Object.assign(Object.create(ct.prototype),{constructor:ve,isSprite:!0,raycast:function(){var t=new c;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),ge.prototype=Object.assign(Object.create(ct.prototype),{constructor:ge,copy:function(t){ct.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new c;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new c,e=new c;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(ye.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new f;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(var e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new f;return function(){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(r,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ye(this.bones,this.boneInverses,this.useVertexTexture)}}),be.prototype=Object.assign(Object.create(ct.prototype),{constructor:be,isBone:!0}),xe.prototype=Object.assign(Object.create(Rt.prototype),{constructor:xe,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],n=1/e.lengthManhattan();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry)for(var r=new a,i=this.geometry.attributes.skinWeight,t=0;t<i.count;t++){r.x=i.getX(t),r.y=i.getY(t),r.z=i.getZ(t),r.w=i.getW(t);var n=1/r.lengthManhattan();n!==1/0?r.multiplyScalar(n):r.set(1,0,0,0),i.setXYZW(t,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){Rt.prototype.updateMatrixWorld.call(this,!0),\"attached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\"detached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn(\"THREE.SkinnedMesh unrecognized bindMode: \"+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),_e.prototype=Object.create(Q.prototype),_e.prototype.constructor=_e,_e.prototype.isLineBasicMaterial=!0,_e.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},we.prototype=Object.assign(Object.create(ct.prototype),{constructor:we,isLine:!0,raycast:function(){var t=new f,e=new st,n=new nt;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var l=new c,f=new c,h=new c,d=new c,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var m=s.index,v=s.attributes,g=v.position.array;if(null!==m)for(var y=m.array,b=0,x=y.length-1;b<x;b+=p){var _=y[b],w=y[b+1];l.fromArray(g,3*_),f.fromArray(g,3*w);var E=e.distanceSqToSegment(l,f,d,h);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else for(var b=0,x=g.length/3-1;b<x;b+=p){l.fromArray(g,3*b),f.fromArray(g,3*b+3);var E=e.distanceSqToSegment(l,f,d,h);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry)for(var T=s.vertices,S=T.length,b=0;b<S-1;b+=p){var E=e.distanceSqToSegment(T[b],T[b+1],d,h);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=r.ray.origin.distanceTo(d);M<r.near||M>r.far||i.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ee.prototype=Object.assign(Object.create(we.prototype),{constructor:Ee,isLineSegments:!0}),Me.prototype=Object.create(Q.prototype),Me.prototype.constructor=Me,Me.prototype.isPointsMaterial=!0,Me.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Te.prototype=Object.assign(Object.create(ct.prototype),{constructor:Te,isPoints:!0,raycast:function(){var t=new f,e=new st,n=new nt;return function(r,i){function o(t,n){var o=e.distanceSqToPoint(t);if(o<h){var s=e.closestPointToPoint(t);s.applyMatrix4(u);var l=r.ray.origin.distanceTo(s);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(o),point:s.clone(),index:n,face:null,object:a})}}var a=this,s=this.geometry,u=this.matrixWorld,l=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var f=l/((this.scale.x+this.scale.y+this.scale.z)/3),h=f*f,d=new c;if(s.isBufferGeometry){var p=s.index,m=s.attributes,v=m.position.array;if(null!==p)for(var g=p.array,y=0,b=g.length;y<b;y++){var x=g[y];d.fromArray(v,3*x),o(d,x)}else for(var y=0,_=v.length/3;y<_;y++)d.fromArray(v,3*y),o(d,y)}else for(var w=s.vertices,y=0,_=w.length;y<_;y++)o(w[y],y)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Se.prototype=Object.assign(Object.create(ct.prototype),{constructor:Se}),Ae.prototype=Object.create(o.prototype),Ae.prototype.constructor=Ae,Pe.prototype=Object.create(o.prototype),Pe.prototype.constructor=Pe,Pe.prototype.isCompressedTexture=!0,Ce.prototype=Object.create(o.prototype),Ce.prototype.constructor=Ce,Re.prototype=Object.create(o.prototype),Re.prototype.constructor=Re,Re.prototype.isDepthTexture=!0,Oe.prototype=Object.create(Ct.prototype),Oe.prototype.constructor=Oe,Le.prototype=Object.create(Pt.prototype),Le.prototype.constructor=Le,ke.prototype=Object.create(Ct.prototype),ke.prototype.constructor=ke,Ne.prototype=Object.create(Pt.prototype),Ne.prototype.constructor=Ne,Ie.prototype=Object.create(Ct.prototype),Ie.prototype.constructor=Ie,De.prototype=Object.create(Pt.prototype),De.prototype.constructor=De,Ue.prototype=Object.create(Ie.prototype),Ue.prototype.constructor=Ue,ze.prototype=Object.create(Pt.prototype),ze.prototype.constructor=ze,Fe.prototype=Object.create(Ie.prototype),Fe.prototype.constructor=Fe,Be.prototype=Object.create(Pt.prototype),Be.prototype.constructor=Be,je.prototype=Object.create(Ie.prototype),je.prototype.constructor=je,He.prototype=Object.create(Pt.prototype),He.prototype.constructor=He,Ve.prototype=Object.create(Ie.prototype),Ve.prototype.constructor=Ve,Ge.prototype=Object.create(Pt.prototype),Ge.prototype.constructor=Ge,We.prototype=Object.create(Ct.prototype),We.prototype.constructor=We,Ye.prototype=Object.create(Pt.prototype),Ye.prototype.constructor=Ye,Xe.prototype=Object.create(Ct.prototype),Xe.prototype.constructor=Xe,qe.prototype=Object.create(Pt.prototype),qe.prototype.constructor=qe,Ze.prototype=Object.create(Ct.prototype),Ze.prototype.constructor=Ze;var Cs={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,u,l,c,f,h,d,p;if(s=t[o[e]].x,u=t[o[e]].y,l=t[o[n]].x,c=t[o[n]].y,f=t[o[r]].x,h=t[o[r]].y,(l-s)*(h-u)-(c-u)*(f-s)<=0)return!1;var m,v,g,y,b,x,_,w,E,M,T,S,A,P,C;for(m=f-l,v=h-c,g=s-f,y=u-h,b=l-s,x=c-u,a=0;a<i;a++)if(d=t[o[a]].x,p=t[o[a]].y,!(d===s&&p===u||d===l&&p===c||d===f&&p===h)&&(_=d-s,w=p-u,E=d-l,M=p-c,T=d-f,S=p-h,C=m*M-v*E,A=b*w-x*_,P=g*S-y*T,C>=-Number.EPSILON&&P>=-Number.EPSILON&&A>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,a,s=[],u=[],l=[];if(Cs.area(e)>0)for(o=0;o<r;o++)u[o]=o;else for(o=0;o<r;o++)u[o]=r-1-o;var c=r,f=2*c;for(o=c-1;c>2;){if(f--<=0)return console.warn(\"THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()\"),n?l:s;if(i=o,c<=i&&(i=0),o=i+1,c<=o&&(o=0),a=o+1,c<=a&&(a=0),t(e,i,o,a,c,u)){var h,d,p,m,v;for(h=u[i],d=u[o],p=u[a],s.push([e[h],e[d],e[p]]),l.push([u[i],u[o],u[a]]),m=o,v=o+1;v<c;m++,v++)u[m]=u[v];c--,f=2*c}}return n?l:s}}(),triangulateShape:function(t,e){function n(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function r(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function i(t,e,n,i,o){var a=e.x-t.x,s=e.y-t.y,u=i.x-n.x,l=i.y-n.y,c=t.x-n.x,f=t.y-n.y,h=s*u-a*l,d=s*c-a*f;if(Math.abs(h)>Number.EPSILON){var p;if(h>0){if(d<0||d>h)return[];if((p=l*c-u*f)<0||p>h)return[]}else{if(d>0||d<h)return[];if((p=l*c-u*f)>0||p<h)return[]}if(0===p)return!o||0!==d&&d!==h?[t]:[];if(p===h)return!o||0!==d&&d!==h?[e]:[];if(0===d)return[n];if(d===h)return[i];var m=p/h;return[{x:t.x+m*a,y:t.y+m*s}]}if(0!==d||l*c!=u*f)return[];var v=0===a&&0===s,g=0===u&&0===l;if(v&&g)return t.x!==n.x||t.y!==n.y?[]:[t];if(v)return r(n,i,t)?[t]:[];if(g)return r(t,e,n)?[n]:[];var y,b,x,_,w,E,M,T;return 0!==a?(t.x<e.x?(y=t,x=t.x,b=e,_=e.x):(y=e,x=e.x,b=t,_=t.x),n.x<i.x?(w=n,M=n.x,E=i,T=i.x):(w=i,M=i.x,E=n,T=n.x)):(t.y<e.y?(y=t,x=t.y,b=e,_=e.y):(y=e,x=e.y,b=t,_=t.y),n.y<i.y?(w=n,M=n.y,E=i,T=i.y):(w=i,M=i.y,E=n,T=n.y)),x<=M?_<M?[]:_===M?o?[]:[w]:_<=T?[w,b]:[w,E]:x>T?[]:x===T?o?[]:[y]:_<=T?[y,b]:[y,E]}function o(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,u=r.x-t.x,l=r.y-t.y,c=i*s-o*a,f=i*l-o*u;if(Math.abs(c)>Number.EPSILON){var h=u*s-l*a;return c>0?f>=0&&h>=0:f>=0||h>=0}return f>0}n(t),e.forEach(n);for(var a,s,u,l,c,f,h={},d=t.concat(),p=0,m=e.length;p<m;p++)Array.prototype.push.apply(d,e[p]);for(a=0,s=d.length;a<s;a++)c=d[a].x+\":\"+d[a].y,void 0!==h[c]&&console.warn(\"THREE.ShapeUtils: Duplicate point\",c,a),h[c]=a;var v=function(t,e){for(var n,r,a,s,u,l,c,f,h,d,p,m=t.concat(),v=[],g=[],y=0,b=e.length;y<b;y++)v.push(y);for(var x=0,_=2*v.length;v.length>0;){if(--_<0){console.log(\"Infinite Loop! Holes left:\"+v.length+\", Probably Hole outside Shape!\");break}for(a=x;a<m.length;a++){s=m[a],r=-1;for(var y=0;y<v.length;y++)if(l=v[y],c=s.x+\":\"+s.y+\":\"+l,void 0===g[c]){n=e[l];for(var w=0;w<n.length;w++)if(u=n[w],function(t,e){var r=m.length-1,i=t-1;i<0&&(i=r);var a=t+1;a>r&&(a=0);var s=o(m[t],m[i],m[a],n[e]);if(!s)return!1;var u=n.length-1,l=e-1;l<0&&(l=u);var c=e+1;return c>u&&(c=0),!!(s=o(n[e],n[l],n[c],m[t]))}(a,w)&&!function(t,e){var n,r,o;for(n=0;n<m.length;n++)if(r=n+1,r%=m.length,o=i(t,e,m[n],m[r],!0),o.length>0)return!0;return!1}(s,u)&&!function(t,n){var r,o,a,s,u;for(r=0;r<v.length;r++)for(o=e[v[r]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=i(t,n,o[a],o[s],!0),u.length>0)return!0;return!1}(s,u)){r=w,v.splice(y,1),f=m.slice(0,a+1),h=m.slice(a),d=n.slice(r),p=n.slice(0,r+1),m=f.concat(d).concat(p).concat(h),x=a;break}if(r>=0)break;g[c]=!0}if(r>=0)break}}return m}(t,e),g=Cs.triangulate(v,!1);for(a=0,s=g.length;a<s;a++)for(l=g[a],u=0;u<3;u++)c=l[u].x+\":\"+l[u].y,void 0!==(f=h[c])&&(l[u]=f);return g.concat()},isClockWise:function(t){return Cs.area(t)<0}};Ke.prototype=Object.create(Pt.prototype),Ke.prototype.constructor=Ke,Ke.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},Ke.prototype.addShape=function(t,e){function n(t,e,n){return e||console.error(\"THREE.ExtrudeGeometry: vec does not exist\"),e.clone().multiplyScalar(n).add(t)}function r(t,e,n){var r,o,a=1,s=t.x-e.x,u=t.y-e.y,l=n.x-t.x,c=n.y-t.y,f=s*s+u*u,h=s*c-u*l;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(f),p=Math.sqrt(l*l+c*c),m=e.x-u/d,v=e.y+s/d,g=n.x-c/p,y=n.y+l/p,b=((g-m)*c-(y-v)*l)/(s*c-u*l);r=m+s*b-t.x,o=v+u*b-t.y;var x=r*r+o*o;if(x<=2)return new i(r,o);a=Math.sqrt(x/2)}else{var _=!1;s>Number.EPSILON?l>Number.EPSILON&&(_=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(_=!0):Math.sign(u)===Math.sign(c)&&(_=!0),_?(r=-u,o=s,a=Math.sqrt(f)):(r=s,o=u,a=Math.sqrt(f/2))}return new i(r/a,o/a)}function o(t,e){var n,r;for(W=t.length;--W>=0;){n=W,r=W-1,r<0&&(r=t.length-1);var i=0,o=_+2*y;for(i=0;i<o;i++){var a=H*i,s=H*(i+1);u(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function a(t,e,n){P.vertices.push(new c(t,e,n))}function s(t,e,n){t+=C,e+=C,n+=C,P.faces.push(new dt(t,e,n,null,null,0));var r=M.generateTopUV(P,t,e,n);P.faceVertexUvs[0].push(r)}function u(t,e,n,r,i,o,a,s,u){t+=C,e+=C,n+=C,r+=C,P.faces.push(new dt(t,e,r,null,null,1)),P.faces.push(new dt(e,n,r,null,null,1));var l=M.generateSideWallUV(P,t,e,n,r);P.faceVertexUvs[0].push([l[0],l[1],l[3]]),P.faceVertexUvs[0].push([l[1],l[2],l[3]])}var l,f,h,d,p,m=void 0!==e.amount?e.amount:100,v=void 0!==e.bevelThickness?e.bevelThickness:6,g=void 0!==e.bevelSize?e.bevelSize:v-2,y=void 0!==e.bevelSegments?e.bevelSegments:3,b=void 0===e.bevelEnabled||e.bevelEnabled,x=void 0!==e.curveSegments?e.curveSegments:12,_=void 0!==e.steps?e.steps:1,w=e.extrudePath,E=!1,M=void 0!==e.UVGenerator?e.UVGenerator:Ke.WorldUVGenerator;w&&(l=w.getSpacedPoints(_),E=!0,b=!1,f=void 0!==e.frames?e.frames:w.computeFrenetFrames(_,!1),h=new c,d=new c,p=new c),b||(y=0,v=0,g=0);var T,S,A,P=this,C=this.vertices.length,R=t.extractPoints(x),O=R.shape,L=R.holes,k=!Cs.isClockWise(O);if(k){for(O=O.reverse(),S=0,A=L.length;S<A;S++)T=L[S],Cs.isClockWise(T)&&(L[S]=T.reverse());k=!1}var N=Cs.triangulateShape(O,L),I=O;for(S=0,A=L.length;S<A;S++)T=L[S],O=O.concat(T);for(var D,U,z,F,B,j,H=O.length,V=N.length,G=[],W=0,Y=I.length,X=Y-1,q=W+1;W<Y;W++,X++,q++)X===Y&&(X=0),q===Y&&(q=0),G[W]=r(I[W],I[X],I[q]);var Z,K=[],$=G.concat();for(S=0,A=L.length;S<A;S++){for(T=L[S],Z=[],W=0,Y=T.length,X=Y-1,q=W+1;W<Y;W++,X++,q++)X===Y&&(X=0),q===Y&&(q=0),Z[W]=r(T[W],T[X],T[q]);K.push(Z),$=$.concat(Z)}for(D=0;D<y;D++){for(z=D/y,F=v*Math.cos(z*Math.PI/2),U=g*Math.sin(z*Math.PI/2),W=0,Y=I.length;W<Y;W++)B=n(I[W],G[W],U),a(B.x,B.y,-F);for(S=0,A=L.length;S<A;S++)for(T=L[S],Z=K[S],W=0,Y=T.length;W<Y;W++)B=n(T[W],Z[W],U),a(B.x,B.y,-F)}for(U=g,W=0;W<H;W++)B=b?n(O[W],$[W],U):O[W],E?(d.copy(f.normals[0]).multiplyScalar(B.x),h.copy(f.binormals[0]).multiplyScalar(B.y),p.copy(l[0]).add(d).add(h),a(p.x,p.y,p.z)):a(B.x,B.y,0);var Q;for(Q=1;Q<=_;Q++)for(W=0;W<H;W++)B=b?n(O[W],$[W],U):O[W],E?(d.copy(f.normals[Q]).multiplyScalar(B.x),h.copy(f.binormals[Q]).multiplyScalar(B.y),p.copy(l[Q]).add(d).add(h),a(p.x,p.y,p.z)):a(B.x,B.y,m/_*Q);for(D=y-1;D>=0;D--){for(z=D/y,F=v*Math.cos(z*Math.PI/2),U=g*Math.sin(z*Math.PI/2),W=0,Y=I.length;W<Y;W++)B=n(I[W],G[W],U),a(B.x,B.y,m+F);for(S=0,A=L.length;S<A;S++)for(T=L[S],Z=K[S],W=0,Y=T.length;W<Y;W++)B=n(T[W],Z[W],U),E?a(B.x,B.y+l[_-1].y,l[_-1].x+F):a(B.x,B.y,m+F)}!function(){if(b){var t=0,e=H*t;for(W=0;W<V;W++)j=N[W],s(j[2]+e,j[1]+e,j[0]+e);for(t=_+2*y,e=H*t,W=0;W<V;W++)j=N[W],s(j[0]+e,j[1]+e,j[2]+e)}else{for(W=0;W<V;W++)j=N[W],s(j[2],j[1],j[0]);for(W=0;W<V;W++)j=N[W],s(j[0]+H*_,j[1]+H*_,j[2]+H*_)}}(),function(){var t=0;for(o(I,t),t+=I.length,S=0,A=L.length;S<A;S++)T=L[S],o(T,t),t+=T.length}()},Ke.WorldUVGenerator={generateTopUV:function(t,e,n,r){var o=t.vertices,a=o[e],s=o[n],u=o[r];return[new i(a.x,a.y),new i(s.x,s.y),new i(u.x,u.y)]},generateSideWallUV:function(t,e,n,r,o){var a=t.vertices,s=a[e],u=a[n],l=a[r],c=a[o];return Math.abs(s.y-u.y)<.01?[new i(s.x,1-s.z),new i(u.x,1-u.z),new i(l.x,1-l.z),new i(c.x,1-c.z)]:[new i(s.y,1-s.z),new i(u.y,1-u.z),new i(l.y,1-l.z),new i(c.y,1-c.z)]}},$e.prototype=Object.create(Ke.prototype),$e.prototype.constructor=$e,Qe.prototype=Object.create(Pt.prototype),Qe.prototype.constructor=Qe,Je.prototype=Object.create(Ct.prototype),Je.prototype.constructor=Je,tn.prototype=Object.create(Pt.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(Ct.prototype),en.prototype.constructor=en,nn.prototype=Object.create(Pt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Ct.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(Pt.prototype),on.prototype.constructor=on,an.prototype=Object.create(Ct.prototype),an.prototype.constructor=an,sn.prototype=Object.create(Ct.prototype),sn.prototype.constructor=sn,un.prototype=Object.create(Pt.prototype),un.prototype.constructor=un,ln.prototype=Object.create(Ct.prototype),ln.prototype.constructor=ln,cn.prototype=Object.create(un.prototype),cn.prototype.constructor=cn,fn.prototype=Object.create(ln.prototype),fn.prototype.constructor=fn,hn.prototype=Object.create(Pt.prototype),hn.prototype.constructor=hn,dn.prototype=Object.create(Ct.prototype),dn.prototype.constructor=dn;var Rs=Object.freeze({WireframeGeometry:Oe,ParametricGeometry:Le,ParametricBufferGeometry:ke,TetrahedronGeometry:De,TetrahedronBufferGeometry:Ue,OctahedronGeometry:ze,OctahedronBufferGeometry:Fe,IcosahedronGeometry:Be,IcosahedronBufferGeometry:je,DodecahedronGeometry:He,DodecahedronBufferGeometry:Ve,PolyhedronGeometry:Ne,PolyhedronBufferGeometry:Ie,TubeGeometry:Ge,TubeBufferGeometry:We,TorusKnotGeometry:Ye,TorusKnotBufferGeometry:Xe,TorusGeometry:qe,TorusBufferGeometry:Ze,TextGeometry:$e,SphereGeometry:Qe,SphereBufferGeometry:Je,RingGeometry:tn,RingBufferGeometry:en,PlaneGeometry:kt,PlaneBufferGeometry:Nt,LatheGeometry:nn,LatheBufferGeometry:rn,ShapeGeometry:on,ShapeBufferGeometry:an,ExtrudeGeometry:Ke,EdgesGeometry:sn,ConeGeometry:cn,ConeBufferGeometry:fn,CylinderGeometry:un,CylinderBufferGeometry:ln,CircleGeometry:hn,CircleBufferGeometry:dn,BoxGeometry:Ot,BoxBufferGeometry:Lt});pn.prototype=Object.create(J.prototype),pn.prototype.constructor=pn,pn.prototype.isShadowMaterial=!0,mn.prototype=Object.create(J.prototype),mn.prototype.constructor=mn,mn.prototype.isRawShaderMaterial=!0,vn.prototype={constructor:vn,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:\"material\",generator:\"MaterialExporter\"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},gn.prototype=Object.create(Q.prototype),gn.prototype.constructor=gn,gn.prototype.isMeshStandardMaterial=!0,gn.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.defines={STANDARD:\"\"},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yn.prototype=Object.create(gn.prototype),yn.prototype.constructor=yn,yn.prototype.isMeshPhysicalMaterial=!0,yn.prototype.copy=function(t){return gn.prototype.copy.call(this,t),this.defines={PHYSICAL:\"\"},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},bn.prototype=Object.create(Q.prototype),bn.prototype.constructor=bn,bn.prototype.isMeshPhongMaterial=!0,bn.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xn.prototype=Object.create(bn.prototype),xn.prototype.constructor=xn,xn.prototype.isMeshToonMaterial=!0,xn.prototype.copy=function(t){return bn.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},_n.prototype=Object.create(Q.prototype),_n.prototype.constructor=_n,_n.prototype.isMeshNormalMaterial=!0,_n.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},wn.prototype=Object.create(Q.prototype),wn.prototype.constructor=wn,wn.prototype.isMeshLambertMaterial=!0,wn.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},En.prototype=Object.create(Q.prototype),En.prototype.constructor=En,En.prototype.isLineDashedMaterial=!0,En.prototype.copy=function(t){return Q.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Os=Object.freeze({ShadowMaterial:pn,SpriteMaterial:me,RawShaderMaterial:mn,ShaderMaterial:J,PointsMaterial:Me,MultiMaterial:vn,MeshPhysicalMaterial:yn,MeshStandardMaterial:gn,MeshPhongMaterial:bn,MeshToonMaterial:xn,MeshNormalMaterial:_n,MeshLambertMaterial:wn,MeshDepthMaterial:tt,MeshBasicMaterial:pt,LineDashedMaterial:En,LineBasicMaterial:_e,Material:Q}),Ls={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},ks=new Mn;Object.assign(Tn.prototype,{load:function(t,e,n,r){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t);var i=this,o=Ls.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var u=s[1],l=!!s[2],c=s[3];c=window.decodeURIComponent(c),l&&(c=window.atob(c));try{var f,h=(this.responseType||\"\").toLowerCase();switch(h){case\"arraybuffer\":case\"blob\":f=new ArrayBuffer(c.length);for(var d=new Uint8Array(f),p=0;p<c.length;p++)d[p]=c.charCodeAt(p);\"blob\"===h&&(f=new Blob([f],{type:u}));break;case\"document\":var m=new DOMParser;f=m.parseFromString(c,u);break;case\"json\":f=JSON.parse(c);break;default:f=c}window.setTimeout(function(){e&&e(f),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemError(t)},0)}}else{var v=new XMLHttpRequest;v.open(\"GET\",t,!0),v.addEventListener(\"load\",function(n){var o=n.target.response;Ls.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn(\"THREE.FileLoader: HTTP Status 0 received.\"),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))},!1),void 0!==n&&v.addEventListener(\"progress\",function(t){n(t)},!1),v.addEventListener(\"error\",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:\"text/plain\"),v.send(null)}return i.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(Sn.prototype,{load:function(t,e,n,r){var i=this,o=[],a=new Pe;a.image=o;var s=new Tn(this.manager);if(s.setPath(this.path),s.setResponseType(\"arraybuffer\"),Array.isArray(t))for(var u=0,l=0,c=t.length;l<c;++l)!function(l){s.load(t[l],function(t){var n=i._parser(t,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=da),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,r)}(l);else s.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=da),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,r);return a},setPath:function(t){return this.path=t,this}}),Object.assign(An.prototype,{load:function(t,e,n,r){var i=this,o=new q,a=new Tn(this.manager);return a.setResponseType(\"arraybuffer\"),a.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ua,o.wrapT=void 0!==n.wrapT?n.wrapT:ua,o.magFilter=void 0!==n.magFilter?n.magFilter:da,o.minFilter=void 0!==n.minFilter?n.minFilter:ma,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=da),o.needsUpdate=!0,e&&e(o,n))},n,r),o}}),Object.assign(Pn.prototype,{load:function(t,e,n,r){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t);var i=this,o=Ls.get(t);if(void 0!==o)return i.manager.itemStart(t),setTimeout(function(){e&&e(o),i.manager.itemEnd(t)},0),o;var a=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"img\");return a.addEventListener(\"load\",function(){Ls.add(t,this),e&&e(this),i.manager.itemEnd(t)},!1),a.addEventListener(\"error\",function(e){r&&r(e),i.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Cn.prototype,{load:function(t,e,n,r){var i=new h,o=new Pn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<t.length;++s)!function(n){o.load(t[n],function(t){i.images[n]=t,6==++a&&(i.needsUpdate=!0,e&&e(i))},void 0,r)}(s);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Rn.prototype,{load:function(t,e,n,r){var i=new o,a=new Pn(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){var r=t.search(/\\.(jpg|jpeg)$/)>0||0===t.search(/^data\\:image\\/jpeg/);i.format=r?Ca:Ra,i.image=n,i.needsUpdate=!0,void 0!==e&&e(i)},n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),On.prototype=Object.assign(Object.create(ct.prototype),{constructor:On,isLight:!0,copy:function(t){return ct.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=ct.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Ln.prototype=Object.assign(Object.create(On.prototype),{constructor:Ln,isHemisphereLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(kn.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Nn.prototype=Object.assign(Object.create(kn.prototype),{constructor:Nn,isSpotLightShadow:!0,update:function(t){var e=2*ds.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),In.prototype=Object.assign(Object.create(On.prototype),{constructor:In,isSpotLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Dn.prototype=Object.assign(Object.create(On.prototype),{constructor:Dn,isPointLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Un.prototype=Object.assign(Object.create(kn.prototype),{constructor:Un}),zn.prototype=Object.assign(Object.create(On.prototype),{constructor:zn,isDirectionalLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Fn.prototype=Object.assign(Object.create(On.prototype),{constructor:Fn,isAmbientLight:!0});var Ns={arraySlice:function(t,e,n){return Ns.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:\"number\"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,r=new Array(n),i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,u=0;u!==e;++u)i[a++]=t[s+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}};Bn.prototype={constructor:Bn,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,r=e[++n],t<r)break e}o=e.length;break n}{if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(var a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,i=e[--n-1],t>=i)break e}o=n,n=0}}for(;n<o;){var u=n+o>>>1;t<e[u]?o=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error(\"call to abstract method\")},intervalChanged_:function(t,e,n){}},Object.assign(Bn.prototype,{beforeStart_:Bn.prototype.copySampleValue_,afterEnd_:Bn.prototype.copySampleValue_}),jn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:jn,DefaultSettings_:{endingStart:$a,endingEnd:$a},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Qa:i=t,a=2*e-n;break;case Ja:i=r.length-2,a=e+r[i]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Qa:o=t,s=2*n-e;break;case Ja:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var u=.5*(n-e),l=this.valueSize;this._weightPrev=u/(e-a),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-e)/(r-e),p=d*d,m=p*d,v=-f*m+2*f*p-f*d,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*m+(1.5+h)*p+.5*d,b=h*m-h*p,x=0;x!==a;++x)i[x]=v*o[l+x]+g*o[u+x]+y*o[s+x]+b*o[c+x];return i}}),Hn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Hn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=s-a,l=(n-e)/(r-e),c=1-l,f=0;f!==a;++f)i[f]=o[u+f]*c+o[s+f]*l;return i}}),Vn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Vn,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}});var Is;Is={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Za,InterpolantFactoryMethodDiscrete:function(t){return new Vn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Hn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new jn(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case qa:e=this.InterpolantFactoryMethodDiscrete;break;case Za:e=this.InterpolantFactoryMethodLinear;break;case Ka:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n=\"unsupported interpolation for \"+this.ValueTypeName+\" keyframe track named \"+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return void console.warn(n)}this.createInterpolant=e},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return qa;case this.InterpolantFactoryMethodLinear:return Za;case this.InterpolantFactoryMethodSmooth:return Ka}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);var a=this.getValueSize();this.times=Ns.arraySlice(n,i,o),this.values=Ns.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error(\"invalid value size in track\",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error(\"track is empty\",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if(\"number\"==typeof s&&isNaN(s)){console.error(\"time is not a valid number\",this,a,s),t=!1;break}if(null!==o&&o>s){console.error(\"out of order keys\",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&Ns.isTypedArray(r))for(var a=0,u=r.length;a!==u;++a){var l=r[a];if(isNaN(l)){console.error(\"value is not a valid number\",this,a,l),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=this.getInterpolation()===Ka,i=1,o=t.length-1,a=1;a<o;++a){var s=!1,u=t[a];if(u!==t[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var l=a*n,c=l-n,f=l+n,h=0;h!==n;++h){var d=e[l+h];if(d!==e[c+h]||d!==e[f+h]){s=!0;break}}if(s){if(a!==i){t[i]=t[a];for(var p=a*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[p+h]}++i}}if(o>0){t[i]=t[o];for(var p=o*n,m=i*n,h=0;h!==n;++h)e[m+h]=e[p+h];++i}return i!==t.length&&(this.times=Ns.arraySlice(t,0,i),this.values=Ns.arraySlice(e,0,i*n)),this}},Wn.prototype=Object.assign(Object.create(Is),{constructor:Wn,ValueTypeName:\"vector\"}),Yn.prototype=Object.assign(Object.create(Bn.prototype),{constructor:Yn,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,u=(n-e)/(r-e),c=s+a;s!==c;s+=4)l.slerpFlat(i,0,o,s-a,o,s,u);return i}}),Xn.prototype=Object.assign(Object.create(Is),{constructor:Xn,ValueTypeName:\"quaternion\",DefaultInterpolation:Za,InterpolantFactoryMethodLinear:function(t){return new Yn(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),qn.prototype=Object.assign(Object.create(Is),{constructor:qn,ValueTypeName:\"number\"}),Zn.prototype=Object.assign(Object.create(Is),{constructor:Zn,ValueTypeName:\"string\",ValueBufferType:Array,DefaultInterpolation:qa,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Kn.prototype=Object.assign(Object.create(Is),{constructor:Kn,ValueTypeName:\"bool\",ValueBufferType:Array,DefaultInterpolation:qa,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$n.prototype=Object.assign(Object.create(Is),{constructor:$n,ValueTypeName:\"color\"}),Qn.prototype=Is,Is.constructor=Qn,Object.assign(Qn,{parse:function(t){if(void 0===t.type)throw new Error(\"track type undefined, can not parse\");var e=Qn._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];Ns.flattenJSON(t.keys,n,r,\"value\"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Ns.convertArray(t.times,Array),values:Ns.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case\"scalar\":case\"double\":case\"float\":case\"number\":case\"integer\":return qn;case\"vector\":case\"vector2\":case\"vector3\":case\"vector4\":return Wn;case\"color\":return $n;case\"quaternion\":return Xn;case\"bool\":case\"boolean\":return Kn;case\"string\":return Zn}throw new Error(\"Unsupported typeName: \"+t)}}),Jn.prototype={constructor:Jn,resetDuration:function(){for(var t=this.tracks,e=0,n=0,r=t.length;n!==r;++n){var i=this.tracks[n];e=Math.max(e,i.times[i.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Jn,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Qn.parse(n[i]).scale(r));return new Jn(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(Qn.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var l=Ns.getKeyframeOrder(s);s=Ns.sortedArray(s,1,l),u=Ns.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new qn(\".morphTargetInfluences[\"+e[a].name+\"]\",s,u).scale(1/n))}return new Jn(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\\w-]*?)([\\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var f=[];for(var l in r)f.push(Jn.CreateFromMorphTargetSequence(l,r[l],e,n));return f},parseAnimation:function(t,e){if(!t)return console.error(\"  no animation in JSONLoader data\"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];Ns.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},r=[],i=t.name||\"default\",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},f=0;f<l.length;f++)if(l[f].morphTargets)for(var h=0;h<l[f].morphTargets.length;h++)c[l[f].morphTargets[h]]=-1;for(var d in c){for(var p=[],m=[],h=0;h!==l[f].morphTargets.length;++h){var v=l[f];p.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new qn(\".morphTargetInfluence[\"+d+\"]\",p,m))}o=c.length*(a||1)}else{var g=\".bones[\"+e[u].name+\"]\";n(Wn,g+\".position\",l,\"pos\",r),n(Xn,g+\".quaternion\",l,\"rot\",r),n(Wn,g+\".scale\",l,\"scl\",r)}}return 0===r.length?null:new Jn(i,o,r)}}),Object.assign(tr.prototype,{load:function(t,e,n,r){var i=this;new Tn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn(\"THREE.MaterialLoader: Undefined texture\",t),n[t]}var n=this.textures,r=new Os[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(r.uniforms=t.uniforms),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.shading&&(r.shading=t.shading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalScale){var o=t.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new i).fromArray(o)}if(void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),void 0!==t.materials)for(var a=0,s=t.materials.length;a<s;a++)r.materials.push(this.parse(t.materials[a]));return r}}),Object.assign(er.prototype,{load:function(t,e,n,r){var i=this;new Tn(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new Ct,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new mt(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a],i=new r[s.type](s.array);e.addAttribute(a,new mt(i,s.itemSize,s.normalized))}var u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(var l=0,f=u.length;l!==f;++l){var h=u[l];e.addGroup(h.start,h.count,h.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new c;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new nt(p,d.radius)}return e}}),nr.prototype={constructor:nr,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split(\"/\");return 1===e.length?\"./\":(e.pop(),e.join(\"/\")+\"/\")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t,e,n,r={NoBlending:mo,NormalBlending:vo,AdditiveBlending:go,SubtractiveBlending:yo,MultiplyBlending:bo,CustomBlending:xo};return function(i,o,a){function s(t,n,r,i,s){var l,c=o+t,f=nr.Handlers.get(c);null!==f?l=f.load(c):(e.setCrossOrigin(a),l=e.load(c)),void 0!==n&&(l.repeat.fromArray(n),1!==n[0]&&(l.wrapS=sa),1!==n[1]&&(l.wrapT=sa)),void 0!==r&&l.offset.fromArray(r),void 0!==i&&(\"repeat\"===i[0]&&(l.wrapS=sa),\"mirror\"===i[0]&&(l.wrapS=la),\"repeat\"===i[1]&&(l.wrapT=sa),\"mirror\"===i[1]&&(l.wrapT=la)),void 0!==s&&(l.anisotropy=s);var h=ds.generateUUID();return u[h]=l,h}void 0===t&&(t=new X),void 0===e&&(e=new Rn),void 0===n&&(n=new tr);var u={},l={uuid:ds.generateUUID(),type:\"MeshLambertMaterial\"};for(var c in i){var f=i[c];switch(c){case\"DbgColor\":case\"DbgIndex\":case\"opticalDensity\":case\"illumination\":break;case\"DbgName\":l.name=f;break;case\"blending\":l.blending=r[f];break;case\"colorAmbient\":case\"mapAmbient\":console.warn(\"THREE.Loader.createMaterial:\",c,\"is no longer supported.\");break;case\"colorDiffuse\":l.color=t.fromArray(f).getHex();break;case\"colorSpecular\":l.specular=t.fromArray(f).getHex();break;case\"colorEmissive\":l.emissive=t.fromArray(f).getHex();break;case\"specularCoef\":l.shininess=f;break;case\"shading\":\"basic\"===f.toLowerCase()&&(l.type=\"MeshBasicMaterial\"),\"phong\"===f.toLowerCase()&&(l.type=\"MeshPhongMaterial\"),\"standard\"===f.toLowerCase()&&(l.type=\"MeshStandardMaterial\");break;case\"mapDiffuse\":l.map=s(f,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case\"mapDiffuseRepeat\":case\"mapDiffuseOffset\":case\"mapDiffuseWrap\":case\"mapDiffuseAnisotropy\":break;case\"mapEmissive\":l.emissiveMap=s(f,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case\"mapEmissiveRepeat\":case\"mapEmissiveOffset\":case\"mapEmissiveWrap\":case\"mapEmissiveAnisotropy\":break;case\"mapLight\":l.lightMap=s(f,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case\"mapLightRepeat\":case\"mapLightOffset\":case\"mapLightWrap\":case\"mapLightAnisotropy\":break;case\"mapAO\":l.aoMap=s(f,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case\"mapAORepeat\":case\"mapAOOffset\":case\"mapAOWrap\":case\"mapAOAnisotropy\":break;case\"mapBump\":l.bumpMap=s(f,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case\"mapBumpScale\":l.bumpScale=f;break;case\"mapBumpRepeat\":case\"mapBumpOffset\":case\"mapBumpWrap\":case\"mapBumpAnisotropy\":break;case\"mapNormal\":l.normalMap=s(f,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case\"mapNormalFactor\":l.normalScale=[f,f];break;case\"mapNormalRepeat\":case\"mapNormalOffset\":case\"mapNormalWrap\":case\"mapNormalAnisotropy\":break;case\"mapSpecular\":l.specularMap=s(f,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case\"mapSpecularRepeat\":case\"mapSpecularOffset\":case\"mapSpecularWrap\":case\"mapSpecularAnisotropy\":break;case\"mapMetalness\":l.metalnessMap=s(f,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case\"mapMetalnessRepeat\":case\"mapMetalnessOffset\":case\"mapMetalnessWrap\":case\"mapMetalnessAnisotropy\":break;case\"mapRoughness\":l.roughnessMap=s(f,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case\"mapRoughnessRepeat\":case\"mapRoughnessOffset\":case\"mapRoughnessWrap\":case\"mapRoughnessAnisotropy\":break;case\"mapAlpha\":l.alphaMap=s(f,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case\"mapAlphaRepeat\":case\"mapAlphaOffset\":case\"mapAlphaWrap\":case\"mapAlphaAnisotropy\":break;case\"flipSided\":l.side=so;break;case\"doubleSided\":l.side=uo;break;case\"transparency\":console.warn(\"THREE.Loader.createMaterial: transparency has been renamed to opacity\"),l.opacity=f;break;case\"depthTest\":case\"depthWrite\":case\"colorWrite\":case\"opacity\":case\"reflectivity\":case\"transparent\":case\"visible\":case\"wireframe\":l[c]=f;break;case\"vertexColors\":!0===f&&(l.vertexColors=po),\"face\"===f&&(l.vertexColors=ho);break;default:console.error(\"THREE.Loader.createMaterial: Unsupported\",c,f)}}return\"MeshBasicMaterial\"===l.type&&delete l.emissive,\"MeshPhongMaterial\"!==l.type&&delete l.specular,l.opacity<1&&(l.transparent=!0),n.setTextures(u),n.parse(l)}}()},nr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Object.assign(rr.prototype,{load:function(t,e,n,r){var i=this,o=this.texturePath&&\"string\"==typeof this.texturePath?this.texturePath:nr.prototype.extractUrlBase(t),a=new Tn(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if(\"object\"===s.toLowerCase())return void console.error(\"THREE.JSONLoader: \"+t+\" should be loaded with THREE.ObjectLoader instead.\");if(\"scene\"===s.toLowerCase())return void console.error(\"THREE.JSONLoader: \"+t+\" should be loaded with THREE.SceneLoader instead.\")}}var u=i.parse(r,o);e(u.geometry,u.materials)},n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var n=new Pt,r=void 0!==t.scale?1/t.scale:1;if(function(e){function r(t,e){return t&1<<e}var o,a,s,u,l,f,h,d,p,m,v,g,y,b,x,_,w,E,M,T,S,A,P,C,R,O,L,k=t.faces,N=t.vertices,I=t.normals,D=t.colors,U=0;if(void 0!==t.uvs){for(o=0;o<t.uvs.length;o++)t.uvs[o].length&&U++;for(o=0;o<U;o++)n.faceVertexUvs[o]=[]}for(u=0,l=N.length;u<l;)E=new c,E.x=N[u++]*e,E.y=N[u++]*e,E.z=N[u++]*e,n.vertices.push(E);for(u=0,l=k.length;u<l;)if(m=k[u++],v=r(m,0),g=r(m,1),y=r(m,3),b=r(m,4),x=r(m,5),_=r(m,6),w=r(m,7),v){if(T=new dt,T.a=k[u],T.b=k[u+1],T.c=k[u+3],S=new dt,S.a=k[u+1],S.b=k[u+2],S.c=k[u+3],u+=4,g&&(p=k[u++],T.materialIndex=p,S.materialIndex=p),s=n.faces.length,y)for(o=0;o<U;o++)for(C=t.uvs[o],n.faceVertexUvs[o][s]=[],n.faceVertexUvs[o][s+1]=[],a=0;a<4;a++)d=k[u++],O=C[2*d],L=C[2*d+1],R=new i(O,L),2!==a&&n.faceVertexUvs[o][s].push(R),0!==a&&n.faceVertexUvs[o][s+1].push(R);if(b&&(h=3*k[u++],T.normal.set(I[h++],I[h++],I[h]),S.normal.copy(T.normal)),x)for(o=0;o<4;o++)h=3*k[u++],P=new c(I[h++],I[h++],I[h]),2!==o&&T.vertexNormals.push(P),0!==o&&S.vertexNormals.push(P);if(_&&(f=k[u++],A=D[f],T.color.setHex(A),S.color.setHex(A)),w)for(o=0;o<4;o++)f=k[u++],A=D[f],2!==o&&T.vertexColors.push(new X(A)),0!==o&&S.vertexColors.push(new X(A));n.faces.push(T),n.faces.push(S)}else{if(M=new dt,M.a=k[u++],M.b=k[u++],M.c=k[u++],g&&(p=k[u++],M.materialIndex=p),s=n.faces.length,y)for(o=0;o<U;o++)for(C=t.uvs[o],n.faceVertexUvs[o][s]=[],a=0;a<3;a++)d=k[u++],O=C[2*d],L=C[2*d+1],R=new i(O,L),n.faceVertexUvs[o][s].push(R);if(b&&(h=3*k[u++],M.normal.set(I[h++],I[h++],I[h])),x)for(o=0;o<3;o++)h=3*k[u++],P=new c(I[h++],I[h++],I[h]),M.vertexNormals.push(P);if(_&&(f=k[u++],M.color.setHex(D[f])),w)for(o=0;o<3;o++)f=k[u++],M.vertexColors.push(new X(D[f]));n.faces.push(M)}}(r),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=e){var o=t.skinWeights[r],s=e>1?t.skinWeights[r+1]:0,u=e>2?t.skinWeights[r+2]:0,l=e>3?t.skinWeights[r+3]:0;n.skinWeights.push(new a(o,s,u,l))}if(t.skinIndices)for(var r=0,i=t.skinIndices.length;r<i;r+=e){var c=t.skinIndices[r],f=e>1?t.skinIndices[r+1]:0,h=e>2?t.skinIndices[r+2]:0,d=e>3?t.skinIndices[r+3]:0;n.skinIndices.push(new a(c,f,h,d))}n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn(\"When skinning, number of vertices (\"+n.vertices.length+\"), skinIndices (\"+n.skinIndices.length+\"), and skinWeights (\"+n.skinWeights.length+\") should match.\")}(),function(e){if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){n.morphTargets[r]={},n.morphTargets[r].name=t.morphTargets[r].name,n.morphTargets[r].vertices=[];for(var o=n.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,u=a.length;s<u;s+=3){var l=new c;l.x=a[s]*e,l.y=a[s+1]*e,l.z=a[s+2]*e,o.push(l)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.');for(var f=n.faces,h=t.morphColors[0].colors,r=0,i=f.length;r<i;r++)f[r].color.fromArray(h,3*r)}}(r),function(){var e=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=Jn.parseAnimation(r[i],n.bones);o&&e.push(o)}if(n.morphTargets){var a=Jn.CreateClipsFromMorphTargetSequences(n.morphTargets,10);e=e.concat(a)}e.length>0&&(n.animations=e)}(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var o=nr.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:n,materials:o}}}),Object.assign(ir.prototype,{load:function(t,e,n,r){\"\"===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf(\"/\")+1));var i=this;new Tn(i.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error(\"THREE:ObjectLoader: Can't parse \"+t+\".\",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||\"geometry\"===a.type.toLowerCase())return void console.error(\"THREE.ObjectLoader: Can't load \"+t+\". Use THREE.JSONLoader instead.\");i.parse(o,e)},n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,function(){void 0!==e&&e(a)}),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new rr,r=new er,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case\"PlaneGeometry\":case\"PlaneBufferGeometry\":a=new Rs[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case\"BoxGeometry\":case\"BoxBufferGeometry\":case\"CubeGeometry\":a=new Rs[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case\"CircleGeometry\":case\"CircleBufferGeometry\":a=new Rs[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case\"CylinderGeometry\":case\"CylinderBufferGeometry\":a=new Rs[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"ConeGeometry\":case\"ConeBufferGeometry\":a=new Rs[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"SphereGeometry\":case\"SphereBufferGeometry\":a=new Rs[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case\"DodecahedronGeometry\":case\"IcosahedronGeometry\":case\"OctahedronGeometry\":case\"TetrahedronGeometry\":a=new Rs[s.type](s.radius,s.detail);break;case\"RingGeometry\":case\"RingBufferGeometry\":a=new Rs[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case\"TorusGeometry\":case\"TorusBufferGeometry\":a=new Rs[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case\"TorusKnotGeometry\":case\"TorusKnotBufferGeometry\":a=new Rs[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case\"LatheGeometry\":case\"LatheBufferGeometry\":a=new Rs[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case\"BufferGeometry\":a=r.parse(s);break;case\"Geometry\":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \"'+s.type+'\"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new tr;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=r.parse(t[i]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=Jn.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};if(void 0!==t&&t.length>0){var i=new Mn(e),o=new Pn(i);o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var u=t[a],l=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(u.url)?u.url:n.texturePath+u.url;r[u.uuid]=function(t){return n.manager.itemStart(t),o.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemError(t)})}(l)}}return r},parseTextures:function(t,e){function n(t,e){return\"number\"==typeof t?t:(console.warn(\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\",t),e[t])}var r={UVMapping:Jo,CubeReflectionMapping:ta,CubeRefractionMapping:ea,EquirectangularReflectionMapping:na,EquirectangularRefractionMapping:ra,SphericalReflectionMapping:ia,CubeUVReflectionMapping:oa,CubeUVRefractionMapping:aa},i={RepeatWrapping:sa,ClampToEdgeWrapping:ua,MirroredRepeatWrapping:la},a={NearestFilter:ca,NearestMipMapNearestFilter:fa,NearestMipMapLinearFilter:ha,LinearFilter:da,LinearMipMapNearestFilter:pa,LinearMipMapLinearFilter:ma},s={};if(void 0!==t)for(var u=0,l=t.length;u<l;u++){var c=t[u];void 0===c.image&&console.warn('THREE.ObjectLoader: No \"image\" specified for',c.uuid),void 0===e[c.image]&&console.warn(\"THREE.ObjectLoader: Undefined image\",c.image);var f=new o(e[c.image]);f.needsUpdate=!0,f.uuid=c.uuid,void 0!==c.name&&(f.name=c.name),void 0!==c.mapping&&(f.mapping=n(c.mapping,r)),void 0!==c.offset&&f.offset.fromArray(c.offset),void 0!==c.repeat&&f.repeat.fromArray(c.repeat),void 0!==c.wrap&&(f.wrapS=n(c.wrap[0],i),f.wrapT=n(c.wrap[1],i)),void 0!==c.minFilter&&(f.minFilter=n(c.minFilter,a)),void 0!==c.magFilter&&(f.magFilter=n(c.magFilter,a)),void 0!==c.anisotropy&&(f.anisotropy=c.anisotropy),void 0!==c.flipY&&(f.flipY=c.flipY),s[c.uuid]=f}return s},parseObject:function(){var t=new f;return function(e,n,r){function i(t){return void 0===n[t]&&console.warn(\"THREE.ObjectLoader: Undefined geometry\",t),n[t]}function o(t){if(void 0!==t)return void 0===r[t]&&console.warn(\"THREE.ObjectLoader: Undefined material\",t),r[t]}var a;switch(e.type){case\"Scene\":a=new de,void 0!==e.background&&Number.isInteger(e.background)&&(a.background=new X(e.background)),void 0!==e.fog&&(\"Fog\"===e.fog.type?a.fog=new he(e.fog.color,e.fog.near,e.fog.far):\"FogExp2\"===e.fog.type&&(a.fog=new fe(e.fog.color,e.fog.density)));break;case\"PerspectiveCamera\":a=new Dt(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case\"OrthographicCamera\":a=new Ut(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case\"AmbientLight\":a=new Fn(e.color,e.intensity);break;case\"DirectionalLight\":a=new zn(e.color,e.intensity);break;case\"PointLight\":a=new Dn(e.color,e.intensity,e.distance,e.decay);break;case\"SpotLight\":a=new In(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case\"HemisphereLight\":a=new Ln(e.color,e.groundColor,e.intensity);break;case\"Mesh\":var s=i(e.geometry),u=o(e.material);a=s.bones&&s.bones.length>0?new xe(s,u):new Rt(s,u);break;case\"LOD\":a=new ge;break;case\"Line\":a=new we(i(e.geometry),o(e.material),e.mode);break;case\"LineSegments\":a=new Ee(i(e.geometry),o(e.material));break;case\"PointCloud\":case\"Points\":a=new Te(i(e.geometry),o(e.material));break;case\"Sprite\":a=new ve(o(e.material));break;case\"Group\":a=new Se;break;case\"SkinnedMesh\":console.warn(\"THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.\");default:a=new ct}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.children)for(var l in e.children)a.add(this.parseObject(e.children[l],n,r));if(\"LOD\"===e.type)for(var c=e.levels,f=0;f<c.length;f++){var h=c[f],l=a.getObjectByProperty(\"uuid\",h.object);void 0!==l&&a.addLevel(l,h.distance)}return a}}()}),mr.prototype={constructor:mr,getPoint:function(t){return console.warn(\"THREE.Curve: Warning, getPoint() not implemented!\"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){isNaN(t)&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(isNaN(t)&&(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,u=o-1;s<=u;)if(i=Math.floor(s+(u-s)/2),(a=r[i]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,r[i]===n){var l=i/(o-1);return l}var c=r[i],f=r[i+1],h=f-c,d=(n-c)/h,l=(i+d)/(o-1);return l},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,o=new c,a=[],s=[],u=[],l=new c,h=new f;for(n=0;n<=t;n++)r=n/t,a[n]=this.getTangentAt(r),a[n].normalize();s[0]=new c,u[0]=new c;var d=Number.MAX_VALUE,p=Math.abs(a[0].x),m=Math.abs(a[0].y),v=Math.abs(a[0].z);for(p<=d&&(d=p,o.set(1,0,0)),m<=d&&(d=m,o.set(0,1,0)),v<=d&&o.set(0,0,1),l.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],l),u[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),l.crossVectors(a[n-1],a[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(ds.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(h.makeRotationAxis(l,i))),u[n].crossVectors(a[n],s[n]);if(!0===e)for(i=Math.acos(ds.clamp(s[0].dot(s[t]),-1,1)),i/=t,a[0].dot(l.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(h.makeRotationAxis(a[n],i*n)),u[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:u}}},vr.prototype=Object.create(mr.prototype),vr.prototype.constructor=vr,vr.prototype.isLineCurve=!0,vr.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},vr.prototype.getPointAt=function(t){return this.getPoint(t)},vr.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},gr.prototype=Object.assign(Object.create(mr.prototype),{constructor:gr,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new vr(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){isNaN(t)&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*t:o&&o.isLineCurve?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Pt,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new c(i.x,i.y,i.z||0))}return e}}),yr.prototype=Object.create(mr.prototype),yr.prototype.constructor=yr,yr.prototype.isEllipseCurve=!0,yr.prototype.getPoint=function(t){for(var e=2*Math.PI,n=this.aEndAngle-this.aStartAngle,r=Math.abs(n)<Number.EPSILON;n<0;)n+=e;for(;n>e;)n-=e;n<Number.EPSILON&&(n=r?0:e),!0!==this.aClockwise||r||(n===e?n=-e:n-=e);var o=this.aStartAngle+t*n,a=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),l=Math.sin(this.aRotation),c=a-this.aX,f=s-this.aY;a=c*u-f*l+this.aX,s=c*l+f*u+this.aY}return new i(a,s)},br.prototype=Object.create(mr.prototype),br.prototype.constructor=br,br.prototype.isSplineCurve=!0,br.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),o=n-r,a=e[0===r?r:r-1],s=e[r],u=e[r>e.length-2?e.length-1:r+1],l=e[r>e.length-3?e.length-1:r+2];return new i(or(o,a.x,s.x,u.x,l.x),or(o,a.y,s.y,u.y,l.y))},xr.prototype=Object.create(mr.prototype),xr.prototype.constructor=xr,xr.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,o=this.v3;return new i(pr(t,e.x,n.x,r.x,o.x),pr(t,e.y,n.y,r.y,o.y))},_r.prototype=Object.create(mr.prototype),_r.prototype.constructor=_r,_r.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new i(lr(t,e.x,n.x,r.x),lr(t,e.y,n.y,r.y))};var Ds=Object.assign(Object.create(gr.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new vr(this.currentPoint.clone(),new i(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var o=new _r(this.currentPoint.clone(),new i(t,e),new i(n,r));this.curves.push(o),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,o,a){var s=new xr(this.currentPoint.clone(),new i(t,e),new i(n,r),new i(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new br(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var u=new yr(t,e,n,r,i,o,a,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)}});wr.prototype=Ds,Ds.constructor=wr,Er.prototype=Object.assign(Object.create(Ds),{constructor:Er,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Mr.prototype={moveTo:function(t,e){this.currentPath=new wr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,o){this.currentPath.bezierCurveTo(t,e,n,r,i,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Er;o.curves=i.curves,e.push(o)}return e}var r=Cs.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===e)return n(i);var o,a,s,u=[];if(1===i.length)return a=i[0],s=new Er,s.curves=a.curves,u.push(s),u;var l=!r(i[0].getPoints());l=t?!l:l;var c,f=[],h=[],d=[],p=0;h[p]=void 0,d[p]=[];for(var m=0,v=i.length;m<v;m++)a=i[m],c=a.getPoints(),o=r(c),o=t?!o:o,o?(!l&&h[p]&&p++,h[p]={s:new Er,p:c},h[p].s.curves=a.curves,l&&p++,d[p]=[]):d[p].push({h:a,p:c[0]});if(!h[0])return n(i);if(h.length>1){for(var g=!1,y=[],b=0,x=h.length;b<x;b++)f[b]=[];for(var b=0,x=h.length;b<x;b++)for(var _=d[b],w=0;w<_.length;w++){for(var E=_[w],M=!0,T=0;T<h.length;T++)(function(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],u=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=e[o],u=-u,s=e[i],l=-l),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=l*(t.x-a.x)-u*(t.y-a.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r})(E.p,h[T].p)&&(b!==T&&y.push({froms:b,tos:T,hole:w}),M?(M=!1,f[T].push(E)):g=!0);M&&f[b].push(E)}y.length>0&&(g||(d=f))}for(var S,m=0,A=h.length;m<A;m++){s=h[m].s,u.push(s),S=d[m];for(var P=0,C=S.length;P<C;P++)s.holes.push(S[P].h)}return u}},Object.assign(Tr.prototype,{isFont:!0,generateShapes:function(t,e,n){function r(t,e,r,o){var a=i.glyphs[t]||i.glyphs[\"?\"];if(a){var s,u,l,c,f,h,d,p,m,v,g,y=new Mr,b=[];if(a.o)for(var x=a._cachedOutline||(a._cachedOutline=a.o.split(\" \")),_=0,w=x.length;_<w;){var E=x[_++];switch(E){case\"m\":s=x[_++]*e+r,u=x[_++]*e+o,y.moveTo(s,u);break;case\"l\":s=x[_++]*e+r,u=x[_++]*e+o,y.lineTo(s,u);break;case\"q\":if(l=x[_++]*e+r,c=x[_++]*e+o,d=x[_++]*e+r,p=x[_++]*e+o,y.quadraticCurveTo(d,p,l,c),g=b[b.length-1]){f=g.x,h=g.y;for(var M=1;M<=n;M++){var T=M/n;lr(T,f,d,l),lr(T,h,p,c)}}break;case\"b\":if(l=x[_++]*e+r,c=x[_++]*e+o,d=x[_++]*e+r,p=x[_++]*e+o,m=x[_++]*e+r,v=x[_++]*e+o,y.bezierCurveTo(d,p,m,v,l,c),g=b[b.length-1]){f=g.x,h=g.y;for(var M=1;M<=n;M++){var T=M/n;pr(T,f,d,m,l),pr(T,h,p,v,c)}}}}return{offsetX:a.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,o=function(t){for(var n=String(t).split(\"\"),o=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*o,s=0,u=0,l=[],c=0;c<n.length;c++){var f=n[c];if(\"\\n\"===f)s=0,u-=a;else{var h=r(f,o,s,u);s+=h.offsetX,l.push(h.path)}}return l}(t),a=[],s=0,u=o.length;s<u;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Object.assign(Sr.prototype,{load:function(t,e,n,r){var i=this;new Tn(this.manager).load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn(\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new Tr(t)}});var Us,zs={getContext:function(){return void 0===Us&&(Us=new(window.AudioContext||window.webkitAudioContext)),Us},setContext:function(t){Us=t}};Object.assign(Ar.prototype,{load:function(t,e,n,r){var i=new Tn(this.manager);i.setResponseType(\"arraybuffer\"),i.load(t,function(t){zs.getContext().decodeAudioData(t,function(t){e(t)})},n,r)}}),Pr.prototype=Object.assign(Object.create(On.prototype),{constructor:Pr,isRectAreaLight:!0,copy:function(t){return On.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(Cr.prototype,{update:function(){var t,e,n,r,i,o,a,s=new f,u=new f;return function(l){if(t!==this||e!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||o!==l.far||a!==l.zoom){t=this,e=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,o=l.far,a=l.zoom;var c,f,h=l.projectionMatrix.clone(),d=this.eyeSep/2,p=d*i/e,m=i*Math.tan(ds.DEG2RAD*n*.5)/a;u.elements[12]=-d,s.elements[12]=d,c=-m*r+p,f=m*r+p,h.elements[0]=2*i/(f-c),h.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(h),c=-m*r-p,f=m*r-p,h.elements[0]=2*i/(f-c),h.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(u),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(s)}}()}),Rr.prototype=Object.create(ct.prototype),Rr.prototype.constructor=Rr,Or.prototype=Object.assign(Object.create(ct.prototype),{constructor:Or,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new c,e=new l,n=new c,r=new c;return function(i){ct.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(r.x,this.context.currentTime),o.forwardY.setValueAtTime(r.y,this.context.currentTime),o.forwardZ.setValueAtTime(r.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),Lr.prototype=Object.assign(Object.create(ct.prototype),{constructor:Lr,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType=\"audioNode\",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType=\"buffer\",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn(\"THREE.Audio: Audio is already playing.\");if(!1===this.hasPlaybackControl)return void console.warn(\"THREE.Audio: this Audio has no playback control.\");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn(\"THREE.Audio: this Audio has no playback control.\"):(this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn(\"THREE.Audio: this Audio has no playback control.\"):(this.source.stop(),this.startTime=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn(\"THREE.Audio: this Audio has no playback control.\"):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn(\"THREE.Audio: this Audio has no playback control.\"),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn(\"THREE.Audio: this Audio has no playback control.\"):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),kr.prototype=Object.assign(Object.create(Lr.prototype),{constructor:kr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new c;return function(e){ct.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(Nr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Ir.prototype={constructor:Ir,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,u=e+e;s!==u;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){l.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}},Dr.prototype={constructor:Dr,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Dr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error(\"  trying to update node for track: \"+this.path+\" but it wasn't found.\");if(n){var o=e.objectIndex;switch(n){case\"materials\":if(!t.material)return void console.error(\"  can not bind to material as node does not have a material\",this);if(!t.material.materials)return void console.error(\"  can not bind to material.materials as node.material does not have a materials array\",this);t=t.material.materials;break;case\"bones\":if(!t.skeleton)return void console.error(\"  can not bind to bones as node does not have a skeleton\",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error(\"  can not bind to objectName of node, undefined\",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error(\"  trying to bind to objectIndex of objectName, but is undefined:\",this,t);t=t[o]}}var s=t[r];if(void 0===s){var u=e.nodeName;return void console.error(\"  trying to update property for track: \"+u+\".\"+r+\" but it wasn't found.\",t)}var l=this.Versioning.None;void 0!==t.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==i){if(\"morphTargetInfluences\"===r){if(!t.geometry)return void console.error(\"  can not bind to morphTargetInfluences becasuse node does not have a geometry\",this);if(!t.geometry.morphTargets)return void console.error(\"  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets\",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Dr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Dr.prototype.getValue,_setValue_unbound:Dr.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Dr.Composite=function(t,e,n){var r=n||Dr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},Dr.Composite.prototype={constructor:Dr.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Dr.create=function(t,e,n){return t&&t.isAnimationObjectGroup?new Dr.Composite(t,e,n):new Dr(t,e,n)},Dr.parseTrackName=function(t){var e=/^((?:[\\w-]+[\\/:])*)([\\w-]+)?(?:\\.([\\w-]+)(?:\\[(.+)\\])?)?\\.([\\w-]+)(?:\\[(.+)\\])?$/,n=e.exec(t);if(!n)throw new Error(\"cannot parse trackName at all: \"+t);var r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]};if(null===r.propertyName||0===r.propertyName.length)throw new Error(\"can not parse propertyName from trackName: \"+t);return r},Dr.findNode=function(t,e){if(!e||\"\"===e||\"root\"===e||\".\"===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null},Ur.prototype={constructor:Ur,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,u=s.length,l=0,c=arguments.length;l!==c;++l){var f=arguments[l],h=f.uuid,d=i[h],p=void 0;if(void 0===d){d=n++,i[h]=d,e.push(f);for(var m=0,v=u;m!==v;++m)s[m].push(new Dr(f,o[m],a[m]))}else if(d<r){p=e[d];var g=--r,y=e[g];i[y.uuid]=d,e[d]=y,i[h]=g,e[g]=f;for(var m=0,v=u;m!==v;++m){var b=s[m],x=b[g],_=b[d];b[d]=x,void 0===_&&(_=new Dr(f,o[m],a[m])),b[g]=_}}else e[d]!==p&&console.error(\"Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...\")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],l=u.uuid,c=r[l];if(void 0!==c&&c>=n){var f=n++,h=e[f];r[h.uuid]=c,e[c]=h,r[l]=f,e[f]=u;for(var d=0,p=o;d!==p;++d){var m=i[d],v=m[f],g=m[c];m[c]=v,m[f]=g}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,u=arguments.length;s!==u;++s){var l=arguments[s],c=l.uuid,f=i[c];if(void 0!==f)if(delete i[c],f<r){var h=--r,d=e[h],p=--n,m=e[p];i[d.uuid]=f,e[f]=d,i[m.uuid]=h,e[h]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v],b=y[h],x=y[p];y[f]=b,y[h]=x,y.pop()}}else{var p=--n,m=e[p];i[m.uuid]=f,e[f]=m,e.pop();for(var v=0,g=a;v!==g;++v){var y=o[v];y[f]=y[p],y.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(c);for(var f=l,h=s.length;f!==h;++f){var d=s[f];c[f]=new Dr(d,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},zr.prototype={constructor:zr,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=t/a,u[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,c=0,f=u.length;c!==f;++c)u[c].evaluate(a),l[c].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===Wa){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t<0?-1:1})}}else{var o=r===Xa;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:\"loop\",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=Qa,r.endingEnd=Qa):(r.endingStart=t?this.zeroSlopeAtStart?Qa:$a:Ja,r.endingEnd=e?this.zeroSlopeAtEnd?Qa:$a:Ja)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}},Fr.prototype={constructor:Fr,clipAction:function(t,e){var n=e||this._root,r=n.uuid,i=\"string\"==typeof t?Jn.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var u=a.actionByRoot[r];if(void 0!==u)return u;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new zr(this,i,e);return this._bindAction(l,s),this._addInactiveAction(l,o,r),l},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i=\"string\"==typeof t?Jn.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[r]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(var i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(r,t,i,o)}for(var u=this._bindings,l=this._nActiveBindings,a=0;a!==l;++a)u[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var l=u._cacheIndex,c=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,e[l]=c,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot,o=i[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var u in s){var l=s[u];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(Fr.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var f=r[c],h=f.name,d=l[h];if(void 0!==d)o[c]=d;else{if(void 0!==(d=o[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=e&&e._propertyBindings[c].binding.parsedPath;d=new Ir(Dr.create(n,h,p),f.ValueTypeName,f.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,h),o[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete a[i];t:{for(var l in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new Hn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(Fr.prototype,r.prototype),Br.prototype.clone=function(){return new Br(void 0===this.value.clone?this.value:this.value.clone())},jr.prototype=Object.create(Ct.prototype),jr.prototype.constructor=jr,jr.prototype.isInstancedBufferGeometry=!0,jr.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,materialIndex:n})},jr.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}return this},Hr.prototype={constructor:Hr,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},Vr.prototype={constructor:Vr,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},Gr.prototype=Object.create(Vr.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isInstancedInterleavedBuffer=!0,Gr.prototype.copy=function(t){return Vr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Wr.prototype=Object.create(mt.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isInstancedBufferAttribute=!0,Wr.prototype.copy=function(t){return mt.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Yr.prototype={constructor:Yr,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error(\"THREE.Raycaster: Unsupported camera type.\")},intersectObject:function(t,e){var n=[];return qr(t,this,n,e),n.sort(Xr),n},intersectObjects:function(t,e){var n=[];if(!1===Array.isArray(t))return console.warn(\"THREE.Raycaster.intersectObjects: objects is not an Array.\"),n;for(var r=0,i=t.length;r<i;r++)qr(t[r],this,n,e);return n.sort(Xr),n}},Zr.prototype={constructor:Zr,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Kr.prototype={constructor:Kr,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(ds.clamp(t.y/this.radius,-1,1))),this}},$r.prototype={constructor:$r,set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},Qr.prototype=Object.create(Rt.prototype),Qr.prototype.constructor=Qr,Qr.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},Qr.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o],u=s.name.match(n);if(u&&u.length>1){var l=u[1];r[l]||(r[l]={start:1/0,end:-1/0});var c=r[l];o<c.start&&(c.start=o),o>c.end&&(c.end=o),e||(e=l)}}for(var l in r){var c=r[l];this.createAnimation(l,c.start,c.end,t)}this.firstAnimation=e},Qr.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Qr.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Qr.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Qr.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Qr.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Qr.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Qr.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},Qr.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},Qr.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn(\"THREE.MorphBlendMesh: animation[\"+t+\"] undefined in .playAnimation()\")},Qr.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Qr.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+ds.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},Jr.prototype=Object.create(ct.prototype),Jr.prototype.constructor=Jr,Jr.prototype.isImmediateRenderObject=!0,ti.prototype=Object.create(Ee.prototype),ti.prototype.constructor=ti,ti.prototype.update=function(){var t=new c,e=new c,n=new rt;return function(){var r=[\"a\",\"b\",\"c\"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,u=a.faces,l=0,c=0,f=u.length;c<f;c++)for(var h=u[c],d=0,p=h.vertexNormals.length;d<p;d++){var m=s[h[r[d]]],v=h.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(v).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1}else if(a&&a.isBufferGeometry)for(var g=a.attributes.position,y=a.attributes.normal,l=0,d=0,p=g.count;d<p;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1;return o.needsUpdate=!0,this}}(),ei.prototype=Object.create(ct.prototype),ei.prototype.constructor=ei,ei.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},ei.prototype.update=function(){var t=new c,e=new c;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),ni.prototype=Object.create(Ee.prototype),ni.prototype.constructor=ni,ni.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},ni.prototype.update=function(){var t=new c,e=new f,n=new f;return function(){var r=this.geometry,i=r.getAttribute(\"position\");n.getInverse(this.root.matrixWorld);for(var o=0,a=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(e.multiplyMatrices(n,s.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a,t.x,t.y,t.z),e.multiplyMatrices(n,s.parent.matrixWorld),t.setFromMatrixPosition(e),i.setXYZ(a+1,t.x,t.y,t.z),a+=2)}r.getAttribute(\"position\").needsUpdate=!0}}(),ri.prototype=Object.create(Rt.prototype),ri.prototype.constructor=ri,ri.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ri.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},ii.prototype=Object.create(ct.prototype),ii.prototype.constructor=ii,ii.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},ii.prototype.update=function(){var t=new c,e=new c;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var i=e.clone().sub(t);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var o=.5*this.light.width,a=.5*this.light.height,s=n.geometry.getAttribute(\"position\"),u=s.array;u[0]=o,u[1]=-a,u[2]=0,u[3]=o,u[4]=a,u[5]=0,u[6]=-o,u[7]=a,u[8]=0,u[9]=-o,u[10]=a,u[11]=0,u[12]=-o,u[13]=-a,u[14]=0,u[15]=o,u[16]=-a,u[17]=0,s.needsUpdate=!0}}(),oi.prototype=Object.create(ct.prototype),oi.prototype.constructor=oi,oi.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},oi.prototype.update=function(){var t=new c,e=new X,n=new X;return function(){var r=this.children[0],i=r.geometry.getAttribute(\"color\");e.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,a=i.count;o<a;o++){var s=o<a/2?e:n;i.setXYZ(o,s.r,s.g,s.b)}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),ai.prototype=Object.create(Ee.prototype),ai.prototype.constructor=ai,si.prototype=Object.create(Ee.prototype),si.prototype.constructor=si,ui.prototype=Object.create(Ee.prototype),ui.prototype.constructor=ui,ui.prototype.update=function(){var t=new c,e=new c,n=new rt;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,u=0,l=0,c=s.length;l<c;l++){var f=s[l],h=f.normal;t.copy(a[f.a]).add(a[f.b]).add(a[f.c]).divideScalar(3).applyMatrix4(r),e.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),u+=1,i.setXYZ(u,e.x,e.y,e.z),u+=1}return i.needsUpdate=!0,this}}(),li.prototype=Object.create(ct.prototype),li.prototype.constructor=li,li.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},li.prototype.update=function(){var t=new c,e=new c,n=new c;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),ci.prototype=Object.create(Ee.prototype),ci.prototype.constructor=ci,ci.prototype.update=function(){function t(t,o,a,s){r.set(o,a,s).unproject(i);var u=n[t];if(void 0!==u)for(var l=e.getAttribute(\"position\"),c=0,f=u.length;c<f;c++)l.setXYZ(u[c],r.x,r.y,r.z)}var e,n,r=new c,i=new It;return function(){e=this.geometry,n=this.pointMap;i.projectionMatrix.copy(this.camera.projectionMatrix),t(\"c\",0,0,-1),t(\"t\",0,0,1),t(\"n1\",-1,-1,-1),t(\"n2\",1,-1,-1),t(\"n3\",-1,1,-1),t(\"n4\",1,1,-1),t(\"f1\",-1,-1,1),t(\"f2\",1,-1,1),t(\"f3\",-1,1,1),t(\"f4\",1,1,1),t(\"u1\",.7,1.1,-1),t(\"u2\",-.7,1.1,-1),t(\"u3\",0,2,-1),t(\"cf1\",-1,0,1),t(\"cf2\",1,0,1),t(\"cf3\",0,-1,1),t(\"cf4\",0,1,1),t(\"cn1\",-1,0,-1),t(\"cn2\",1,0,-1),t(\"cn3\",0,-1,-1),t(\"cn4\",0,1,-1),e.getAttribute(\"position\").needsUpdate=!0}}(),fi.prototype=Object.create(Ee.prototype),fi.prototype.constructor=fi,fi.prototype.update=function(){var t=new et;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Fs,Bs;hi.prototype=Object.create(ct.prototype),hi.prototype.constructor=hi,hi.prototype.setDirection=function(){var t,e=new c;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),hi.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},hi.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},di.prototype=Object.create(Ee.prototype),di.prototype.constructor=di;var js=new c,Hs=new pi,Vs=new pi,Gs=new pi;mi.prototype=Object.create(mr.prototype),mi.prototype.constructor=mi,mi.prototype.getPoint=function(t){var e=this.points,n=e.length;n<2&&console.log(\"duh, you need at least 2 points\");var r=(n-(this.closed?0:1))*t,i=Math.floor(r),o=r-i;this.closed?i+=i>0?0:(Math.floor(Math.abs(i)/e.length)+1)*e.length:0===o&&i===n-1&&(i=n-2,o=1);var a,s,u,l;if(this.closed||i>0?a=e[(i-1)%n]:(js.subVectors(e[0],e[1]).add(e[0]),a=js),s=e[i%n],u=e[(i+1)%n],this.closed||i+2<n?l=e[(i+2)%n]:(js.subVectors(e[n-1],e[n-2]).add(e[n-1]),l=js),void 0===this.type||\"centripetal\"===this.type||\"chordal\"===this.type){var f=\"chordal\"===this.type?.5:.25,h=Math.pow(a.distanceToSquared(s),f),d=Math.pow(s.distanceToSquared(u),f),p=Math.pow(u.distanceToSquared(l),f);d<1e-4&&(d=1),h<1e-4&&(h=d),p<1e-4&&(p=d),Hs.initNonuniformCatmullRom(a.x,s.x,u.x,l.x,h,d,p),Vs.initNonuniformCatmullRom(a.y,s.y,u.y,l.y,h,d,p),Gs.initNonuniformCatmullRom(a.z,s.z,u.z,l.z,h,d,p)}else if(\"catmullrom\"===this.type){var m=void 0!==this.tension?this.tension:.5;Hs.initCatmullRom(a.x,s.x,u.x,l.x,m),Vs.initCatmullRom(a.y,s.y,u.y,l.y,m),Gs.initCatmullRom(a.z,s.z,u.z,l.z,m)}return new c(Hs.calc(o),Vs.calc(o),Gs.calc(o))},vi.prototype=Object.create(mr.prototype),vi.prototype.constructor=vi,vi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2,i=this.v3;return new c(pr(t,e.x,n.x,r.x,i.x),pr(t,e.y,n.y,r.y,i.y),pr(t,e.z,n.z,r.z,i.z))},gi.prototype=Object.create(mr.prototype),gi.prototype.constructor=gi,gi.prototype.getPoint=function(t){var e=this.v0,n=this.v1,r=this.v2;return new c(lr(t,e.x,n.x,r.x),lr(t,e.y,n.y,r.y),lr(t,e.z,n.z,r.z))},yi.prototype=Object.create(mr.prototype),yi.prototype.constructor=yi,yi.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=new c;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e},bi.prototype=Object.create(yr.prototype),bi.prototype.constructor=bi;var Ws={createMultiMaterialObject:function(t,e){for(var n=new Se,r=0,i=e.length;r<i;r++)n.add(new Rt(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new f;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},Ys=0,Xs=1;mr.create=function(t,e){return console.log(\"THREE.Curve.create() has been deprecated\"),t.prototype=Object.create(mr.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Fi.prototype=Object.create(mi.prototype),Bi.prototype=Object.create(mi.prototype),ji.prototype=Object.create(mi.prototype),Object.assign(ji.prototype,{initFromArray:function(t){console.error(\"THREE.Spline: .initFromArray() has been removed.\")},getControlPointsArray:function(t){console.error(\"THREE.Spline: .getControlPointsArray() has been removed.\")},reparametrizeByArcLength:function(t){console.error(\"THREE.Spline: .reparametrizeByArcLength() has been removed.\")}}),ai.prototype.setColors=function(){console.error(\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\")},Object.assign(Z.prototype,{center:function(t){return console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\"),this.getCenter(t)},empty:function(){return console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},size:function(t){return console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\"),this.getSize(t)}}),Object.assign(et.prototype,{center:function(t){return console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},empty:function(){return console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn(\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)},size:function(t){return console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\"),this.getSize(t)}}),ft.prototype.center=function(t){return console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},ds.random16=function(){return console.warn(\"THREE.Math.random16() has been deprecated. Use Math.random() instead.\"),Math.random()},Object.assign(rt.prototype,{flattenToArrayOffset:function(t,e){return console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},multiplyVector3:function(t){return console.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn(\"THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\"),this.applyToVector3Array(t)},applyToBuffer:function(t,e,n){return console.warn(\"THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error(\"THREE.Matrix3: .applyToVector3Array() has been removed.\")}}),Object.assign(f.prototype,{extractPosition:function(t){return console.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new c),console.warn(\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.\"),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"),t.transformDirection(this)},crossVector:function(t){return console.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},translate:function(){console.error(\"THREE.Matrix4: .translate() has been removed.\")},rotateX:function(){console.error(\"THREE.Matrix4: .rotateX() has been removed.\")},rotateY:function(){console.error(\"THREE.Matrix4: .rotateY() has been removed.\")},rotateZ:function(){console.error(\"THREE.Matrix4: .rotateZ() has been removed.\")},rotateByAxis:function(){console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\")},applyToBuffer:function(t,e,n){return console.warn(\"THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(t)},applyToVector3Array:function(t,e,n){console.error(\"THREE.Matrix4: .applyToVector3Array() has been removed.\")},makeFrustum:function(t,e,n,r,i,o){return console.warn(\"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"),this.makePerspective(t,e,r,n,i,o)}}),it.prototype.isIntersectionLine=function(t){return console.warn(\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"),this.intersectsLine(t)},l.prototype.multiplyVector3=function(t){return console.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"),t.applyQuaternion(this)},Object.assign(st.prototype,{isIntersectionBox:function(t){return console.warn(\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn(\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn(\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)}}),Object.assign(Er.prototype,{extrude:function(t){return console.warn(\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"),new Ke(this,t)},makeGeometry:function(t){return console.warn(\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"),new on(this,t)}}),Object.assign(i.prototype,{fromAttribute:function(t,e,n){return console.error(\"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)}}),Object.assign(c.prototype,{setEulerFromRotationMatrix:function(){console.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\")},setEulerFromQuaternion:function(){console.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\")},getPositionFromMatrix:function(t){return console.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn(\"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.error(\"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)}}),Object.assign(a.prototype,{fromAttribute:function(t,e,n){return console.error(\"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)}}),Pt.prototype.computeTangents=function(){console.warn(\"THREE.Geometry: .computeTangents() has been removed.\")},Object.assign(ct.prototype,{getChildByName:function(t){return console.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"),this.getObjectByName(t)},renderDepth:function(){console.warn(\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\")},translate:function(t,e){return console.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"),this.translateOnAxis(e,t)}}),Object.defineProperties(ct.prototype,{eulerOrder:{get:function(){return console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order},set:function(t){console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order=t}},useQuaternion:{get:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},set:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")}}}),Object.defineProperties(ge.prototype,{objects:{get:function(){return console.warn(\"THREE.LOD: .objects has been renamed to .levels.\"),this.levels}}}),Dt.prototype.setLens=function(t,e){console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\"),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(On.prototype,{onlyShadow:{set:function(){console.warn(\"THREE.Light: .onlyShadow has been removed.\")}},shadowCameraFov:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn(\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn(\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn(\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn(\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn(\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn(\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\")}},shadowBias:{set:function(t){console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\"),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn(\"THREE.Light: .shadowDarkness has been removed.\")}},shadowMapWidth:{set:function(t){console.warn(\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn(\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"),this.shadow.mapSize.height=t}}}),Object.defineProperties(mt.prototype,{length:{get:function(){return console.warn(\"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"),this.array.length}}}),Object.assign(Ct.prototype,{addIndex:function(t){console.warn(\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn(\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"),console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\"),this.addGroup(t,e)},clearDrawCalls:function(){console.warn(\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"),this.clearGroups()},computeTangents:function(){console.warn(\"THREE.BufferGeometry: .computeTangents() has been removed.\")},computeOffsets:function(){console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\")}}),Object.defineProperties(Ct.prototype,{drawcalls:{get:function(){return console.error(\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"),this.groups}},offsets:{get:function(){return console.warn(\"THREE.BufferGeometry: .offsets has been renamed to .groups.\"),this.groups}}}),Object.defineProperties(Br.prototype,{dynamic:{set:function(){console.warn(\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\")}},onUpdate:{value:function(){return console.warn(\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"),this}}}),Object.defineProperties(Q.prototype,{wrapAround:{get:function(){console.warn(\"THREE.\"+this.type+\": .wrapAround has been removed.\")},set:function(){console.warn(\"THREE.\"+this.type+\": .wrapAround has been removed.\")}},wrapRGB:{get:function(){return console.warn(\"THREE.\"+this.type+\": .wrapRGB has been removed.\"),new X}}}),Object.defineProperties(bn.prototype,{metal:{get:function(){return console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\"),!1},set:function(){console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\")}}}),Object.defineProperties(J.prototype,{derivatives:{get:function(){return console.warn(\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives},set:function(t){console.warn(\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives=t}}}),Object.assign(ce.prototype,{supportsFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"),this.extensions.get(\"OES_texture_float\")},supportsHalfFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"),this.extensions.get(\"OES_texture_half_float\")},supportsStandardDerivatives:function(){return console.warn(\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"),this.extensions.get(\"OES_standard_derivatives\")},supportsCompressedTextureS3TC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_s3tc\")},supportsCompressedTexturePVRTC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_pvrtc\")},supportsBlendMinMax:function(){return console.warn(\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"),this.extensions.get(\"EXT_blend_minmax\")},supportsVertexTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn(\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"),this.extensions.get(\"ANGLE_instanced_arrays\")},enableScissorTest:function(t){console.warn(\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"),this.setScissorTest(t)},initMaterial:function(){console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\")},addPrePlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\")},addPostPlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\")},updateShadowMap:function(){console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\")}}),Object.defineProperties(ce.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.\"),this.shadowMap.cullFace=t}}}),Object.defineProperties(at.prototype,{cullFace:{get:function(){return this.renderReverseSided?Ji:Qi},set:function(t){var e=t!==Qi;console.warn(\"WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to \"+e+\".\"),this.renderReverseSided=e}}}),Object.defineProperties(s.prototype,{wrapS:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy=t}},offset:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset=t}},repeat:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat=t}},format:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format=t}},type:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps=t}}}),Lr.prototype.load=function(t){console.warn(\"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\");var e=this;return(new Ar).load(t,function(t){e.setBuffer(t)}),this},Nr.prototype.getData=function(){return console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\"),this.getFrequencyData()};var qs={merge:function(t,e,n){console.warn(\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\");var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn(\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\"),t.center()}},Zs={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn(\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\");var i=new Rn;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn(\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\");var i=new Cn;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error(\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\")},loadCompressedTextureCube:function(){console.error(\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\")}}},function(t,e){var n=t.exports={version:\"2.4.0\"};\"number\"==typeof __e&&(__e=n)},function(t,e,n){t.exports={default:n(166),__esModule:!0}},function(t,e,n){var r=n(60)(\"wks\"),i=n(42),o=n(18).Symbol,a=\"function\"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)(\"Symbol.\"+t))}).store=r},function(t,e,n){var r=n(18),i=n(8),o=n(29),a=n(22),s=function(t,e,n){var u,l,c,f=t&s.F,h=t&s.G,d=t&s.S,p=t&s.P,m=t&s.B,v=t&s.W,g=h?i:i[e]||(i[e]={}),y=g.prototype,b=h?r:d?r[e]:(r[e]||{}).prototype;h&&(n=e);for(u in n)(l=!f&&b&&void 0!==b[u])&&u in g||(c=l?b[u]:n[u],g[u]=h&&\"function\"!=typeof b[u]?n[u]:m&&l?o(c,r):v&&b[u]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):p&&\"function\"==typeof c?o(Function.call,c):c,p&&((g.virtual||(g.virtual={}))[u]=c,t&s.R&&y&&!y[u]&&a(y,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){var r=n(21),i=n(78),o=n(62),a=Object.defineProperty;e.f=n(17)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){\"use strict\";(function(n){function r(t){return function(e,n,r){return r&&\"function\"==typeof r.value?(r.value=z(t,r.value),r.enumerable=!1,r.configurable=!0,r):Ve(t).apply(this,arguments)}}function i(t,e,n){var r=\"string\"==typeof t?t:t.name||\"<unnamed action>\",i=\"function\"==typeof t?t:e,o=\"function\"==typeof t?e:n;return xe(\"function\"==typeof i,ve(\"m002\")),xe(0===i.length,ve(\"m003\")),xe(\"string\"==typeof r&&r.length>0,\"actions should have valid names, got: '\"+r+\"'\"),F(r,i,o,void 0)}function o(t){return\"function\"==typeof t&&!0===t.isMobxAction}function a(t,e,n){var r=function(){return F(e,n,t,arguments)};r.isMobxAction=!0,Re(t,e,r)}function s(t,e,n){function r(){a(u)}var i,a,s;\"string\"==typeof t?(i=t,a=e,s=n):(i=t.name||\"Autorun@\"+ye(),a=t,s=e),xe(\"function\"==typeof a,ve(\"m004\")),xe(!1===o(a),ve(\"m005\")),s&&(a=a.bind(s));var u=new dn(i,function(){this.track(r)});return u.schedule(),u.getDisposer()}function u(t,e,n,r){var i,o,a,u;return\"string\"==typeof t?(i=t,o=e,a=n,u=r):(i=\"When@\"+ye(),o=t,a=e,u=n),s(i,function(t){if(o.call(u)){t.dispose();var e=et();a.call(u),nt(e)}})}function l(t,e,n,r){function i(){s(f)}var a,s,u,l;\"string\"==typeof t?(a=t,s=e,u=n,l=r):(a=t.name||\"AutorunAsync@\"+ye(),s=t,u=e,l=n),xe(!1===o(s),ve(\"m006\")),void 0===u&&(u=1),l&&(s=s.bind(l));var c=!1,f=new dn(a,function(){c||(c=!0,setTimeout(function(){c=!1,f.isDisposed||f.track(i)},u))});return f.schedule(),f.getDisposer()}function c(t,e,n){function r(){if(!u.isDisposed){var n=!1;u.track(function(){var e=t(u);n=Pe(i.compareStructural,o,e),o=e}),a&&i.fireImmediately&&e(o,u),a||!0!==n||e(o,u),a&&(a=!1)}}arguments.length>3&&be(ve(\"m007\")),zt(t)&&be(ve(\"m008\"));var i;i=\"object\"==typeof n?n:{},i.name=i.name||t.name||e.name||\"Reaction@\"+ye(),i.fireImmediately=!0===n||!0===i.fireImmediately,i.delay=i.delay||0,i.compareStructural=i.compareStructural||i.struct||!1,e=We(i.name,i.context?e.bind(i.context):e),i.context&&(t=t.bind(i.context));var o,a=!0,s=!1,u=new dn(i.name,function(){a||i.delay<1?r():s||(s=!0,setTimeout(function(){s=!1,r()},i.delay))});return u.schedule(),u.getDisposer()}function f(t){return le(function(e,n,r,i,o){xe(void 0!==o,ve(\"m009\")),xe(\"function\"==typeof o.get,ve(\"m010\")),Jt(Kt(e,\"\"),n,o.get,o.set,t,!1)},function(t){var e=this.$mobx.values[t];if(void 0!==e)return e.get()},function(t,e){this.$mobx.values[t].set(e)},!1,!1)}function h(t,e){xe(\"function\"==typeof t&&t.length<2,\"createTransformer expects a function that accepts one argument\");var n={},r=hn.resetId,i=function(r){function i(e,n){var i=r.call(this,function(){return t(n)},void 0,!1,\"Transformer-\"+t.name+\"-\"+e,void 0)||this;return i.sourceIdentifier=e,i.sourceObject=n,i}return He(i,r),i.prototype.onBecomeUnobserved=function(){var t=this.value;r.prototype.onBecomeUnobserved.call(this),delete n[this.sourceIdentifier],e&&e(t,this.sourceObject)},i}(an);return function(t){r!==hn.resetId&&(n={},r=hn.resetId);var e=d(t),o=n[e];return o?o.get():(o=n[e]=new i(e,t),o.get())}}function d(t){if(\"string\"==typeof t||\"number\"==typeof t)return t;if(null===t||\"object\"!=typeof t)throw new Error(\"[mobx] transform expected some kind of object or primitive value, got: \"+t);var e=t.$transformId;return void 0===e&&(e=ye(),Re(t,\"$transformId\",e)),e}function p(t,e){return Z()||console.warn(ve(\"m013\")),qe(t,{context:e}).get()}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return g(t,Bt,e)}function v(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return g(t,Ht,e)}function g(t,e,n){xe(arguments.length>=2,ve(\"m014\")),xe(\"object\"==typeof t,ve(\"m015\")),xe(!An(t),ve(\"m016\")),n.forEach(function(t){xe(\"object\"==typeof t,ve(\"m017\")),xe(!S(t),ve(\"m018\"))});for(var r=Kt(t),i={},o=n.length-1;o>=0;o--){var a=n[o];for(var s in a)if(!0!==i[s]&&Ce(a,s)){if(i[s]=!0,t===a&&!Le(t,s))continue;var u=Object.getOwnPropertyDescriptor(a,s);$t(r,s,u,e)}}return t}function y(t,e){return b(ae(t,e))}function b(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=Ee(t.observing).map(b)),e}function x(t,e){return _(ae(t,e))}function _(t){var e={name:t.name};return st(t)&&(e.observers=ut(t).map(_)),e}function w(t,e,n){return\"function\"==typeof n?M(t,e,n):E(t,e)}function E(t,e){return se(t).intercept(e)}function M(t,e,n){return se(t,e).intercept(n)}function T(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(!1===oe(t))return!1;var n=ae(t,e);return un(n)}return un(t)}function S(t,e){if(null===t||void 0===t)return!1;if(void 0!==e){if(qt(t)||An(t))throw new Error(ve(\"m019\"));if(oe(t)){var n=t.$mobx;return n.values&&!!n.values[e]}return!1}return oe(t)||!!t.$mobx||on(t)||vn(t)||un(t)}function A(t){if(void 0===t&&(t=void 0),\"string\"==typeof arguments[1])return Ze.apply(null,arguments);if(xe(arguments.length<=1,ve(\"m021\")),xe(!zt(t),ve(\"m020\")),S(t))return t;var e=Bt(t,void 0,void 0);return e!==t?e:en.box(t)}function P(t){be(\"Expected one or two arguments to observable.\"+t+\". Did you accidentally try to use observable.\"+t+\" as decorator?\")}function C(t){return xe(!!t,\":(\"),le(function(e,n,r,i,o){ke(e,n),xe(!o||!o.get,ve(\"m022\")),Qt(Kt(e,void 0),n,r,t)},function(t){var e=this.$mobx.values[t];if(void 0!==e)return e.get()},function(t,e){re(this,t,e)},!0,!1)}function R(t,e,n,r){return\"function\"==typeof n?L(t,e,n,r):O(t,e,n)}function O(t,e,n){return se(t).observe(e,n)}function L(t,e,n,r){return se(t,e).observe(n,r)}function k(t,e,n){function r(r){return e&&n.push([t,r]),r}if(void 0===e&&(e=!0),void 0===n&&(n=[]),S(t)){if(e&&null===n&&(n=[]),e&&null!==t&&\"object\"==typeof t)for(var i=0,o=n.length;i<o;i++)if(n[i][0]===t)return n[i][1];if(qt(t)){var a=r([]),s=t.map(function(t){return k(t,e,n)});a.length=s.length;for(var i=0,o=s.length;i<o;i++)a[i]=s[i];return a}if(oe(t)){var a=r({});for(var u in t)a[u]=k(t[u],e,n);return a}if(An(t)){var l=r({});return t.forEach(function(t,r){return l[r]=k(t,e,n)}),l}if(Nn(t))return k(t.get(),e,n)}return t}function N(t,e){return void 0===e&&(e=void 0),_e(ve(\"m023\")),I.apply(void 0,arguments)}function I(t,e){return void 0===e&&(e=void 0),F(\"\",t)}function D(t){return console.log(t),t}function U(t,e){switch(arguments.length){case 0:if(!(t=hn.trackingDerivation))return D(ve(\"m024\"));break;case 2:t=ae(t,e)}return t=ae(t),un(t)?D(t.whyRun()):vn(t)?D(t.whyRun()):be(ve(\"m025\"))}function z(t,e){xe(\"function\"==typeof e,ve(\"m026\")),xe(\"string\"==typeof t&&t.length>0,\"actions should have valid names, got: '\"+t+\"'\");var n=function(){return F(t,e,this,arguments)};return n.originalFn=e,n.isMobxAction=!0,n}function F(t,e,n,r){var i=B(t,e,n,r);try{return e.apply(n,r)}finally{j(i)}}function B(t,e,n,r){var i=Et()&&!!t,o=0;if(i){o=Date.now();var a=r&&r.length||0,s=new Array(a);if(a>0)for(var u=0;u<a;u++)s[u]=r[u];Tt({type:\"action\",name:t,fn:e,object:n,arguments:s})}var l=et();return ht(),{prevDerivation:l,prevAllowStateChanges:W(!0),notifySpy:i,startTime:o}}function j(t){Y(t.prevAllowStateChanges),dt(),nt(t.prevDerivation),t.notifySpy&&St({time:Date.now()-t.startTime})}function H(t){xe(null===hn.trackingDerivation,ve(\"m028\")),hn.strictMode=t,hn.allowStateChanges=!t}function V(){return hn.strictMode}function G(t,e){var n,r=W(t);try{n=e()}finally{Y(r)}return n}function W(t){var e=hn.allowStateChanges;return hn.allowStateChanges=t,e}function Y(t){hn.allowStateChanges=t}function X(t){return t instanceof ln}function q(t){switch(t.dependenciesState){case sn.UP_TO_DATE:return!1;case sn.NOT_TRACKING:case sn.STALE:return!0;case sn.POSSIBLY_STALE:for(var e=et(),n=t.observing,r=n.length,i=0;i<r;i++){var o=n[i];if(un(o)){try{o.get()}catch(t){return nt(e),!0}if(t.dependenciesState===sn.STALE)return nt(e),!0}}return rt(t),nt(e),!1}}function Z(){return null!==hn.trackingDerivation}function K(t){var e=t.observers.length>0;hn.computationDepth>0&&e&&be(ve(\"m031\")+t.name),!hn.allowStateChanges&&e&&be(ve(hn.strictMode?\"m030a\":\"m030b\")+t.name)}function $(t,e,n){rt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++hn.runId;var r=hn.trackingDerivation;hn.trackingDerivation=t;var i;try{i=e.call(n)}catch(t){i=new ln(t)}return hn.trackingDerivation=r,Q(t),i}function Q(t){var e=t.observing,n=t.observing=t.newObserving,r=sn.UP_TO_DATE;t.newObserving=null;for(var i=0,o=t.unboundDepsCount,a=0;a<o;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}for(n.length=i,o=e.length;o--;){var s=e[o];0===s.diffValue&&ct(s,t),s.diffValue=0}for(;i--;){var s=n[i];1===s.diffValue&&(s.diffValue=0,lt(s,t))}r!==sn.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}function J(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)ct(e[n],t);t.dependenciesState=sn.NOT_TRACKING}function tt(t){var e=et(),n=t();return nt(e),n}function et(){var t=hn.trackingDerivation;return hn.trackingDerivation=null,t}function nt(t){hn.trackingDerivation=t}function rt(t){if(t.dependenciesState!==sn.UP_TO_DATE){t.dependenciesState=sn.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=sn.UP_TO_DATE}}function it(){var t=ge(),e=hn;if(t.__mobservableTrackingStack||t.__mobservableViewStack)throw new Error(\"[mobx] An incompatible version of mobservable is already loaded.\");if(t.__mobxGlobal&&t.__mobxGlobal.version!==e.version)throw new Error(\"[mobx] An incompatible version of mobx is already loaded.\");t.__mobxGlobal?hn=t.__mobxGlobal:t.__mobxGlobal=e}function ot(){return hn}function at(){hn.resetId++;var t=new fn;for(var e in t)-1===cn.indexOf(e)&&(hn[e]=t[e]);hn.allowStateChanges=!hn.strictMode}function st(t){return t.observers&&t.observers.length>0}function ut(t){return t.observers}function lt(t,e){var n=t.observers.length;n&&(t.observersIndexes[e.__mapid]=n),t.observers[n]=e,t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function ct(t,e){if(1===t.observers.length)t.observers.length=0,ft(t);else{var n=t.observers,r=t.observersIndexes,i=n.pop();if(i!==e){var o=r[e.__mapid]||0;o?r[i.__mapid]=o:delete r[i.__mapid],n[o]=i}delete r[e.__mapid]}}function ft(t){t.isPendingUnobservation||(t.isPendingUnobservation=!0,hn.pendingUnobservations.push(t))}function ht(){hn.inBatch++}function dt(){if(0==--hn.inBatch){xt();for(var t=hn.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.length&&n.onBecomeUnobserved()}hn.pendingUnobservations=[]}}function pt(t){var e=hn.trackingDerivation;null!==e?e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t):0===t.observers.length&&ft(t)}function mt(t){if(t.lowestObserverState!==sn.STALE){t.lowestObserverState=sn.STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===sn.UP_TO_DATE&&r.onBecomeStale(),r.dependenciesState=sn.STALE}}}function vt(t){if(t.lowestObserverState!==sn.STALE){t.lowestObserverState=sn.STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===sn.POSSIBLY_STALE?r.dependenciesState=sn.STALE:r.dependenciesState===sn.UP_TO_DATE&&(t.lowestObserverState=sn.UP_TO_DATE)}}}function gt(t){if(t.lowestObserverState===sn.UP_TO_DATE){t.lowestObserverState=sn.POSSIBLY_STALE;for(var e=t.observers,n=e.length;n--;){var r=e[n];r.dependenciesState===sn.UP_TO_DATE&&(r.dependenciesState=sn.POSSIBLY_STALE,r.onBecomeStale())}}}function yt(t){xe(this&&this.$mobx&&vn(this.$mobx),\"Invalid `this`\"),xe(!this.$mobx.errorHandler,\"Only one onErrorHandler can be registered\"),this.$mobx.errorHandler=t}function bt(t){return hn.globalReactionErrorHandlers.push(t),function(){var e=hn.globalReactionErrorHandlers.indexOf(t);e>=0&&hn.globalReactionErrorHandlers.splice(e,1)}}function xt(){hn.inBatch>0||hn.isRunningReactions||mn(_t)}function _t(){hn.isRunningReactions=!0;for(var t=hn.pendingReactions,e=0;t.length>0;){++e===pn&&(console.error(\"Reaction doesn't converge to a stable state after \"+pn+\" iterations. Probably there is a cycle in the reactive function: \"+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}hn.isRunningReactions=!1}function wt(t){var e=mn;mn=function(n){return t(function(){return e(n)})}}function Et(){return!!hn.spyListeners.length}function Mt(t){if(hn.spyListeners.length)for(var e=hn.spyListeners,n=0,r=e.length;n<r;n++)e[n](t)}function Tt(t){Mt(Ae({},t,{spyReportStart:!0}))}function St(t){Mt(t?Ae({},t,gn):gn)}function At(t){return hn.spyListeners.push(t),we(function(){var e=hn.spyListeners.indexOf(t);-1!==e&&hn.spyListeners.splice(e,1)})}function Pt(t){return t.interceptors&&t.interceptors.length>0}function Ct(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),we(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function Rt(t,e){var n=et();try{var r=t.interceptors;if(r)for(var i=0,o=r.length;i<o&&(e=r[i](e),xe(!e||e.type,\"Intercept handlers should return nothing or a change object\"),e);i++);return e}finally{nt(n)}}function Ot(t){return t.changeListeners&&t.changeListeners.length>0}function Lt(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),we(function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)})}function kt(t,e){var n=et(),r=t.changeListeners;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);nt(n)}}function Nt(t){return _e(\"asReference is deprecated, use observable.ref instead\"),en.ref(t)}function It(t){return _e(\"asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead.\"),en.struct(t)}function Dt(t){return _e(\"asFlat is deprecated, use observable.shallow instead\"),en.shallow(t)}function Ut(t){return _e(\"asMap is deprecated, use observable.map or observable.shallowMap instead\"),en.map(t||{})}function zt(t){return\"object\"==typeof t&&null!==t&&!0===t.isMobxModifierDescriptor}function Ft(t,e){return xe(!zt(e),\"Modifiers cannot be nested\"),{isMobxModifierDescriptor:!0,initialValue:e,enhancer:t}}function Bt(t,e,n){return zt(t)&&be(\"You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it\"),S(t)?t:Array.isArray(t)?en.array(t,n):Se(t)?en.object(t,n):Fe(t)?en.map(t,n):t}function jt(t,e,n){return zt(t)&&be(\"You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it\"),void 0===t||null===t?t:oe(t)||qt(t)||An(t)?t:Array.isArray(t)?en.shallowArray(t,n):Se(t)?en.shallowObject(t,n):Fe(t)?en.shallowMap(t,n):be(\"The shallow modifier / decorator can only used in combination with arrays, objects and maps\")}function Ht(t){return t}function Vt(t,e,n){if(Ie(t,e))return e;if(S(t))return t;if(Array.isArray(t))return new wn(t,Vt,n);if(Fe(t))return new Sn(t,Vt,n);if(Se(t)){var r={};return Kt(r,n),g(r,Vt,[t]),r}return t}function Gt(t,e,n){return Ie(t,e)?e:t}function Wt(t){return{enumerable:!1,configurable:!1,get:function(){return this.get(t)},set:function(e){this.set(t,e)}}}function Yt(t){Object.defineProperty(wn.prototype,\"\"+t,Wt(t))}function Xt(t){for(var e=bn;e<t;e++)Yt(e);bn=t}function qt(t){return Te(t)&&Mn(t.$mobx)}function Zt(t){return _e(\"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead\"),en.map(t)}function Kt(t,e){if(oe(t))return t.$mobx;xe(Object.isExtensible(t),ve(\"m035\")),Se(t)||(e=(t.constructor.name||\"ObservableObject\")+\"@\"+ye()),e||(e=\"ObservableObject@\"+ye());var n=new Pn(t,e);return Oe(t,\"$mobx\",n),n}function $t(t,e,n,r){if(t.values[e])return xe(\"value\"in n,\"The property \"+e+\" in \"+t.name+\" is already observable, cannot redefine it as computed property\"),void(t.target[e]=n.value);if(\"value\"in n)if(zt(n.value)){var i=n.value;Qt(t,e,i.initialValue,i.enhancer)}else o(n.value)&&!0===n.value.autoBind?a(t.target,e,n.value.originalFn):un(n.value)?te(t,e,n.value):Qt(t,e,n.value,r);else Jt(t,e,n.get,n.set,!1,!0)}function Qt(t,e,n,r){if(ke(t.target,e),Pt(t)){var i=Rt(t,{object:t.target,name:e,type:\"add\",newValue:n});if(!i)return;n=i.newValue}n=(t.values[e]=new kn(n,r,t.name+\".\"+e,!1)).value,Object.defineProperty(t.target,e,ee(e)),ie(t,t.target,e,n)}function Jt(t,e,n,r,i,o){o&&ke(t.target,e),t.values[e]=new an(n,t.target,i,t.name+\".\"+e,r),o&&Object.defineProperty(t.target,e,ne(e))}function te(t,e,n){var r=t.name+\".\"+e;n.name=r,n.scope||(n.scope=t.target),t.values[e]=n,Object.defineProperty(t.target,e,ne(e))}function ee(t){return Cn[t]||(Cn[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[t].get()},set:function(e){re(this,t,e)}})}function ne(t){return Rn[t]||(Rn[t]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[t].get()},set:function(e){return this.$mobx.values[t].set(e)}})}function re(t,e,n){var r=t.$mobx,i=r.values[e];if(Pt(r)){var o=Rt(r,{type:\"update\",object:t,name:e,newValue:n});if(!o)return;n=o.newValue}if((n=i.prepareNewValue(n))!==Ln){var a=Ot(r),s=Et(),o=a||s?{type:\"update\",object:t,oldValue:i.value,name:e,newValue:n}:null;s&&Tt(o),i.setNewValue(n),a&&kt(r,o),s&&St()}}function ie(t,e,n,r){var i=Ot(t),o=Et(),a=i||o?{type:\"add\",object:e,name:n,newValue:r}:null;o&&Tt(a),i&&kt(t,a),o&&St()}function oe(t){return!!Te(t)&&(fe(t),On(t.$mobx))}function ae(t,e){if(\"object\"==typeof t&&null!==t){if(qt(t))return xe(void 0===e,ve(\"m036\")),t.$mobx.atom;if(An(t)){var n=t;if(void 0===e)return ae(n._keys);var r=n._data[e]||n._hasMap[e];return xe(!!r,\"the entry '\"+e+\"' does not exist in the observable map '\"+ue(t)+\"'\"),r}if(fe(t),oe(t)){if(!e)return be(\"please specify a property\");var i=t.$mobx.values[e];return xe(!!i,\"no observable property '\"+e+\"' found on the observable object '\"+ue(t)+\"'\"),i}if(on(t)||un(t)||vn(t))return t}else if(\"function\"==typeof t&&vn(t.$mobx))return t.$mobx;return be(\"Cannot obtain atom from \"+t)}function se(t,e){return xe(t,\"Expecting some object\"),void 0!==e?se(ae(t,e)):on(t)||un(t)||vn(t)?t:An(t)?t:(fe(t),t.$mobx?t.$mobx:void xe(!1,\"Cannot obtain administration from \"+t))}function ue(t,e){var n;return n=void 0!==e?ae(t,e):oe(t)||An(t)?se(t):ae(t),n.name}function le(t,e,n,r,i){function o(o,a,s,u,l){if(void 0===l&&(l=0),xe(i||he(arguments),\"This function is a decorator, but it wasn't invoked like a decorator\"),s){Ce(o,\"__mobxLazyInitializers\")||Re(o,\"__mobxLazyInitializers\",o.__mobxLazyInitializers&&o.__mobxLazyInitializers.slice()||[]);var c=s.value,f=s.initializer;return o.__mobxLazyInitializers.push(function(e){t(e,a,f?f.call(e):c,u,s)}),{enumerable:r,configurable:!0,get:function(){return!0!==this.__mobxDidRunLazyInitializers&&fe(this),e.call(this,a)},set:function(t){!0!==this.__mobxDidRunLazyInitializers&&fe(this),n.call(this,a,t)}}}var h={enumerable:r,configurable:!0,get:function(){return this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]||ce(this,a,void 0,t,u,s),e.call(this,a)},set:function(e){this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[a]?n.call(this,a,e):ce(this,a,e,t,u,s)}};return(arguments.length<3||5===arguments.length&&l<3)&&Object.defineProperty(o,a,h),h}return i?function(){if(he(arguments))return o.apply(null,arguments);var t=arguments,e=arguments.length;return function(n,r,i){return o(n,r,i,t,e)}}:o}function ce(t,e,n,r,i,o){Ce(t,\"__mobxInitializedProps\")||Re(t,\"__mobxInitializedProps\",{}),t.__mobxInitializedProps[e]=!0,r(t,e,n,i,o)}function fe(t){!0!==t.__mobxDidRunLazyInitializers&&t.__mobxLazyInitializers&&(Re(t,\"__mobxDidRunLazyInitializers\",!0),t.__mobxDidRunLazyInitializers&&t.__mobxLazyInitializers.forEach(function(e){return e(t)}))}function he(t){return(2===t.length||3===t.length)&&\"string\"==typeof t[1]}function de(){return\"function\"==typeof Symbol&&Symbol.iterator||\"@@iterator\"}function pe(t){xe(!0!==t[In],\"Illegal state: cannot recycle array as iterator\"),Oe(t,In,!0);var e=-1;return Oe(t,\"next\",function(){return e++,{done:e>=this.length,value:e<this.length?this[e]:void 0}}),t}function me(t,e){Oe(t,de(),e)}function ve(t){return Dn[t]}function ge(){return n}function ye(){return++hn.mobxGuid}function be(t,e){throw xe(!1,t,e),\"X\"}function xe(t,e,n){if(!t)throw new Error(\"[mobx] Invariant failed: \"+e+(n?\" in '\"+n+\"'\":\"\"))}function _e(t){return-1===zn.indexOf(t)&&(zn.push(t),console.error(\"[mobx] Deprecated: \"+t),!0)}function we(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}function Ee(t){var e=[];return t.forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),e}function Me(t,e,n){return void 0===e&&(e=100),void 0===n&&(n=\" - \"),t?t.slice(0,e).join(n)+(t.length>e?\" (... and \"+(t.length-e)+\"more)\":\"\"):\"\"}function Te(t){return null!==t&&\"object\"==typeof t}function Se(t){if(null===t||\"object\"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function Ae(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++){var r=arguments[e];for(var i in r)Ce(r,i)&&(t[i]=r[i])}return t}function Pe(t,e,n){return\"number\"==typeof e&&isNaN(e)?\"number\"!=typeof n||!isNaN(n):t?!Ie(e,n):e!==n}function Ce(t,e){return Bn.call(t,e)}function Re(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Oe(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Le(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!n||!1!==n.configurable&&!1!==n.writable}function ke(t,e){xe(Le(t,e),\"Cannot make property '\"+e+\"' observable, it is not configurable and writable in the target object\")}function Ne(t){var e=[];for(var n in t)e.push(n);return e}function Ie(t,e){if(null===t&&null===e)return!0;if(void 0===t&&void 0===e)return!0;if(\"object\"!=typeof t)return t===e;var n=Ue(t),r=ze(t);if(n!==Ue(e))return!1;if(r!==ze(e))return!1;if(n){if(t.length!==e.length)return!1;for(var i=t.length-1;i>=0;i--)if(!Ie(t[i],e[i]))return!1;return!0}if(r){if(t.size!==e.size)return!1;var o=!0;return t.forEach(function(t,n){o=o&&Ie(e.get(n),t)}),o}if(\"object\"==typeof t&&\"object\"==typeof e){if(null===t||null===e)return!1;if(ze(t)&&ze(e))return t.size===e.size&&Ie(en.shallowMap(t).entries(),en.shallowMap(e).entries());if(Ne(t).length!==Ne(e).length)return!1;for(var a in t){if(!(a in e))return!1;if(!Ie(t[a],e[a]))return!1}return!0}return!1}function De(t,e){var n=\"isMobX\"+t;return e.prototype[n]=!0,function(t){return Te(t)&&!0===t[n]}}function Ue(t){return Array.isArray(t)||qt(t)}function ze(t){return Fe(t)||An(t)}function Fe(t){return void 0!==ge().Map&&t instanceof ge().Map}function Be(){return\"function\"==typeof Symbol&&Symbol.toPrimitive||\"@@toPrimitive\"}function je(t){return null===t?null:\"object\"==typeof t?\"\"+t:t}var He=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0}),e.extras={allowStateChanges:G,deepEqual:Ie,getAtom:ae,getDebugName:ue,getDependencyTree:y,getAdministration:se,getGlobalState:ot,getObserverTree:x,isComputingDerivation:Z,isSpyEnabled:Et,onReactionError:bt,reserveArrayBuffer:Xt,resetGlobalState:at,shareGlobalState:it,spyReport:Mt,spyReportEnd:St,spyReportStart:Tt,setReactionScheduler:wt},\"object\"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx(t.exports),t.exports.default=t.exports;var Ve=le(function(t,e,n,r,i){var o=r&&1===r.length?r[0]:n.name||e||\"<unnamed action>\";Re(t,e,We(o,n))},function(t){return this[t]},function(){xe(!1,ve(\"m001\"))},!1,!0),Ge=le(function(t,e,n){a(t,e,n)},function(t){return this[t]},function(){xe(!1,ve(\"m001\"))},!1,!1),We=function(t,e,n,i){return 1===arguments.length&&\"function\"==typeof t?z(t.name||\"<unnamed action>\",t):2===arguments.length&&\"function\"==typeof e?z(t,e):1===arguments.length&&\"string\"==typeof t?r(t):r(e).apply(null,arguments)};e.action=We,We.bound=function(t,e,n){if(\"function\"==typeof t){var r=z(\"<not yet bound action>\",t);return r.autoBind=!0,r}return Ge.apply(null,arguments)},e.runInAction=i,e.isAction=o,e.autorun=s,e.when=u,e.autorunAsync=l,e.reaction=c;var Ye=f(!1),Xe=f(!0),qe=function(t,e,n){if(\"string\"==typeof e)return Ye.apply(null,arguments);xe(\"function\"==typeof t,ve(\"m011\")),xe(arguments.length<3,ve(\"m012\"));var r=\"object\"==typeof e?e:{};return r.setter=\"function\"==typeof e?e:r.setter,new an(t,r.context,r.compareStructural||r.struct||!1,r.name||t.name||\"\",r.setter)};e.computed=qe,qe.struct=Xe,e.createTransformer=h,e.expr=p,e.extendObservable=m,e.extendShallowObservable=v,e.intercept=w,e.isComputed=T,e.isObservable=S;var Ze=C(Bt),Ke=C(jt),$e=C(Ht),Qe=C(Vt),Je=C(Gt),tn=function(){function t(){}return t.prototype.box=function(t,e){return arguments.length>2&&P(\"box\"),new kn(t,Bt,e)},t.prototype.shallowBox=function(t,e){return arguments.length>2&&P(\"shallowBox\"),new kn(t,Ht,e)},t.prototype.array=function(t,e){return arguments.length>2&&P(\"array\"),new wn(t,Bt,e)},t.prototype.shallowArray=function(t,e){return arguments.length>2&&P(\"shallowArray\"),new wn(t,Ht,e)},t.prototype.map=function(t,e){return arguments.length>2&&P(\"map\"),new Sn(t,Bt,e)},t.prototype.shallowMap=function(t,e){return arguments.length>2&&P(\"shallowMap\"),new Sn(t,Ht,e)},t.prototype.object=function(t,e){arguments.length>2&&P(\"object\");var n={};return Kt(n,e),m(n,t),n},t.prototype.shallowObject=function(t,e){arguments.length>2&&P(\"shallowObject\");var n={};return Kt(n,e),v(n,t),n},t.prototype.ref=function(){return arguments.length<2?Ft(Ht,arguments[0]):$e.apply(null,arguments)},t.prototype.shallow=function(){return arguments.length<2?Ft(jt,arguments[0]):Ke.apply(null,arguments)},t.prototype.deep=function(){return arguments.length<2?Ft(Bt,arguments[0]):Ze.apply(null,arguments)},t.prototype.struct=function(){return arguments.length<2?Ft(Vt,arguments[0]):Qe.apply(null,arguments)},t}();e.IObservableFactories=tn;var en=A;e.observable=en,Object.keys(tn.prototype).forEach(function(t){return en[t]=tn.prototype[t]}),en.deep.struct=en.struct,en.ref.struct=function(){return arguments.length<2?Ft(Gt,arguments[0]):Je.apply(null,arguments)},e.observe=R,e.toJS=k,e.transaction=N,e.whyRun=U,e.useStrict=H,e.isStrictModeEnabled=V;var nn=function(){function t(t){void 0===t&&(t=\"Atom@\"+ye()),this.name=t,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=sn.NOT_TRACKING}return t.prototype.onBecomeUnobserved=function(){},t.prototype.reportObserved=function(){pt(this)},t.prototype.reportChanged=function(){ht(),mt(this),dt()},t.prototype.toString=function(){return this.name},t}();e.BaseAtom=nn;var rn=function(t){function e(e,n,r){void 0===e&&(e=\"Atom@\"+ye()),void 0===n&&(n=Fn),void 0===r&&(r=Fn);var i=t.call(this,e)||this;return i.name=e,i.onBecomeObservedHandler=n,i.onBecomeUnobservedHandler=r,i.isPendingUnobservation=!1,i.isBeingTracked=!1,i}return He(e,t),e.prototype.reportObserved=function(){return ht(),t.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),dt(),!!hn.trackingDerivation},e.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},e}(nn);e.Atom=rn;var on=De(\"Atom\",nn),an=function(){function t(t,e,n,r,i){this.derivation=t,this.scope=e,this.compareStructural=n,this.dependenciesState=sn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=sn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid=\"#\"+ye(),this.value=void 0,this.isComputing=!1,this.isRunningSetter=!1,this.name=r||\"ComputedValue@\"+ye(),i&&(this.setter=z(r+\"-setter\",i))}return t.prototype.onBecomeStale=function(){gt(this)},t.prototype.onBecomeUnobserved=function(){J(this),this.value=void 0},t.prototype.get=function(){xe(!this.isComputing,\"Cycle detected in computation \"+this.name,this.derivation),0===hn.inBatch?(ht(),q(this)&&(this.value=this.computeValue(!1)),dt()):(pt(this),q(this)&&this.trackAndCompute()&&vt(this));var t=this.value;if(X(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(X(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){xe(!this.isRunningSetter,\"The setter of computed value '\"+this.name+\"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?\"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else xe(!1,\"[ComputedValue '\"+this.name+\"'] It is not possible to assign a new value to a computed value.\")},t.prototype.trackAndCompute=function(){Et()&&Mt({object:this.scope,type:\"compute\",fn:this.derivation});var t=this.value,e=this.value=this.computeValue(!0);return X(e)||Pe(this.compareStructural,e,t)},t.prototype.computeValue=function(t){this.isComputing=!0,hn.computationDepth++;var e;if(t)e=$(this,this.derivation,this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new ln(t)}return hn.computationDepth--,this.isComputing=!1,e},t.prototype.observe=function(t,e){var n=this,r=!0,i=void 0;return s(function(){var o=n.get();if(!r||e){var a=et();t({type:\"update\",object:n,newValue:o,oldValue:i}),nt(a)}r=!1,i=o})},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+\"[\"+this.derivation.toString()+\"]\"},t.prototype.valueOf=function(){return je(this.get())},t.prototype.whyRun=function(){var t=Boolean(hn.trackingDerivation),e=Ee(this.isComputing?this.newObserving:this.observing).map(function(t){return t.name}),n=Ee(ut(this).map(function(t){return t.name}));return\"\\nWhyRun? computation '\"+this.name+\"':\\n * Running because: \"+(t?\"[active] the value of this computation is needed by a reaction\":this.isComputing?\"[get] The value of this computed was requested outside a reaction\":\"[idle] not running at the moment\")+\"\\n\"+(this.dependenciesState===sn.NOT_TRACKING?ve(\"m032\"):\" * This computation will re-run if any of the following observables changes:\\n    \"+Me(e)+\"\\n    \"+(this.isComputing&&t?\" (... or any observable accessed during the remainder of the current run)\":\"\")+\"\\n\\t\"+ve(\"m038\")+\"\\n\\n  * If the outcome of this computation changes, the following observers will be re-run:\\n    \"+Me(n)+\"\\n\")},t}();an.prototype[Be()]=an.prototype.valueOf;var sn,un=De(\"ComputedValue\",an);!function(t){t[t.NOT_TRACKING=-1]=\"NOT_TRACKING\",t[t.UP_TO_DATE=0]=\"UP_TO_DATE\",t[t.POSSIBLY_STALE=1]=\"POSSIBLY_STALE\",t[t.STALE=2]=\"STALE\"}(sn||(sn={})),e.IDerivationState=sn;var ln=function(){function t(t){this.cause=t}return t}();e.untracked=tt;var cn=[\"mobxGuid\",\"resetId\",\"spyListeners\",\"strictMode\",\"runId\"],fn=function(){function t(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]}return t}(),hn=new fn,dn=function(){function t(t,e){void 0===t&&(t=\"Reaction@\"+ye()),this.name=t,this.onInvalidate=e,this.observing=[],this.newObserving=[],this.dependenciesState=sn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid=\"#\"+ye(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,hn.pendingReactions.push(this),xt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){this.isDisposed||(ht(),this._isScheduled=!1,q(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&Et()&&Mt({object:this,type:\"scheduled-reaction\"})),dt())},t.prototype.track=function(t){ht();var e,n=Et();n&&(e=Date.now(),Tt({object:this,type:\"reaction\",fn:t})),this._isRunning=!0;var r=$(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),X(r)&&this.reportExceptionInDerivation(r.cause),n&&St({time:Date.now()-e}),dt()},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)return void this.errorHandler(t,this);var n=\"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '\"+this,r=ve(\"m037\");console.error(n||r,t),Et()&&Mt({type:\"error\",message:n,error:t,object:this}),hn.globalReactionErrorHandlers.forEach(function(n){return n(t,e)})},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ht(),J(this),dt()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t.$mobx=this,t.onError=yt,t},t.prototype.toString=function(){return\"Reaction[\"+this.name+\"]\"},t.prototype.whyRun=function(){var t=Ee(this._isRunning?this.newObserving:this.observing).map(function(t){return t.name});return\"\\nWhyRun? reaction '\"+this.name+\"':\\n * Status: [\"+(this.isDisposed?\"stopped\":this._isRunning?\"running\":this.isScheduled()?\"scheduled\":\"idle\")+\"]\\n * This reaction will re-run if any of the following observables changes:\\n    \"+Me(t)+\"\\n    \"+(this._isRunning?\" (... or any observable accessed during the remainder of the current run)\":\"\")+\"\\n\\t\"+ve(\"m038\")+\"\\n\"},t}();e.Reaction=dn;var pn=100,mn=function(t){return t()},vn=De(\"Reaction\",dn),gn={spyReportEnd:!0};e.spy=At,e.asReference=Nt,e.asStructure=It,e.asFlat=Dt,e.asMap=Ut,e.isModifierDescriptor=zt;var yn=function(){var t=!1,e={};return Object.defineProperty(e,\"0\",{set:function(){t=!0}}),Object.create(e)[0]=1,!1===t}(),bn=0,xn=function(){function t(){}return t}();xn.prototype=[];var _n=function(){function t(t,e,n,r){this.array=n,this.owned=r,this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new nn(t||\"ObservableArray@\"+ye()),this.enhancer=function(n,r){return e(n,r,t+\"[..]\")}}return t.prototype.intercept=function(t){return Ct(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.array,type:\"splice\",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Lt(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if(\"number\"!=typeof t||t<0)throw new Error(\"[mobx.array] Out of range: \"+t);var e=this.values.length;if(t!==e)if(t>e){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error(\"[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?\");this.lastKnownLength+=e,e>0&&t+e+1>bn&&Xt(t+e+1)},t.prototype.spliceWithArray=function(t,e,n){var r=this;K(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:void 0===e||null===e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=[]),Pt(this)){var o=Rt(this,{object:this.array,type:\"splice\",index:t,removedCount:e,added:n});if(!o)return Un;e=o.removedCount,n=o.added}n=n.map(function(t){return r.enhancer(t,void 0)});var a=n.length-e;this.updateArrayLength(i,a);var s=this.spliceItemsIntoValues(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice(t,n,s),s},t.prototype.spliceItemsIntoValues=function(t,e,n){if(n.length<1e4)return(i=this.values).splice.apply(i,[t,e].concat(n));var r=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),r;var i},t.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&Et(),i=Ot(this),o=i||r?{object:this.array,type:\"update\",index:t,newValue:e,oldValue:n}:null;r&&Tt(o),this.atom.reportChanged(),i&&kt(this,o),r&&St()},t.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&Et(),i=Ot(this),o=i||r?{object:this.array,type:\"splice\",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;r&&Tt(o),this.atom.reportChanged(),i&&kt(this,o),r&&St()},t}(),wn=function(t){function e(e,n,r,i){void 0===r&&(r=\"ObservableArray@\"+ye()),void 0===i&&(i=!1);var o=t.call(this)||this,a=new _n(r,n,o,i);return Oe(o,\"$mobx\",a),e&&e.length?(a.updateArrayLength(0,e.length),a.values=e.map(function(t){return n(t,void 0,r+\"[..]\")}),a.notifyArraySplice(0,a.values.slice(),Un)):a.values=[],yn&&Object.defineProperty(a.array,\"0\",En),o}return He(e,t),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,e){return void 0===e&&(e=!1),this.$mobx.observe(t,e)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map(function(t){return qt(t)?t.peek():t}))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.values},e.prototype.find=function(t,e,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.$mobx.values[r]},e.prototype.findIndex=function(t,e,n){void 0===n&&(n=0),this.$mobx.atom.reportObserved();for(var r=this.$mobx.values,i=r.length,o=n;o<i;o++)if(t.call(e,r[o],o,this))return o;return-1},e.prototype.splice=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,e)}return this.$mobx.spliceWithArray(t,e,n)},e.prototype.spliceWithArray=function(t,e,n){return this.$mobx.spliceWithArray(t,e,n)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,t),n.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.$mobx;return n.spliceWithArray(0,0,t),n.values.length},e.prototype.reverse=function(){this.$mobx.atom.reportObserved();var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){this.$mobx.atom.reportObserved();var e=this.slice();return e.sort.apply(e,arguments)},e.prototype.remove=function(t){var e=this.$mobx.values.indexOf(t);return e>-1&&(this.splice(e,1),!0)},e.prototype.move=function(t,e){function n(t){if(t<0)throw new Error(\"[mobx.array] Index out of bounds: \"+t+\" is negative\");var e=this.$mobx.values.length;if(t>=e)throw new Error(\"[mobx.array] Index out of bounds: \"+t+\" is not smaller than \"+e)}if(n.call(this,t),n.call(this,e),t!==e){var r,i=this.$mobx.values;r=t<e?i.slice(0,t).concat(i.slice(t+1,e+1),[i[t]],i.slice(e+1)):i.slice(0,e).concat([i[t]],i.slice(e,t),i.slice(t+1)),this.replace(r)}},e.prototype.toString=function(){return this.$mobx.atom.reportObserved(),Array.prototype.toString.apply(this.$mobx.values,arguments)},e.prototype.toLocaleString=function(){return this.$mobx.atom.reportObserved(),Array.prototype.toLocaleString.apply(this.$mobx.values,arguments)},e.prototype.get=function(t){var e=this.$mobx;if(e){if(t<e.values.length)return e.atom.reportObserved(),e.values[t];console.warn(\"[mobx.array] Attempt to read an array index (\"+t+\") that is out of bounds (\"+e.values.length+\"). Please check length first. Out of bound indices will not be tracked by MobX\")}},e.prototype.set=function(t,e){var n=this.$mobx,r=n.values;if(t<r.length){K(n.atom);var i=r[t];if(Pt(n)){var o=Rt(n,{type:\"update\",object:this,index:t,newValue:e});if(!o)return;e=o.newValue}e=n.enhancer(e,i);e!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error(\"[mobx.array] Index out of bounds, \"+t+\" is larger than \"+r.length);n.spliceWithArray(t,0,[e])}},e}(xn);me(wn.prototype,function(){return pe(this.slice())}),function(t,e){for(var n=0;n<e.length;n++)Re(t,e[n],t[e[n]])}(wn.prototype,[\"constructor\",\"intercept\",\"observe\",\"clear\",\"concat\",\"get\",\"replace\",\"toJS\",\"toJSON\",\"peek\",\"find\",\"findIndex\",\"splice\",\"spliceWithArray\",\"push\",\"pop\",\"set\",\"shift\",\"unshift\",\"reverse\",\"sort\",\"remove\",\"move\",\"toString\",\"toLocaleString\"]),Object.defineProperty(wn.prototype,\"length\",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(t){this.$mobx.setArrayLength(t)}}),[\"every\",\"filter\",\"forEach\",\"indexOf\",\"join\",\"lastIndexOf\",\"map\",\"reduce\",\"reduceRight\",\"slice\",\"some\"].forEach(function(t){var e=Array.prototype[t];xe(\"function\"==typeof e,\"Base function not defined on Array prototype: '\"+t+\"'\"),Re(wn.prototype,t,function(){return this.$mobx.atom.reportObserved(),e.apply(this.$mobx.values,arguments)})});var En=Wt(0);Xt(1e3);var Mn=De(\"ObservableArrayAdministration\",_n);e.isObservableArray=qt;var Tn={},Sn=function(){function t(t,e,n){void 0===e&&(e=Bt),void 0===n&&(n=\"ObservableMap@\"+ye()),this.enhancer=e,this.name=n,this.$mobx=Tn,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new wn(void 0,Ht,this.name+\".keys()\",!0),this.interceptors=null,this.changeListeners=null,this.merge(t)}return t.prototype._has=function(t){return void 0!==this._data[t]},t.prototype.has=function(t){return!!this.isValidKey(t)&&(t=\"\"+t,this._hasMap[t]?this._hasMap[t].get():this._updateHasMapEntry(t,!1).get())},t.prototype.set=function(t,e){this.assertValidKey(t),t=\"\"+t;var n=this._has(t);if(Pt(this)){var r=Rt(this,{type:n?\"update\":\"add\",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if(this.assertValidKey(t),t=\"\"+t,Pt(this)){var n=Rt(this,{type:\"delete\",object:this,name:t});if(!n)return!1}if(this._has(t)){var r=Et(),i=Ot(this),n=i||r?{type:\"delete\",object:this,oldValue:this._data[t].value,name:t}:null;return r&&Tt(n),I(function(){e._keys.remove(t),e._updateHasMapEntry(t,!1),e._data[t].setNewValue(void 0),e._data[t]=void 0}),i&&kt(this,n),r&&St(),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var n=this._hasMap[t];return n?n.setNewValue(e):n=this._hasMap[t]=new kn(e,Ht,this.name+\".\"+t+\"?\",!1),n},t.prototype._updateValue=function(t,e){var n=this._data[t];if((e=n.prepareNewValue(e))!==Ln){var r=Et(),i=Ot(this),o=i||r?{type:\"update\",object:this,oldValue:n.value,name:t,newValue:e}:null;r&&Tt(o),n.setNewValue(e),i&&kt(this,o),r&&St()}},t.prototype._addValue=function(t,e){var n=this;I(function(){var r=n._data[t]=new kn(e,n.enhancer,n.name+\".\"+t,!1);e=r.value,n._updateHasMapEntry(t,!0),n._keys.push(t)});var r=Et(),i=Ot(this),o=i||r?{type:\"add\",object:this,name:t,newValue:e}:null;r&&Tt(o),i&&kt(this,o),r&&St()},t.prototype.get=function(t){if(t=\"\"+t,this.has(t))return this._data[t].get()},t.prototype.keys=function(){return pe(this._keys.slice())},t.prototype.values=function(){return pe(this._keys.map(this.get,this))},t.prototype.entries=function(){var t=this;return pe(this._keys.map(function(e){return[e,t.get(e)]}))},t.prototype.forEach=function(t,e){var n=this;this.keys().forEach(function(r){return t.call(e,n.get(r),r,n)})},t.prototype.merge=function(t){var e=this;return An(t)&&(t=t.toJS()),I(function(){Se(t)?Object.keys(t).forEach(function(n){return e.set(n,t[n])}):Array.isArray(t)?t.forEach(function(t){var n=t[0],r=t[1];return e.set(n,r)}):Fe(t)?t.forEach(function(t,n){return e.set(n,t)}):null!==t&&void 0!==t&&be(\"Cannot initialize map from \"+t)}),this},t.prototype.clear=function(){var t=this;I(function(){tt(function(){t.keys().forEach(t.delete,t)})})},t.prototype.replace=function(t){var e=this;return I(function(){e.clear(),e.merge(t)}),this},Object.defineProperty(t.prototype,\"size\",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.toJS=function(){var t=this,e={};return this.keys().forEach(function(n){return e[n]=t.get(n)}),e},t.prototype.toJSON=function(){return this.toJS()},t.prototype.isValidKey=function(t){return null!==t&&void 0!==t&&(\"string\"==typeof t||\"number\"==typeof t||\"boolean\"==typeof t)},t.prototype.assertValidKey=function(t){if(!this.isValidKey(t))throw new Error(\"[mobx.map] Invalid key: '\"+t+\"', only strings, numbers and booleans are accepted as key in observable maps.\")},t.prototype.toString=function(){var t=this;return this.name+\"[{ \"+this.keys().map(function(e){return e+\": \"+t.get(e)}).join(\", \")+\" }]\"},t.prototype.observe=function(t,e){return xe(!0!==e,ve(\"m033\")),Lt(this,t)},t.prototype.intercept=function(t){return Ct(this,t)},t}();e.ObservableMap=Sn,me(Sn.prototype,function(){return this.entries()}),e.map=Zt;var An=De(\"ObservableMap\",Sn);e.isObservableMap=An;var Pn=function(){function t(t,e){this.target=t,this.name=e,this.values={},this.changeListeners=null,this.interceptors=null}return t.prototype.observe=function(t,e){return xe(!0!==e,\"`observe` doesn't support the fire immediately property for observable objects.\"),Lt(this,t)},t.prototype.intercept=function(t){return Ct(this,t)},t}(),Cn={},Rn={},On=De(\"ObservableObjectAdministration\",Pn);e.isObservableObject=oe;var Ln={},kn=function(t){function e(e,n,r,i){void 0===r&&(r=\"ObservableValue@\"+ye()),void 0===i&&(i=!0);var o=t.call(this,r)||this;return o.enhancer=n,o.hasUnreportedChange=!1,o.value=n(e,void 0,r),i&&Et()&&Mt({type:\"create\",object:o,newValue:o.value}),o}return He(e,t),e.prototype.set=function(t){var e=this.value;if((t=this.prepareNewValue(t))!==Ln){var n=Et();n&&Tt({type:\"update\",object:this,newValue:t,oldValue:e}),this.setNewValue(t),n&&St()}},e.prototype.prepareNewValue=function(t){if(K(this),Pt(this)){var e=Rt(this,{object:this,type:\"update\",newValue:t});if(!e)return Ln;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.value!==t?t:Ln},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Ot(this)&&kt(this,{type:\"update\",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.value},e.prototype.intercept=function(t){return Ct(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:\"update\",newValue:this.value,oldValue:void 0}),Lt(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+\"[\"+this.value+\"]\"},e.prototype.valueOf=function(){return je(this.get())},e}(nn);kn.prototype[Be()]=kn.prototype.valueOf;var Nn=De(\"ObservableValue\",kn);e.isBoxedObservable=Nn;var In=\"__$$iterating\",Dn={m001:\"It is not allowed to assign new values to @action fields\",m002:\"`runInAction` expects a function\",m003:\"`runInAction` expects a function without arguments\",m004:\"autorun expects a function\",m005:\"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.\",m006:\"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.\",m007:\"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object\",m008:\"wrapping reaction expression in `asReference` is no longer supported, use options object instead\",m009:\"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.\",m010:\"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'\",m011:\"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments\",m012:\"computed takes one or two arguments if used as function\",m013:\"[mobx.expr] 'expr' should only be used inside other reactive functions.\",m014:\"extendObservable expected 2 or more arguments\",m015:\"extendObservable expects an object as first argument\",m016:\"extendObservable should not be used on maps, use map.merge instead\",m017:\"all arguments of extendObservable should be objects\",m018:\"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540\",m019:\"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.\",m020:\"modifiers can only be used for individual object properties\",m021:\"observable expects zero or one arguments\",m022:\"@observable can not be used on getters, use @computed instead\",m023:\"Using `transaction` is deprecated, use `runInAction` or `(@)action` instead.\",m024:\"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.\",m025:\"whyRun can only be used on reactions and computed values\",m026:\"`action` can only be invoked on functions\",m028:\"It is not allowed to set `useStrict` when a derivation is running\",m029:\"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row\",m030a:\"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: \",m030b:\"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: \",m031:\"Computed values are not allowed to not cause side effects by changing observables that are already being observed. Tried to modify: \",m032:\"* This computation is suspended (not in use by any reaction) and won't run automatically.\\n\\tDidn't expect this computation to be suspended at this point?\\n\\t  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\\n\\t  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).\",m033:\"`observe` doesn't support the fire immediately property for observable maps.\",m034:\"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead\",m035:\"Cannot make the designated object observable; it is not extensible\",m036:\"It is not possible to get index atoms from arrays\",m037:'Hi there! I\\'m sorry you have just run into an exception.\\nIf your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)\\nthrew an exception and that mobx caught it, to avoid that it brings the rest of your application down.\\nThe original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.\\n\\nHowever, more interesting is the actual stack trace of the error itself.\\nHopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.\\nSee `error.stack` property, or press the very subtle \"(...)\" link you see near the console.error message that probably brought you here.\\nThat stack is more interesting than the stack of this console.error itself.\\n\\nIf the exception you see is an exception you created yourself, make sure to use `throw new Error(\"Oops\")` instead of `throw \"Oops\"`,\\nbecause the javascript environment will only preserve the original stack trace in the first form.\\n\\nYou can also make sure the debugger pauses the next time this very same exception is thrown by enabling \"Pause on caught exception\".\\n(Note that it might pause on many other, unrelated exception as well).\\n\\nIf that all doesn\\'t help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!\\n',m038:\"Missing items in this list?\\n    1. Check whether all used values are properly marked as observable (use isObservable to verify)\\n    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\\n\"},Un=[];Object.freeze(Un);var zn=[],Fn=function(){},Bn=Object.prototype.hasOwnProperty;e.isArrayLike=Ue}).call(e,n(45))},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,E.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0});var a,s,u,l,c,f,h,d,p,m,v,g,y,b,x,_,w=n(9),E=r(w),M=n(16),T=r(M),S=n(0),A=r(S),P=n(1),C=r(P),R=n(13),O=n(137),L=r(O),k=n(138),N=r(k),I=n(139),D=r(I),U=n(140),z=r(U),F=n(141),B=r(F),j=n(142),H=r(j),V=n(143),G=r(V),W=n(144),Y=r(W),X=n(145),q=r(X),Z=n(19),K=r(Z),$=(a=function(){function t(){(0,A.default)(this,t),i(this,\"timestamp\",s,this),i(this,\"worldTimestamp\",u,this),i(this,\"sceneDimension\",l,this),i(this,\"dimension\",c,this),i(this,\"isInitialized\",f,this),i(this,\"hmi\",h,this),i(this,\"planning\",d,this),i(this,\"playback\",p,this),i(this,\"trafficSignal\",m,this),i(this,\"meters\",v,this),i(this,\"monitor\",g,this),i(this,\"options\",y,this),i(this,\"video\",b,this),i(this,\"routeEditingManager\",x,this),i(this,\"geolocation\",_,this)}return(0,C.default)(t,[{key:\"updateTimestamp\",value:function(t){this.timestamp=t}},{key:\"updateWorldTimestamp\",value:function(t){this.worldTimestamp=t}},{key:\"updateWidthInPercentage\",value:function(t){this.sceneDimension.widthRatio=t}},{key:\"setInitializationStatus\",value:function(t){this.isInitialized=t}},{key:\"updatePlanning\",value:function(t){this.planning.update(t)}},{key:\"setGeolocation\",value:function(t){this.geolocation=t}},{key:\"enablePNCMonitor\",value:function(){this.updateWidthInPercentage(.7),this.options.selectCamera(\"Monitor\"),this.options.showPlanningReference=!0,this.options.showPlaningDpOptimizer=!0,this.options.showPlanningQpOptimizer=!0}},{key:\"disablePNCMonitor\",value:function(){this.updateWidthInPercentage(1),this.options.selectCamera(\"Default\"),this.options.showPlanningReference=!1,this.options.showPlaningDpOptimizer=!1,this.options.showPlanningQpOptimizer=!1}},{key:\"handleSideBarClick\",value:function(t){var e=this.options.showPNCMonitor,n=this.options.showRouteEditingBar;if(this.options.toggleSideBar(t),e&&!this.options.showPNCMonitor&&this.disablePNCMonitor(),n&&!this.options.showRouteEditingBar&&this.routeEditingManager.disableRouteEditing(),this.options[t])switch(t){case\"showPNCMonitor\":this.enablePNCMonitor();break;case\"showRouteEditingBar\":this.options.showPOI=!1,this.routeEditingManager.enableRouteEditing()}}},{key:\"updateDimension\",value:function(){var t=window.innerHeight<800,e=t?55:60,n=0;this.dimension.width=window.innerWidth*this.sceneDimension.widthRatio,this.dimension.height=window.innerHeight-e,this.sceneDimension.width=this.dimension.width-n,this.sceneDimension.height=this.options.showTools?.6*this.dimension.height:this.dimension.height}}]),t}(),s=o(a.prototype,\"timestamp\",[R.observable],{enumerable:!0,initializer:function(){return 0}}),u=o(a.prototype,\"worldTimestamp\",[R.observable],{enumerable:!0,initializer:function(){return 0}}),l=o(a.prototype,\"sceneDimension\",[R.observable],{enumerable:!0,initializer:function(){return{width:window.innerWidth,height:window.innerHeight,widthRatio:1}}}),c=o(a.prototype,\"dimension\",[R.observable],{enumerable:!0,initializer:function(){return{width:window.innerWidth,height:window.innerHeight}}}),f=o(a.prototype,\"isInitialized\",[R.observable],{enumerable:!0,initializer:function(){return!1}}),h=o(a.prototype,\"hmi\",[R.observable],{enumerable:!0,initializer:function(){return new L.default}}),d=o(a.prototype,\"planning\",[R.observable],{enumerable:!0,initializer:function(){return new B.default}}),p=o(a.prototype,\"playback\",[R.observable],{enumerable:!0,initializer:function(){return new H.default}}),m=o(a.prototype,\"trafficSignal\",[R.observable],{enumerable:!0,initializer:function(){return new Y.default}}),v=o(a.prototype,\"meters\",[R.observable],{enumerable:!0,initializer:function(){return new N.default}}),g=o(a.prototype,\"monitor\",[R.observable],{enumerable:!0,initializer:function(){return new D.default}}),y=o(a.prototype,\"options\",[R.observable],{enumerable:!0,initializer:function(){return new z.default}}),b=o(a.prototype,\"video\",[R.observable],{enumerable:!0,initializer:function(){return new q.default}}),x=o(a.prototype,\"routeEditingManager\",[R.observable],{enumerable:!0,initializer:function(){return new G.default}}),_=o(a.prototype,\"geolocation\",[R.observable],{enumerable:!0,initializer:function(){return{}}}),o(a.prototype,\"updateTimestamp\",[R.action],(0,T.default)(a.prototype,\"updateTimestamp\"),a.prototype),o(a.prototype,\"updateWorldTimestamp\",[R.action],(0,T.default)(a.prototype,\"updateWorldTimestamp\"),a.prototype),o(a.prototype,\"updateWidthInPercentage\",[R.action],(0,T.default)(a.prototype,\"updateWidthInPercentage\"),a.prototype),o(a.prototype,\"setInitializationStatus\",[R.action],(0,T.default)(a.prototype,\"setInitializationStatus\"),a.prototype),o(a.prototype,\"updatePlanning\",[R.action],(0,T.default)(a.prototype,\"updatePlanning\"),a.prototype),o(a.prototype,\"setGeolocation\",[R.action],(0,T.default)(a.prototype,\"setGeolocation\"),a.prototype),o(a.prototype,\"enablePNCMonitor\",[R.action],(0,T.default)(a.prototype,\"enablePNCMonitor\"),a.prototype),o(a.prototype,\"disablePNCMonitor\",[R.action],(0,T.default)(a.prototype,\"disablePNCMonitor\"),a.prototype),a),Q=new $;(0,R.autorun)(function(){Q.updateDimension()});K.default.debug.autoMonitorMessage&&setInterval(function(){var t=[{level:\"FATAL\",message:\"There is a fatal hardware issue detected. It might be due to an incorrect power management setup. Please see the logs for details.\"},{level:\"WARN\",message:\"The warning indicator on the instrument panel is on. This is usually due to a failure in engine.\"},{level:\"ERROR\",message:\"Invalid coordinates received from the localization module.\"},{level:\"INFO\",message:\"Monitor module has started and is succesfully initialized.\"}][Math.floor(4*Math.random())];Q.monitor.insert(t.level,t.message,Date.now())},1e4);e.default=Q},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(94),o=(r(i),n(19)),a=(r(o),n(146)),s=r(a),u=n(147),l=(r(u),function(){var t=window.location.origin,e=document.createElement(\"a\");e.href=t;return(\"https:\"===location.protocol?\"wss\":\"ws\")+\"://\"+e.hostname+\":\"+window.location.port+\"/RosPlayBack\"}()),c=new s.default(l);e.default=c},function(t,e,n){t.exports={default:n(167),__esModule:!0}},function(t,e,n){t.exports=!n(25)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e){var n=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=n)},function(t,e){t.exports={camera:{viewAngle:.5,Default:{fov:60,near:1,far:300},Near:{fov:60,near:1,far:200},Overhead:{fov:60,near:1,far:100},Map:{fov:70,near:1,far:4e3},Monitor:{fov:70,near:1,far:100},laneWidth:4.5,laneWidthToViewDistanceRatio:5},ground:{mpp:400,xres:8192,yres:8192,xorigin:4096,yorigin:4096,xyoffset:0,type:\"default\",tileRange:4},planning:{minInterval:.1,defaults:{width:1.4}},options:{defaults:{showModuleController:!1,showMenu:!1,showConsole:!1,showPOI:!1,showPNCMonitor:!1,showQuickStarter:!0,showRouteEditingBar:!1,showPlanningReference:!1,showPlaningDpOptimizer:!1,showPlanningQpOptimizer:!1,showPlanning:!0,showDecisionMain:!0,showDecisionObstacle:!0,showRouting:!0,showPredictionMajor:!0,showPredictionMinor:!0,showObstaclesVehicle:!0,showObstaclesPedestrian:!0,showObstaclesBicycle:!0,showObstaclesUnknownMovable:!0,showObstaclesUnknownUnmovable:!0,showObstaclesUnknown:!0,showObstaclesVirtual:!1,showObstaclesVelocity:!0,showObstaclesHeading:!0,showObstaclesId:!0,cameraAngle:\"Default\"}},debug:{autoMonitorMessage:!1,performanceMonitor:!1}}},function(t,e,n){var r,i;/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n!function(){\"use strict\";function n(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if(\"string\"===i||\"number\"===i)t.push(r);else if(Array.isArray(r))t.push(n.apply(null,r));else if(\"object\"===i)for(var a in r)o.call(r,a)&&r[a]&&t.push(a)}}return t.join(\" \")}var o={}.hasOwnProperty;void 0!==t&&t.exports?t.exports=n:(r=[],void 0!==(i=function(){return n}.apply(e,r))&&(t.exports=i))}()},function(t,e,n){var r=n(27);t.exports=function(t){if(!r(t))throw TypeError(t+\" is not an object!\");return t}},function(t,e,n){var r=n(12),i=n(35);t.exports=n(17)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(52),i=n(37);t.exports=function(t){return r(i(t))}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(e){var n=e*w;t.position.z+=n}}function o(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=new v.MeshBasicMaterial({map:T.load(t),transparent:!0,depthWrite:!1}),s=new v.Mesh(new v.PlaneGeometry(e,n),a);return s.material.side=v.DoubleSide,s.position.set(r,i,o),s.overdraw=!0,s}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16711680,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=new v.Path,l=u.createGeometry(t);l.computeLineDistances();var c=new v.LineDashedMaterial({color:e,dashSize:r,linewidth:n,gapSize:o}),f=new v.Line(l,c);return i(f,a),f.matrixAutoUpdate=s,s||f.updateMatrix(),f}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,r=new v.CircleGeometry(t,n);return new v.Mesh(r,e)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=E(t.map(function(t){return[t.x,t.y]})),s=new v.ShaderMaterial(M({side:v.DoubleSide,diffuse:n,thickness:e,opacity:r,transparent:!0})),u=new v.Mesh(a,s);return i(u,o),u}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16711680,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=new v.Path,l=u.createGeometry(t),c=new v.LineBasicMaterial({color:e,linewidth:n,transparent:a,opacity:s}),f=new v.Line(l,c);return i(f,r),f.matrixAutoUpdate=o,!1===o&&f.updateMatrix(),f}function c(t,e,n){var r=new v.CubeGeometry(t.x,t.y,t.z),i=new v.MeshBasicMaterial({color:e}),o=new v.Mesh(r,i),a=new v.BoxHelper(o);return a.material.linewidth=n,a}function f(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.01,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.02,o=new v.CubeGeometry(t.x,t.y,t.z);o=new v.EdgesGeometry(o),o=(new v.Geometry).fromBufferGeometry(o),o.computeLineDistances();var a=new v.LineDashedMaterial({color:e,linewidth:n,dashSize:r,gapSize:i});return new v.LineSegments(o,a)}function h(t,e,n,r,i){var o=new v.Vector3(0,t,0);return l([new v.Vector3(0,0,0),o,new v.Vector3(r/2,t-n,0),o,new v.Vector3(-r/2,t-n,0)],i,e,1)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new v.Shape;if(e){n.moveTo(t[0].x,t[0].y);for(var r=1;r<t.length-2;r++)n.bezierCurveTo(t[r].x,t[r].y,t[r+1].x,t[r+1].y,t[r+2].x,t[r+2].y);n.bezierCurveTo(_.takeRight(t,2).concat([{x:t[0].x,y:t[0].y}])),n.bezierCurveTo(_.takeRight(t,1).concat([{x:t[0].x,y:t[0].y},{x:t[1].x,y:t[1].y}]))}else n.fromPoints(t);return new v.ShapeGeometry(n)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new v.MeshBasicMaterial({color:16711680}),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=d(t,n),s=new v.Mesh(a,e);return i(s,r),s.matrixAutoUpdate=o,!1===o&&s.updateMatrix(),s}Object.defineProperty(e,\"__esModule\",{value:!0}),e.addOffsetZ=i,e.drawImage=o,e.drawDashedLineFromPoints=a,e.drawCircle=s,e.drawThickBandFromPoints=u,e.drawSegmentsFromPoints=l,e.drawBox=c,e.drawDashedBox=f,e.drawArrow=h,e.getShapeGeometryFromPoints=d,e.drawShapeFromPoints=p;var m=n(7),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(m),g=n(245),y=r(g),b=n(246),x=r(b),_=n(28),w=.04,E=(0,y.default)(v),M=(0,x.default)(v),T=new v.TextureLoader},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,e,n){(function(t,r){var i;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function f(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function d(t,e){return!!(null==t?0:t.length)&&M(t,e,0)>-1}function p(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function m(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function v(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function g(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function x(t){return t.split(\"\")}function _(t){return t.match(Be)||[]}function w(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function E(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function M(t,e,n){return e===e?$(t,e,n):E(t,S,n)}function T(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function S(t){return t!==t}function A(t,e){var n=null==t?0:t.length;return n?L(t,e)/n:It}function P(t){return function(e){return null==e?it:e[t]}}function C(t){return function(e){return null==t?it:t[e]}}function R(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function O(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function L(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==it&&(n=n===it?o:n+o)}return n}function k(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function N(t,e){return m(e,function(e){return[e,t[e]]})}function I(t){return function(e){return t(e)}}function D(t,e){return m(e,function(e){return t[e]})}function U(t,e){return t.has(e)}function z(t,e){for(var n=-1,r=t.length;++n<r&&M(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length;n--&&M(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function j(t){return\"\\\\\"+Pn[t]}function H(t,e){return null==t?it:t[e]}function V(t){return bn.test(t)}function G(t){return xn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function X(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ct||(t[n]=ct,o[i++]=n)}return o}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function K(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function $(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Q(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function J(t){return V(t)?et(t):Wn(t)}function tt(t){return V(t)?nt(t):x(t)}function et(t){for(var e=gn.lastIndex=0;gn.test(t);)++e;return e}function nt(t){return t.match(gn)||[]}function rt(t){return t.match(yn)||[]}var it,ot=200,at=\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\",st=\"Expected a function\",ut=\"__lodash_hash_undefined__\",lt=500,ct=\"__lodash_placeholder__\",ft=1,ht=2,dt=4,pt=1,mt=2,vt=1,gt=2,yt=4,bt=8,xt=16,_t=32,wt=64,Et=128,Mt=256,Tt=512,St=30,At=\"...\",Pt=800,Ct=16,Rt=1,Ot=2,Lt=1/0,kt=9007199254740991,Nt=1.7976931348623157e308,It=NaN,Dt=4294967295,Ut=Dt-1,zt=Dt>>>1,Ft=[[\"ary\",Et],[\"bind\",vt],[\"bindKey\",gt],[\"curry\",bt],[\"curryRight\",xt],[\"flip\",Tt],[\"partial\",_t],[\"partialRight\",wt],[\"rearg\",Mt]],Bt=\"[object Arguments]\",jt=\"[object Array]\",Ht=\"[object AsyncFunction]\",Vt=\"[object Boolean]\",Gt=\"[object Date]\",Wt=\"[object DOMException]\",Yt=\"[object Error]\",Xt=\"[object Function]\",qt=\"[object GeneratorFunction]\",Zt=\"[object Map]\",Kt=\"[object Number]\",$t=\"[object Null]\",Qt=\"[object Object]\",Jt=\"[object Proxy]\",te=\"[object RegExp]\",ee=\"[object Set]\",ne=\"[object String]\",re=\"[object Symbol]\",ie=\"[object Undefined]\",oe=\"[object WeakMap]\",ae=\"[object WeakSet]\",se=\"[object ArrayBuffer]\",ue=\"[object DataView]\",le=\"[object Float32Array]\",ce=\"[object Float64Array]\",fe=\"[object Int8Array]\",he=\"[object Int16Array]\",de=\"[object Int32Array]\",pe=\"[object Uint8Array]\",me=\"[object Uint8ClampedArray]\",ve=\"[object Uint16Array]\",ge=\"[object Uint32Array]\",ye=/\\b__p \\+= '';/g,be=/\\b(__p \\+=) '' \\+/g,xe=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,we=/[&<>\"']/g,Ee=RegExp(_e.source),Me=RegExp(we.source),Te=/<%-([\\s\\S]+?)%>/g,Se=/<%([\\s\\S]+?)%>/g,Ae=/<%=([\\s\\S]+?)%>/g,Pe=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,Ce=/^\\w*$/,Re=/^\\./,Oe=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,Le=/[\\\\^$.*+?()[\\]{}|]/g,ke=RegExp(Le.source),Ne=/^\\s+|\\s+$/g,Ie=/^\\s+/,De=/\\s+$/,Ue=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,ze=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,Fe=/,? & /,Be=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,je=/\\\\(\\\\)?/g,He=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,Ve=/\\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Ye=/^\\[object .+?Constructor\\]$/,Xe=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\\d*)$/,Ze=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Ke=/($^)/,$e=/['\\n\\r\\u2028\\u2029\\\\]/g,Qe=\"\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\",Je=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",tn=\"[\"+Je+\"]\",en=\"[\"+Qe+\"]\",nn=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]\",rn=\"[^\\\\ud800-\\\\udfff\"+Je+\"\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",on=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",an=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",sn=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",un=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",ln=\"(?:\"+nn+\"|\"+rn+\")\",cn=\"(?:[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|\\\\ud83c[\\\\udffb-\\\\udfff])?\",fn=\"(?:\\\\u200d(?:\"+[\"[^\\\\ud800-\\\\udfff]\",an,sn].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+cn+\")*\",hn=\"[\\\\ufe0e\\\\ufe0f]?\"+cn+fn,dn=\"(?:\"+[\"[\\\\u2700-\\\\u27bf]\",an,sn].join(\"|\")+\")\"+hn,pn=\"(?:\"+[\"[^\\\\ud800-\\\\udfff]\"+en+\"?\",en,an,sn,\"[\\\\ud800-\\\\udfff]\"].join(\"|\")+\")\",mn=RegExp(\"[']\",\"g\"),vn=RegExp(en,\"g\"),gn=RegExp(on+\"(?=\"+on+\")|\"+pn+hn,\"g\"),yn=RegExp([un+\"?\"+nn+\"+(?:['](?:d|ll|m|re|s|t|ve))?(?=\"+[tn,un,\"$\"].join(\"|\")+\")\",\"(?:[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]|[^\\\\ud800-\\\\udfff\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\\\\d+\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=\"+[tn,un+ln,\"$\"].join(\"|\")+\")\",un+\"?\"+ln+\"+(?:['](?:d|ll|m|re|s|t|ve))?\",un+\"+(?:['](?:D|LL|M|RE|S|T|VE))?\",\"\\\\d*(?:(?:1ST|2ND|3RD|(?![123])\\\\dTH)\\\\b)\",\"\\\\d*(?:(?:1st|2nd|3rd|(?![123])\\\\dth)\\\\b)\",\"\\\\d+\",dn].join(\"|\"),\"g\"),bn=RegExp(\"[\\\\u200d\\\\ud800-\\\\udfff\"+Qe+\"\\\\ufe0e\\\\ufe0f]\"),xn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],wn=-1,En={};En[le]=En[ce]=En[fe]=En[he]=En[de]=En[pe]=En[me]=En[ve]=En[ge]=!0,En[Bt]=En[jt]=En[se]=En[Vt]=En[ue]=En[Gt]=En[Yt]=En[Xt]=En[Zt]=En[Kt]=En[Qt]=En[te]=En[ee]=En[ne]=En[oe]=!1;var Mn={};Mn[Bt]=Mn[jt]=Mn[se]=Mn[ue]=Mn[Vt]=Mn[Gt]=Mn[le]=Mn[ce]=Mn[fe]=Mn[he]=Mn[de]=Mn[Zt]=Mn[Kt]=Mn[Qt]=Mn[te]=Mn[ee]=Mn[ne]=Mn[re]=Mn[pe]=Mn[me]=Mn[ve]=Mn[ge]=!0,Mn[Yt]=Mn[Xt]=Mn[oe]=!1;var Tn={\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"C\",\"\":\"c\",\"\":\"D\",\"\":\"d\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"N\",\"\":\"n\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"Y\",\"\":\"y\",\"\":\"y\",\"\":\"Ae\",\"\":\"ae\",\"\":\"Th\",\"\":\"th\",\"\":\"ss\",\"\":\"A\",\"\":\"A\",\"\":\"A\",\"\":\"a\",\"\":\"a\",\"\":\"a\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"C\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"c\",\"\":\"D\",\"\":\"D\",\"\":\"d\",\"\":\"d\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"E\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"e\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"G\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"g\",\"\":\"H\",\"\":\"H\",\"\":\"h\",\"\":\"h\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"I\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"i\",\"\":\"J\",\"\":\"j\",\"\":\"K\",\"\":\"k\",\"\":\"k\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"L\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"l\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"N\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"n\",\"\":\"O\",\"\":\"O\",\"\":\"O\",\"\":\"o\",\"\":\"o\",\"\":\"o\",\"\":\"R\",\"\":\"R\",\"\":\"R\",\"\":\"r\",\"\":\"r\",\"\":\"r\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"S\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"s\",\"\":\"T\",\"\":\"T\",\"\":\"T\",\"\":\"t\",\"\":\"t\",\"\":\"t\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"U\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"u\",\"\":\"W\",\"\":\"w\",\"\":\"Y\",\"\":\"y\",\"\":\"Y\",\"\":\"Z\",\"\":\"Z\",\"\":\"Z\",\"\":\"z\",\"\":\"z\",\"\":\"z\",\"\":\"IJ\",\"\":\"ij\",\"\":\"Oe\",\"\":\"oe\",\"\":\"'n\",\"\":\"s\"},Sn={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},An={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"},Pn={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Cn=parseFloat,Rn=parseInt,On=\"object\"==typeof t&&t&&t.Object===Object&&t,Ln=\"object\"==typeof self&&self&&self.Object===Object&&self,kn=On||Ln||Function(\"return this\")(),Nn=\"object\"==typeof e&&e&&!e.nodeType&&e,In=Nn&&\"object\"==typeof r&&r&&!r.nodeType&&r,Dn=In&&In.exports===Nn,Un=Dn&&On.process,zn=function(){try{return Un&&Un.binding&&Un.binding(\"util\")}catch(t){}}(),Fn=zn&&zn.isArrayBuffer,Bn=zn&&zn.isDate,jn=zn&&zn.isMap,Hn=zn&&zn.isRegExp,Vn=zn&&zn.isSet,Gn=zn&&zn.isTypedArray,Wn=P(\"length\"),Yn=C(Tn),Xn=C(Sn),qn=C(An),Zn=function t(e){function n(t){if(ou(t)&&!gh(t)&&!(t instanceof x)){if(t instanceof i)return t;if(vc.call(t,\"__wrapped__\"))return na(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function x(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function C(){var t=new x(this.__wrapped__);return t.__actions__=Ui(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ui(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ui(this.__views__),t}function $(){if(this.__filtered__){var t=new x(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=gh(t),r=e<0,i=n?t.length:0,o=Ao(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=Yc(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return yi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){l+=e;for(var m=-1,v=t[l];++m<f;){var g=c[m],y=g.iteratee,b=g.type,x=y(v);if(b==Ot)v=x;else if(!x){if(b==Rt)continue t;break t}}p[h++]=v}return p}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Be(){this.__data__=nf?nf(null):{},this.size=0}function Qe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Je(t){var e=this.__data__;if(nf){var n=e[t];return n===ut?it:n}return vc.call(e,t)?e[t]:it}function tn(t){var e=this.__data__;return nf?e[t]!==it:vc.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nf&&e===it?ut:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=Kn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Rc.call(e,n,1),--this.size,!0)}function an(t){var e=this.__data__,n=Kn(e,t);return n<0?it:e[n][1]}function sn(t){return Kn(this.__data__,t)>-1}function un(t,e){var n=this.__data__,r=Kn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function cn(){this.size=0,this.__data__={hash:new nt,map:new(Qc||nn),string:new nt}}function fn(t){var e=Eo(this,t).delete(t);return this.size-=e?1:0,e}function hn(t){return Eo(this,t).get(t)}function dn(t){return Eo(this,t).has(t)}function pn(t,e){var n=Eo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function gn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ln;++e<n;)this.add(t[e])}function yn(t){return this.__data__.set(t,ut),this}function bn(t){return this.__data__.has(t)}function xn(t){var e=this.__data__=new nn(t);this.size=e.size}function Tn(){this.__data__=new nn,this.size=0}function Sn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function An(t){return this.__data__.get(t)}function Pn(t){return this.__data__.has(t)}function On(t,e){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Qc||r.length<ot-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ln(r)}return n.set(t,e),this.size=n.size,this}function Ln(t,e){var n=gh(t),r=!n&&vh(t),i=!n&&!r&&bh(t),o=!n&&!r&&!i&&Mh(t),a=n||r||i||o,s=a?k(t.length,lc):[],u=s.length;for(var l in t)!e&&!vc.call(t,l)||a&&(\"length\"==l||i&&(\"offset\"==l||\"parent\"==l)||o&&(\"buffer\"==l||\"byteLength\"==l||\"byteOffset\"==l)||Io(l,u))||s.push(l);return s}function Nn(t){var e=t.length;return e?t[Jr(0,e-1)]:it}function In(t,e){return Qo(Ui(t),nr(e,0,t.length))}function Un(t){return Qo(Ui(t))}function zn(t,e,n){(n===it||Ws(t[e],n))&&(n!==it||e in t)||tr(t,e,n)}function Wn(t,e,n){var r=t[e];vc.call(t,e)&&Ws(r,n)&&(n!==it||e in t)||tr(t,e,n)}function Kn(t,e){for(var n=t.length;n--;)if(Ws(t[n][0],e))return n;return-1}function $n(t,e,n,r){return mf(t,function(t,i,o){e(r,t,n(t),o)}),r}function Qn(t,e){return t&&zi(e,Bu(e),t)}function Jn(t,e){return t&&zi(e,ju(e),t)}function tr(t,e,n){\"__proto__\"==e&&Nc?Nc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function er(t,e){for(var n=-1,r=e.length,i=nc(r),o=null==t;++n<r;)i[n]=o?it:Uu(t,e[n]);return i}function nr(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function rr(t,e,n,r,i,o){var a,s=e&ft,u=e&ht,c=e&dt;if(n&&(a=i?n(t,r,i,o):n(t)),a!==it)return a;if(!iu(t))return t;var f=gh(t);if(f){if(a=Ro(t),!s)return Ui(t,a)}else{var h=Af(t),d=h==Xt||h==qt;if(bh(t))return Ti(t,s);if(h==Qt||h==Bt||d&&!i){if(a=u||d?{}:Oo(t),!s)return u?Bi(t,Jn(a,t)):Fi(t,Qn(a,t))}else{if(!Mn[h])return i?t:{};a=Lo(t,h,rr,s)}}o||(o=new xn);var p=o.get(t);if(p)return p;o.set(t,a);var m=c?u?bo:yo:u?ju:Bu,v=f?it:m(t);return l(v||t,function(r,i){v&&(i=r,r=t[i]),Wn(a,i,rr(r,e,n,i,t,o))}),a}function ir(t){var e=Bu(t);return function(n){return or(n,t,e)}}function or(t,e,n){var r=n.length;if(null==t)return!r;for(t=sc(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===it&&!(i in t)||!o(a))return!1}return!0}function ar(t,e,n){if(\"function\"!=typeof t)throw new cc(st);return Rf(function(){t.apply(it,n)},e)}function sr(t,e,n,r){var i=-1,o=d,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=m(e,I(n))),r?(o=p,a=!1):e.length>=ot&&(o=U,a=!1,e=new gn(e));t:for(;++i<s;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){for(var h=l;h--;)if(e[h]===f)continue t;u.push(c)}else o(e,f,r)||u.push(c)}return u}function ur(t,e){var n=!0;return mf(t,function(t,r,i){return n=!!e(t,r,i)}),n}function lr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===it?a===a&&!vu(a):n(a,s)))var s=a,u=o}return u}function cr(t,e,n,r){var i=t.length;for(n=wu(n),n<0&&(n=-n>i?0:i+n),r=r===it||r>i?i:wu(r),r<0&&(r+=i),r=n>r?0:Eu(r);n<r;)t[n++]=e;return t}function fr(t,e){var n=[];return mf(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function hr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=No),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?hr(s,e-1,n,r,i):v(i,s):r||(i[i.length]=s)}return i}function dr(t,e){return t&&gf(t,e,Bu)}function pr(t,e){return t&&yf(t,e,Bu)}function mr(t,e){return h(e,function(e){return eu(t[e])})}function vr(t,e){e=Ei(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Jo(e[n++])];return n&&n==r?t:it}function gr(t,e,n){var r=e(t);return gh(t)?r:v(r,n(t))}function yr(t){return null==t?t===it?ie:$t:kc&&kc in sc(t)?So(t):Yo(t)}function br(t,e){return t>e}function xr(t,e){return null!=t&&vc.call(t,e)}function _r(t,e){return null!=t&&e in sc(t)}function wr(t,e,n){return t>=Yc(e,n)&&t<Wc(e,n)}function Er(t,e,n){for(var r=n?p:d,i=t[0].length,o=t.length,a=o,s=nc(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=m(c,I(e))),u=Yc(c.length,u),s[a]=!n&&(e||i>=120&&c.length>=120)?new gn(a&&c):it}c=t[0];var f=-1,h=s[0];t:for(;++f<i&&l.length<u;){var v=c[f],g=e?e(v):v;if(v=n||0!==v?v:0,!(h?U(h,g):r(l,g,n))){for(a=o;--a;){var y=s[a];if(!(y?U(y,g):r(t[a],g,n)))continue t}h&&h.push(g),l.push(v)}}return l}function Mr(t,e,n,r){return dr(t,function(t,i,o){e(r,n(t),i,o)}),r}function Tr(t,e,n){e=Ei(e,t),t=qo(t,e);var r=null==t?t:t[Jo(_a(e))];return null==r?it:s(r,t,n)}function Sr(t){return ou(t)&&yr(t)==Bt}function Ar(t){return ou(t)&&yr(t)==se}function Pr(t){return ou(t)&&yr(t)==Gt}function Cr(t,e,n,r,i){return t===e||(null==t||null==e||!ou(t)&&!ou(e)?t!==t&&e!==e:Rr(t,e,n,r,Cr,i))}function Rr(t,e,n,r,i,o){var a=gh(t),s=gh(e),u=a?jt:Af(t),l=s?jt:Af(e);u=u==Bt?Qt:u,l=l==Bt?Qt:l;var c=u==Qt,f=l==Qt,h=u==l;if(h&&bh(t)){if(!bh(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new xn),a||Mh(t)?po(t,e,n,r,i,o):mo(t,e,u,n,r,i,o);if(!(n&pt)){var d=c&&vc.call(t,\"__wrapped__\"),p=f&&vc.call(e,\"__wrapped__\");if(d||p){var m=d?t.value():t,v=p?e.value():e;return o||(o=new xn),i(m,v,n,r,o)}}return!!h&&(o||(o=new xn),vo(t,e,n,r,i,o))}function Or(t){return ou(t)&&Af(t)==Zt}function Lr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=sc(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===it&&!(u in t))return!1}else{var f=new xn;if(r)var h=r(l,c,u,t,e,f);if(!(h===it?Cr(c,l,pt|mt,r,f):h))return!1}}return!0}function kr(t){return!(!iu(t)||Bo(t))&&(eu(t)?wc:Ye).test(ta(t))}function Nr(t){return ou(t)&&yr(t)==te}function Ir(t){return ou(t)&&Af(t)==ee}function Dr(t){return ou(t)&&ru(t.length)&&!!En[yr(t)]}function Ur(t){return\"function\"==typeof t?t:null==t?Rl:\"object\"==typeof t?gh(t)?Vr(t[0],t[1]):Hr(t):zl(t)}function zr(t){if(!jo(t))return Gc(t);var e=[];for(var n in sc(t))vc.call(t,n)&&\"constructor\"!=n&&e.push(n);return e}function Fr(t){if(!iu(t))return Wo(t);var e=jo(t),n=[];for(var r in t)(\"constructor\"!=r||!e&&vc.call(t,r))&&n.push(r);return n}function Br(t,e){return t<e}function jr(t,e){var n=-1,r=Ys(t)?nc(t.length):[];return mf(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Hr(t){var e=Mo(t);return 1==e.length&&e[0][2]?Vo(e[0][0],e[0][1]):function(n){return n===t||Lr(n,t,e)}}function Vr(t,e){return Uo(t)&&Ho(e)?Vo(Jo(t),e):function(n){var r=Uu(n,t);return r===it&&r===e?Fu(n,t):Cr(e,r,pt|mt)}}function Gr(t,e,n,r,i){t!==e&&gf(e,function(o,a){if(iu(o))i||(i=new xn),Wr(t,e,a,n,Gr,r,i);else{var s=r?r(t[a],o,a+\"\",t,e,i):it;s===it&&(s=o),zn(t,a,s)}},ju)}function Wr(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void zn(t,n,l);var c=o?o(s,u,n+\"\",t,e,a):it,f=c===it;if(f){var h=gh(u),d=!h&&bh(u),p=!h&&!d&&Mh(u);c=u,h||d||p?gh(s)?c=s:Xs(s)?c=Ui(s):d?(f=!1,c=Ti(u,!0)):p?(f=!1,c=Li(u,!0)):c=[]:du(u)||vh(u)?(c=s,vh(s)?c=Tu(s):(!iu(s)||r&&eu(s))&&(c=Oo(u))):f=!1}f&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),zn(t,n,c)}function Yr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Io(e,n)?t[e]:it}function Xr(t,e,n){var r=-1;return e=m(e.length?e:[Rl],I(wo())),O(jr(t,function(t,n,i){return{criteria:m(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return Ni(t,e,n)})}function qr(t,e){return Zr(t,e,function(e,n){return Fu(t,n)})}function Zr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=vr(t,a);n(s,a)&&oi(o,Ei(a,t),s)}return o}function Kr(t){return function(e){return vr(e,t)}}function $r(t,e,n,r){var i=r?T:M,o=-1,a=e.length,s=t;for(t===e&&(e=Ui(e)),n&&(s=m(t,I(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Rc.call(s,u,1),Rc.call(t,u,1);return t}function Qr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Io(i)?Rc.call(t,i,1):mi(t,i)}}return t}function Jr(t,e){return t+Fc(Zc()*(e-t+1))}function ti(t,e,n,r){for(var i=-1,o=Wc(zc((e-t)/(n||1)),0),a=nc(o);o--;)a[r?o:++i]=t,t+=n;return a}function ei(t,e){var n=\"\";if(!t||e<1||e>kt)return n;do{e%2&&(n+=t),(e=Fc(e/2))&&(t+=t)}while(e);return n}function ni(t,e){return Of(Xo(t,e,Rl),t+\"\")}function ri(t){return Nn(Ju(t))}function ii(t,e){var n=Ju(t);return Qo(n,nr(e,0,n.length))}function oi(t,e,n,r){if(!iu(t))return t;e=Ei(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Jo(e[i]),l=n;if(i!=a){var c=s[u];l=r?r(c,u,s):it,l===it&&(l=iu(c)?c:Io(e[i+1])?[]:{})}Wn(s,u,l),s=s[u]}return t}function ai(t){return Qo(Ju(t))}function si(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=nc(i);++r<i;)o[r]=t[r+e];return o}function ui(t,e){var n;return mf(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function li(t,e,n){var r=0,i=null==t?r:t.length;if(\"number\"==typeof e&&e===e&&i<=zt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!vu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ci(t,e,Rl,n)}function ci(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=vu(e),l=e===it;i<o;){var c=Fc((i+o)/2),f=n(t[c]),h=f!==it,d=null===f,p=f===f,m=vu(f);if(a)var v=r||p;else v=l?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!m):!d&&!m&&(r?f<=e:f<e);v?i=c+1:o=c}return Yc(o,Ut)}function fi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ws(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function hi(t){return\"number\"==typeof t?t:vu(t)?It:+t}function di(t){if(\"string\"==typeof t)return t;if(gh(t))return m(t,di)+\"\";if(vu(t))return df?df.call(t):\"\";var e=t+\"\";return\"0\"==e&&1/t==-Lt?\"-0\":e}function pi(t,e,n){var r=-1,i=d,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=p;else if(o>=ot){var l=e?null:Ef(t);if(l)return Z(l);a=!1,i=U,u=new gn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(c)}else i(u,f,n)||(u!==s&&u.push(f),s.push(c))}return s}function mi(t,e){return e=Ei(e,t),null==(t=qo(t,e))||delete t[Jo(_a(e))]}function vi(t,e,n,r){return oi(t,e,n(vr(t,e)),r)}function gi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?si(t,r?0:o,r?o+1:i):si(t,r?o+1:0,r?i:o)}function yi(t,e){var n=t;return n instanceof x&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,v([t],e.args))},n)}function bi(t,e,n){var r=t.length;if(r<2)return r?pi(t[0]):[];for(var i=-1,o=nc(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=sr(o[i]||a,t[s],e,n));return pi(hr(o,1),e,n)}function xi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:it;n(a,t[r],s)}return a}function _i(t){return Xs(t)?t:[]}function wi(t){return\"function\"==typeof t?t:Rl}function Ei(t,e){return gh(t)?t:Uo(t,e)?[t]:Lf(Au(t))}function Mi(t,e,n){var r=t.length;return n=n===it?r:n,!e&&n>=r?t:si(t,e,n)}function Ti(t,e){if(e)return t.slice();var n=t.length,r=Sc?Sc(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Tc(e).set(new Tc(t)),e}function Ai(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Pi(t,e,n){return g(e?n(Y(t),ft):Y(t),o,new t.constructor)}function Ci(t){var e=new t.constructor(t.source,Ve.exec(t));return e.lastIndex=t.lastIndex,e}function Ri(t,e,n){return g(e?n(Z(t),ft):Z(t),a,new t.constructor)}function Oi(t){return hf?sc(hf.call(t)):{}}function Li(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ki(t,e){if(t!==e){var n=t!==it,r=null===t,i=t===t,o=vu(t),a=e!==it,s=null===e,u=e===e,l=vu(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function Ni(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=ki(i[r],o[r]);if(u){if(r>=s)return u;return u*(\"desc\"==n[r]?-1:1)}}return t.index-e.index}function Ii(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=Wc(o-a,0),c=nc(u+l),f=!r;++s<u;)c[s]=e[s];for(;++i<a;)(f||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function Di(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=Wc(o-s,0),f=nc(c+l),h=!r;++i<c;)f[i]=t[i];for(var d=i;++u<l;)f[d+u]=e[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function Ui(t,e){var n=-1,r=t.length;for(e||(e=nc(r));++n<r;)e[n]=t[n];return e}function zi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):it;u===it&&(u=t[s]),i?tr(n,s,u):Wn(n,s,u)}return n}function Fi(t,e){return zi(t,Tf(t),e)}function Bi(t,e){return zi(t,Sf(t),e)}function ji(t,e){return function(n,r){var i=gh(n)?u:$n,o=e?e():{};return i(n,t,wo(r,2),o)}}function Hi(t){return ni(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:it,a=i>2?n[2]:it;for(o=t.length>3&&\"function\"==typeof o?(i--,o):it,a&&Do(n[0],n[1],a)&&(o=i<3?it:o,i=1),e=sc(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Vi(t,e){return function(n,r){if(null==n)return n;if(!Ys(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=sc(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Gi(t){return function(e,n,r){for(var i=-1,o=sc(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Wi(t,e,n){function r(){return(this&&this!==kn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&vt,o=qi(t);return r}function Yi(t){return function(e){e=Au(e);var n=V(e)?tt(e):it,r=n?n[0]:e.charAt(0),i=n?Mi(n,1).join(\"\"):e.slice(1);return r[t]()+i}}function Xi(t){return function(e){return g(Tl(ol(e).replace(mn,\"\")),t,\"\")}}function qi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=pf(t.prototype),r=t.apply(n,e);return iu(r)?r:n}}function Zi(t,e,n){function r(){for(var o=arguments.length,a=nc(o),u=o,l=_o(r);u--;)a[u]=arguments[u];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:q(a,l);return(o-=c.length)<n?ao(t,e,Qi,r.placeholder,it,a,c,it,it,n-o):s(this&&this!==kn&&this instanceof r?i:t,this,a)}var i=qi(t);return r}function Ki(t){return function(e,n,r){var i=sc(e);if(!Ys(e)){var o=wo(n,3);e=Bu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:it}}function $i(t){return go(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if(\"function\"!=typeof a)throw new cc(st);if(o&&!s&&\"wrapper\"==xo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=e[r];var u=xo(a),l=\"wrapper\"==u?Mf(a):it;s=l&&Fo(l[0])&&l[1]==(Et|bt|_t|Mt)&&!l[4].length&&1==l[9]?s[xo(l[0])].apply(s,l[3]):1==a.length&&Fo(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&gh(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Qi(t,e,n,r,i,o,a,s,u,l){function c(){for(var g=arguments.length,y=nc(g),b=g;b--;)y[b]=arguments[b];if(p)var x=_o(c),_=B(y,x);if(r&&(y=Ii(y,r,i,p)),o&&(y=Di(y,o,a,p)),g-=_,p&&g<l){var w=q(y,x);return ao(t,e,Qi,c.placeholder,n,y,w,s,u,l-g)}var E=h?n:this,M=d?E[t]:t;return g=y.length,s?y=Zo(y,s):m&&g>1&&y.reverse(),f&&u<g&&(y.length=u),this&&this!==kn&&this instanceof c&&(M=v||qi(M)),M.apply(E,y)}var f=e&Et,h=e&vt,d=e&gt,p=e&(bt|xt),m=e&Tt,v=d?it:qi(t);return c}function Ji(t,e){return function(n,r){return Mr(n,t,e(r),{})}}function to(t,e){return function(n,r){var i;if(n===it&&r===it)return e;if(n!==it&&(i=n),r!==it){if(i===it)return r;\"string\"==typeof n||\"string\"==typeof r?(n=di(n),r=di(r)):(n=hi(n),r=hi(r)),i=t(n,r)}return i}}function eo(t){return go(function(e){return e=m(e,I(wo())),ni(function(n){var r=this;return t(e,function(t){return s(t,r,n)})})})}function no(t,e){e=e===it?\" \":di(e);var n=e.length;if(n<2)return n?ei(e,t):e;var r=ei(e,zc(t/J(e)));return V(e)?Mi(tt(r),0,t).join(\"\"):r.slice(0,t)}function ro(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,c=r.length,f=nc(c+u),h=this&&this!==kn&&this instanceof i?a:t;++l<c;)f[l]=r[l];for(;u--;)f[l++]=arguments[++e];return s(h,o?n:this,f)}var o=e&vt,a=qi(t);return i}function io(t){return function(e,n,r){return r&&\"number\"!=typeof r&&Do(e,n,r)&&(n=r=it),e=_u(e),n===it?(n=e,e=0):n=_u(n),r=r===it?e<n?1:-1:_u(r),ti(e,n,r,t)}}function oo(t){return function(e,n){return\"string\"==typeof e&&\"string\"==typeof n||(e=Mu(e),n=Mu(n)),t(e,n)}}function ao(t,e,n,r,i,o,a,s,u,l){var c=e&bt,f=c?a:it,h=c?it:a,d=c?o:it,p=c?it:o;e|=c?_t:wt,(e&=~(c?wt:_t))&yt||(e&=~(vt|gt));var m=[t,e,i,d,f,p,h,s,u,l],v=n.apply(it,m);return Fo(t)&&Cf(v,m),v.placeholder=r,Ko(v,t,e)}function so(t){var e=ac[t];return function(t,n){if(t=Mu(t),n=null==n?0:Yc(wu(n),292)){var r=(Au(t)+\"e\").split(\"e\");return r=(Au(e(r[0]+\"e\"+(+r[1]+n)))+\"e\").split(\"e\"),+(r[0]+\"e\"+(+r[1]-n))}return e(t)}}function uo(t){return function(e){var n=Af(e);return n==Zt?Y(e):n==ee?K(e):N(e,t(e))}}function lo(t,e,n,r,i,o,a,s){var u=e&gt;if(!u&&\"function\"!=typeof t)throw new cc(st);var l=r?r.length:0;if(l||(e&=~(_t|wt),r=i=it),a=a===it?a:Wc(wu(a),0),s=s===it?s:wu(s),l-=i?i.length:0,e&wt){var c=r,f=i;r=i=it}var h=u?it:Mf(t),d=[t,e,n,r,i,c,f,o,a,s];if(h&&Go(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===it?u?0:t.length:Wc(d[9]-l,0),!s&&e&(bt|xt)&&(e&=~(bt|xt)),e&&e!=vt)p=e==bt||e==xt?Zi(t,e,s):e!=_t&&e!=(vt|_t)||i.length?Qi.apply(it,d):ro(t,e,n,r);else var p=Wi(t,e,n);return Ko((h?bf:Cf)(p,d),t,e)}function co(t,e,n,r){return t===it||Ws(t,dc[n])&&!vc.call(r,n)?e:t}function fo(t,e,n,r,i,o){return iu(t)&&iu(e)&&(o.set(e,t),Gr(t,e,it,fo,o),o.delete(e)),t}function ho(t){return du(t)?it:t}function po(t,e,n,r,i,o){var a=n&pt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,f=!0,h=n&mt?new gn:it;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var m=a?r(p,d,c,e,t,o):r(d,p,c,t,e,o);if(m!==it){if(m)continue;f=!1;break}if(h){if(!b(e,function(t,e){if(!U(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){f=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}function mo(t,e,n,r,i,o,a){switch(n){case ue:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case se:return!(t.byteLength!=e.byteLength||!o(new Tc(t),new Tc(e)));case Vt:case Gt:case Kt:return Ws(+t,+e);case Yt:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+\"\";case Zt:var s=Y;case ee:var u=r&pt;if(s||(s=Z),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=mt,a.set(t,e);var c=po(s(t),s(e),r,i,o,a);return a.delete(t),c;case re:if(hf)return hf.call(t)==hf.call(e)}return!1}function vo(t,e,n,r,i,o){var a=n&pt,s=yo(t),u=s.length;if(u!=yo(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:vc.call(e,c)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++l<u;){c=s[l];var p=t[c],m=e[c];if(r)var v=a?r(m,p,c,e,t,o):r(p,m,c,t,e,o);if(!(v===it?p===m||i(p,m,n,r,o):v)){h=!1;break}d||(d=\"constructor\"==c)}if(h&&!d){var g=t.constructor,y=e.constructor;g!=y&&\"constructor\"in t&&\"constructor\"in e&&!(\"function\"==typeof g&&g instanceof g&&\"function\"==typeof y&&y instanceof y)&&(h=!1)}return o.delete(t),o.delete(e),h}function go(t){return Of(Xo(t,it,da),t+\"\")}function yo(t){return gr(t,Bu,Tf)}function bo(t){return gr(t,ju,Sf)}function xo(t){for(var e=t.name+\"\",n=of[e],r=vc.call(of,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function _o(t){return(vc.call(n,\"placeholder\")?n:t).placeholder}function wo(){var t=n.iteratee||Ol;return t=t===Ol?Ur:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var n=t.__data__;return zo(e)?n[\"string\"==typeof e?\"string\":\"hash\"]:n.map}function Mo(t){for(var e=Bu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ho(i)]}return e}function To(t,e){var n=H(t,e);return kr(n)?n:it}function So(t){var e=vc.call(t,kc),n=t[kc];try{t[kc]=it;var r=!0}catch(t){}var i=bc.call(t);return r&&(e?t[kc]=n:delete t[kc]),i}function Ao(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case\"drop\":t+=a;break;case\"dropRight\":e-=a;break;case\"take\":e=Yc(e,t+a);break;case\"takeRight\":t=Wc(t,e-a)}}return{start:t,end:e}}function Po(t){var e=t.match(ze);return e?e[1].split(Fe):[]}function Co(t,e,n){e=Ei(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Jo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&ru(i)&&Io(a,i)&&(gh(t)||vh(t))}function Ro(t){var e=t.length,n=t.constructor(e);return e&&\"string\"==typeof t[0]&&vc.call(t,\"index\")&&(n.index=t.index,n.input=t.input),n}function Oo(t){return\"function\"!=typeof t.constructor||jo(t)?{}:pf(Ac(t))}function Lo(t,e,n,r){var i=t.constructor;switch(e){case se:return Si(t);case Vt:case Gt:return new i(+t);case ue:return Ai(t,r);case le:case ce:case fe:case he:case de:case pe:case me:case ve:case ge:return Li(t,r);case Zt:return Pi(t,r,n);case Kt:case ne:return new i(t);case te:return Ci(t);case ee:return Ri(t,r,n);case re:return Oi(t)}}function ko(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?\"& \":\"\")+e[r],e=e.join(n>2?\", \":\" \"),t.replace(Ue,\"{\\n/* [wrapped with \"+e+\"] */\\n\")}function No(t){return gh(t)||vh(t)||!!(Oc&&t&&t[Oc])}function Io(t,e){return!!(e=null==e?kt:e)&&(\"number\"==typeof t||qe.test(t))&&t>-1&&t%1==0&&t<e}function Do(t,e,n){if(!iu(n))return!1;var r=typeof e;return!!(\"number\"==r?Ys(n)&&Io(e,n.length):\"string\"==r&&e in n)&&Ws(n[e],t)}function Uo(t,e){if(gh(t))return!1;var n=typeof t;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=t&&!vu(t))||(Ce.test(t)||!Pe.test(t)||null!=e&&t in sc(e))}function zo(t){var e=typeof t;return\"string\"==e||\"number\"==e||\"symbol\"==e||\"boolean\"==e?\"__proto__\"!==t:null===t}function Fo(t){var e=xo(t),r=n[e];if(\"function\"!=typeof r||!(e in x.prototype))return!1;if(t===r)return!0;var i=Mf(r);return!!i&&t===i[0]}function Bo(t){return!!yc&&yc in t}function jo(t){var e=t&&t.constructor;return t===(\"function\"==typeof e&&e.prototype||dc)}function Ho(t){return t===t&&!iu(t)}function Vo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in sc(n)))}}function Go(t,e){var n=t[1],r=e[1],i=n|r,o=i<(vt|gt|Et),a=r==Et&&n==bt||r==Et&&n==Mt&&t[7].length<=e[8]||r==(Et|Mt)&&e[7].length<=e[8]&&n==bt;if(!o&&!a)return t;r&vt&&(t[2]=e[2],i|=n&vt?0:yt);var s=e[3];if(s){var u=t[3];t[3]=u?Ii(u,s,e[4]):s,t[4]=u?q(t[3],ct):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Di(u,s,e[6]):s,t[6]=u?q(t[5],ct):e[6]),s=e[7],s&&(t[7]=s),r&Et&&(t[8]=null==t[8]?e[8]:Yc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Wo(t){var e=[];if(null!=t)for(var n in sc(t))e.push(n);return e}function Yo(t){return bc.call(t)}function Xo(t,e,n){return e=Wc(e===it?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Wc(r.length-e,0),a=nc(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=nc(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),s(t,this,u)}}function qo(t,e){return e.length<2?t:vr(t,si(e,0,-1))}function Zo(t,e){for(var n=t.length,r=Yc(e.length,n),i=Ui(t);r--;){var o=e[r];t[r]=Io(o,n)?i[o]:it}return t}function Ko(t,e,n){var r=e+\"\";return Of(t,ko(r,ea(Po(r),n)))}function $o(t){var e=0,n=0;return function(){var r=Xc(),i=Ct-(r-n);if(n=r,i>0){if(++e>=Pt)return arguments[0]}else e=0;return t.apply(it,arguments)}}function Qo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===it?r:e;++n<e;){var o=Jr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Jo(t){if(\"string\"==typeof t||vu(t))return t;var e=t+\"\";return\"0\"==e&&1/t==-Lt?\"-0\":e}function ta(t){if(null!=t){try{return mc.call(t)}catch(t){}try{return t+\"\"}catch(t){}}return\"\"}function ea(t,e){return l(Ft,function(n){var r=\"_.\"+n[0];e&n[1]&&!d(t,r)&&t.push(r)}),t.sort()}function na(t){if(t instanceof x)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Ui(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ra(t,e,n){e=(n?Do(t,e,n):e===it)?1:Wc(wu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=nc(zc(r/e));i<r;)a[o++]=si(t,i,i+=e);return a}function ia(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function oa(){var t=arguments.length;if(!t)return[];for(var e=nc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return v(gh(n)?Ui(n):[n],hr(e,1))}function aa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:wu(e),si(t,e<0?0:e,r)):[]}function sa(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:wu(e),e=r-e,si(t,0,e<0?0:e)):[]}function ua(t,e){return t&&t.length?gi(t,wo(e,3),!0,!0):[]}function la(t,e){return t&&t.length?gi(t,wo(e,3),!0):[]}function ca(t,e,n,r){var i=null==t?0:t.length;return i?(n&&\"number\"!=typeof n&&Do(t,e,n)&&(n=0,r=i),cr(t,e,n,r)):[]}function fa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:wu(n);return i<0&&(i=Wc(r+i,0)),E(t,wo(e,3),i)}function ha(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==it&&(i=wu(n),i=n<0?Wc(r+i,0):Yc(i,r-1)),E(t,wo(e,3),i,!0)}function da(t){return(null==t?0:t.length)?hr(t,1):[]}function pa(t){return(null==t?0:t.length)?hr(t,Lt):[]}function ma(t,e){return(null==t?0:t.length)?(e=e===it?1:wu(e),hr(t,e)):[]}function va(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function ga(t){return t&&t.length?t[0]:it}function ya(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:wu(n);return i<0&&(i=Wc(r+i,0)),M(t,e,i)}function ba(t){return(null==t?0:t.length)?si(t,0,-1):[]}function xa(t,e){return null==t?\"\":Vc.call(t,e)}function _a(t){var e=null==t?0:t.length;return e?t[e-1]:it}function wa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==it&&(i=wu(n),i=i<0?Wc(r+i,0):Yc(i,r-1)),e===e?Q(t,e,i):E(t,S,i,!0)}function Ea(t,e){return t&&t.length?Yr(t,wu(e)):it}function Ma(t,e){return t&&t.length&&e&&e.length?$r(t,e):t}function Ta(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,wo(n,2)):t}function Sa(t,e,n){return t&&t.length&&e&&e.length?$r(t,e,it,n):t}function Aa(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=wo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Qr(t,i),n}function Pa(t){return null==t?t:Kc.call(t)}function Ca(t,e,n){var r=null==t?0:t.length;return r?(n&&\"number\"!=typeof n&&Do(t,e,n)?(e=0,n=r):(e=null==e?0:wu(e),n=n===it?r:wu(n)),si(t,e,n)):[]}function Ra(t,e){return li(t,e)}function Oa(t,e,n){return ci(t,e,wo(n,2))}function La(t,e){var n=null==t?0:t.length;if(n){var r=li(t,e);if(r<n&&Ws(t[r],e))return r}return-1}function ka(t,e){return li(t,e,!0)}function Na(t,e,n){return ci(t,e,wo(n,2),!0)}function Ia(t,e){if(null==t?0:t.length){var n=li(t,e,!0)-1;if(Ws(t[n],e))return n}return-1}function Da(t){return t&&t.length?fi(t):[]}function Ua(t,e){return t&&t.length?fi(t,wo(e,2)):[]}function za(t){var e=null==t?0:t.length;return e?si(t,1,e):[]}function Fa(t,e,n){return t&&t.length?(e=n||e===it?1:wu(e),si(t,0,e<0?0:e)):[]}function Ba(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===it?1:wu(e),e=r-e,si(t,e<0?0:e,r)):[]}function ja(t,e){return t&&t.length?gi(t,wo(e,3),!1,!0):[]}function Ha(t,e){return t&&t.length?gi(t,wo(e,3)):[]}function Va(t){return t&&t.length?pi(t):[]}function Ga(t,e){return t&&t.length?pi(t,wo(e,2)):[]}function Wa(t,e){return e=\"function\"==typeof e?e:it,t&&t.length?pi(t,it,e):[]}function Ya(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Xs(t))return e=Wc(t.length,e),!0}),k(e,function(e){return m(t,P(e))})}function Xa(t,e){if(!t||!t.length)return[];var n=Ya(t);return null==e?n:m(n,function(t){return s(e,it,t)})}function qa(t,e){return xi(t||[],e||[],Wn)}function Za(t,e){return xi(t||[],e||[],oi)}function Ka(t){var e=n(t);return e.__chain__=!0,e}function $a(t,e){return e(t),t}function Qa(t,e){return e(t)}function Ja(){return Ka(this)}function ts(){return new i(this.value(),this.__chain__)}function es(){this.__values__===it&&(this.__values__=xu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?it:this.__values__[this.__index__++]}}function ns(){return this}function rs(t){for(var e,n=this;n instanceof r;){var i=na(n);i.__index__=0,i.__values__=it,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function is(){var t=this.__wrapped__;if(t instanceof x){var e=t;return this.__actions__.length&&(e=new x(this)),e=e.reverse(),e.__actions__.push({func:Qa,args:[Pa],thisArg:it}),new i(e,this.__chain__)}return this.thru(Pa)}function os(){return yi(this.__wrapped__,this.__actions__)}function as(t,e,n){var r=gh(t)?f:ur;return n&&Do(t,e,n)&&(e=it),r(t,wo(e,3))}function ss(t,e){return(gh(t)?h:fr)(t,wo(e,3))}function us(t,e){return hr(ps(t,e),1)}function ls(t,e){return hr(ps(t,e),Lt)}function cs(t,e,n){return n=n===it?1:wu(n),hr(ps(t,e),n)}function fs(t,e){return(gh(t)?l:mf)(t,wo(e,3))}function hs(t,e){return(gh(t)?c:vf)(t,wo(e,3))}function ds(t,e,n,r){t=Ys(t)?t:Ju(t),n=n&&!r?wu(n):0;var i=t.length;return n<0&&(n=Wc(i+n,0)),mu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&M(t,e,n)>-1}function ps(t,e){return(gh(t)?m:jr)(t,wo(e,3))}function ms(t,e,n,r){return null==t?[]:(gh(e)||(e=null==e?[]:[e]),n=r?it:n,gh(n)||(n=null==n?[]:[n]),Xr(t,e,n))}function vs(t,e,n){var r=gh(t)?g:R,i=arguments.length<3;return r(t,wo(e,4),n,i,mf)}function gs(t,e,n){var r=gh(t)?y:R,i=arguments.length<3;return r(t,wo(e,4),n,i,vf)}function ys(t,e){return(gh(t)?h:fr)(t,Ls(wo(e,3)))}function bs(t){return(gh(t)?Nn:ri)(t)}function xs(t,e,n){return e=(n?Do(t,e,n):e===it)?1:wu(e),(gh(t)?In:ii)(t,e)}function _s(t){return(gh(t)?Un:ai)(t)}function ws(t){if(null==t)return 0;if(Ys(t))return mu(t)?J(t):t.length;var e=Af(t);return e==Zt||e==ee?t.size:zr(t).length}function Es(t,e,n){var r=gh(t)?b:ui;return n&&Do(t,e,n)&&(e=it),r(t,wo(e,3))}function Ms(t,e){if(\"function\"!=typeof e)throw new cc(st);return t=wu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ts(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,lo(t,Et,it,it,it,it,e)}function Ss(t,e){var n;if(\"function\"!=typeof e)throw new cc(st);return t=wu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function As(t,e,n){e=n?it:e;var r=lo(t,bt,it,it,it,it,it,e);return r.placeholder=As.placeholder,r}function Ps(t,e,n){e=n?it:e;var r=lo(t,xt,it,it,it,it,it,e);return r.placeholder=Ps.placeholder,r}function Cs(t,e,n){function r(e){var n=h,r=d;return h=d=it,y=e,m=t.apply(r,n)}function i(t){return y=t,v=Rf(s,e),b?r(t):m}function o(t){var n=t-g,r=t-y,i=e-n;return x?Yc(i,p-r):i}function a(t){var n=t-g,r=t-y;return g===it||n>=e||n<0||x&&r>=p}function s(){var t=oh();if(a(t))return u(t);v=Rf(s,o(t))}function u(t){return v=it,_&&h?r(t):(h=d=it,m)}function l(){v!==it&&wf(v),y=0,h=g=d=v=it}function c(){return v===it?m:u(oh())}function f(){var t=oh(),n=a(t);if(h=arguments,d=this,g=t,n){if(v===it)return i(g);if(x)return v=Rf(s,e),r(g)}return v===it&&(v=Rf(s,e)),m}var h,d,p,m,v,g,y=0,b=!1,x=!1,_=!0;if(\"function\"!=typeof t)throw new cc(st);return e=Mu(e)||0,iu(n)&&(b=!!n.leading,x=\"maxWait\"in n,p=x?Wc(Mu(n.maxWait)||0,e):p,_=\"trailing\"in n?!!n.trailing:_),f.cancel=l,f.flush=c,f}function Rs(t){return lo(t,Tt)}function Os(t,e){if(\"function\"!=typeof t||null!=e&&\"function\"!=typeof e)throw new cc(st);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Os.Cache||ln),n}function Ls(t){if(\"function\"!=typeof t)throw new cc(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ks(t){return Ss(2,t)}function Ns(t,e){if(\"function\"!=typeof t)throw new cc(st);return e=e===it?e:wu(e),ni(t,e)}function Is(t,e){if(\"function\"!=typeof t)throw new cc(st);return e=null==e?0:Wc(wu(e),0),ni(function(n){var r=n[e],i=Mi(n,0,e);return r&&v(i,r),s(t,this,i)})}function Ds(t,e,n){var r=!0,i=!0;if(\"function\"!=typeof t)throw new cc(st);return iu(n)&&(r=\"leading\"in n?!!n.leading:r,i=\"trailing\"in n?!!n.trailing:i),Cs(t,e,{leading:r,maxWait:e,trailing:i})}function Us(t){return Ts(t,1)}function zs(t,e){return fh(wi(e),t)}function Fs(){if(!arguments.length)return[];var t=arguments[0];return gh(t)?t:[t]}function Bs(t){return rr(t,dt)}function js(t,e){return e=\"function\"==typeof e?e:it,rr(t,dt,e)}function Hs(t){return rr(t,ft|dt)}function Vs(t,e){return e=\"function\"==typeof e?e:it,rr(t,ft|dt,e)}function Gs(t,e){return null==e||or(t,e,Bu(e))}function Ws(t,e){return t===e||t!==t&&e!==e}function Ys(t){return null!=t&&ru(t.length)&&!eu(t)}function Xs(t){return ou(t)&&Ys(t)}function qs(t){return!0===t||!1===t||ou(t)&&yr(t)==Vt}function Zs(t){return ou(t)&&1===t.nodeType&&!du(t)}function Ks(t){if(null==t)return!0;if(Ys(t)&&(gh(t)||\"string\"==typeof t||\"function\"==typeof t.splice||bh(t)||Mh(t)||vh(t)))return!t.length;var e=Af(t);if(e==Zt||e==ee)return!t.size;if(jo(t))return!zr(t).length;for(var n in t)if(vc.call(t,n))return!1;return!0}function $s(t,e){return Cr(t,e)}function Qs(t,e,n){n=\"function\"==typeof n?n:it;var r=n?n(t,e):it;return r===it?Cr(t,e,it,n):!!r}function Js(t){if(!ou(t))return!1;var e=yr(t);return e==Yt||e==Wt||\"string\"==typeof t.message&&\"string\"==typeof t.name&&!du(t)}function tu(t){return\"number\"==typeof t&&Hc(t)}function eu(t){if(!iu(t))return!1;var e=yr(t);return e==Xt||e==qt||e==Ht||e==Jt}function nu(t){return\"number\"==typeof t&&t==wu(t)}function ru(t){return\"number\"==typeof t&&t>-1&&t%1==0&&t<=kt}function iu(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}function ou(t){return null!=t&&\"object\"==typeof t}function au(t,e){return t===e||Lr(t,e,Mo(e))}function su(t,e,n){return n=\"function\"==typeof n?n:it,Lr(t,e,Mo(e),n)}function uu(t){return hu(t)&&t!=+t}function lu(t){if(Pf(t))throw new ic(at);return kr(t)}function cu(t){return null===t}function fu(t){return null==t}function hu(t){return\"number\"==typeof t||ou(t)&&yr(t)==Kt}function du(t){if(!ou(t)||yr(t)!=Qt)return!1;var e=Ac(t);if(null===e)return!0;var n=vc.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&mc.call(n)==xc}function pu(t){return nu(t)&&t>=-kt&&t<=kt}function mu(t){return\"string\"==typeof t||!gh(t)&&ou(t)&&yr(t)==ne}function vu(t){return\"symbol\"==typeof t||ou(t)&&yr(t)==re}function gu(t){return t===it}function yu(t){return ou(t)&&Af(t)==oe}function bu(t){return ou(t)&&yr(t)==ae}function xu(t){if(!t)return[];if(Ys(t))return mu(t)?tt(t):Ui(t);if(Lc&&t[Lc])return W(t[Lc]());var e=Af(t);return(e==Zt?Y:e==ee?Z:Ju)(t)}function _u(t){if(!t)return 0===t?t:0;if((t=Mu(t))===Lt||t===-Lt){return(t<0?-1:1)*Nt}return t===t?t:0}function wu(t){var e=_u(t),n=e%1;return e===e?n?e-n:e:0}function Eu(t){return t?nr(wu(t),0,Dt):0}function Mu(t){if(\"number\"==typeof t)return t;if(vu(t))return It;if(iu(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=iu(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(Ne,\"\");var n=We.test(t);return n||Xe.test(t)?Rn(t.slice(2),n?2:8):Ge.test(t)?It:+t}function Tu(t){return zi(t,ju(t))}function Su(t){return t?nr(wu(t),-kt,kt):0===t?t:0}function Au(t){return null==t?\"\":di(t)}function Pu(t,e){var n=pf(t);return null==e?n:Qn(n,e)}function Cu(t,e){return w(t,wo(e,3),dr)}function Ru(t,e){return w(t,wo(e,3),pr)}function Ou(t,e){return null==t?t:gf(t,wo(e,3),ju)}function Lu(t,e){return null==t?t:yf(t,wo(e,3),ju)}function ku(t,e){return t&&dr(t,wo(e,3))}function Nu(t,e){return t&&pr(t,wo(e,3))}function Iu(t){return null==t?[]:mr(t,Bu(t))}function Du(t){return null==t?[]:mr(t,ju(t))}function Uu(t,e,n){var r=null==t?it:vr(t,e);return r===it?n:r}function zu(t,e){return null!=t&&Co(t,e,xr)}function Fu(t,e){return null!=t&&Co(t,e,_r)}function Bu(t){return Ys(t)?Ln(t):zr(t)}function ju(t){return Ys(t)?Ln(t,!0):Fr(t)}function Hu(t,e){var n={};return e=wo(e,3),dr(t,function(t,r,i){tr(n,e(t,r,i),t)}),n}function Vu(t,e){var n={};return e=wo(e,3),dr(t,function(t,r,i){tr(n,r,e(t,r,i))}),n}function Gu(t,e){return Wu(t,Ls(wo(e)))}function Wu(t,e){if(null==t)return{};var n=m(bo(t),function(t){return[t]});return e=wo(e),Zr(t,n,function(t,n){return e(t,n[0])})}function Yu(t,e,n){e=Ei(e,t);var r=-1,i=e.length;for(i||(i=1,t=it);++r<i;){var o=null==t?it:t[Jo(e[r])];o===it&&(r=i,o=n),t=eu(o)?o.call(t):o}return t}function Xu(t,e,n){return null==t?t:oi(t,e,n)}function qu(t,e,n,r){return r=\"function\"==typeof r?r:it,null==t?t:oi(t,e,n,r)}function Zu(t,e,n){var r=gh(t),i=r||bh(t)||Mh(t);if(e=wo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:iu(t)&&eu(o)?pf(Ac(t)):{}}return(i?l:dr)(t,function(t,r,i){return e(n,t,r,i)}),n}function Ku(t,e){return null==t||mi(t,e)}function $u(t,e,n){return null==t?t:vi(t,e,wi(n))}function Qu(t,e,n,r){return r=\"function\"==typeof r?r:it,null==t?t:vi(t,e,wi(n),r)}function Ju(t){return null==t?[]:D(t,Bu(t))}function tl(t){return null==t?[]:D(t,ju(t))}function el(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=Mu(n),n=n===n?n:0),e!==it&&(e=Mu(e),e=e===e?e:0),nr(Mu(t),e,n)}function nl(t,e,n){return e=_u(e),n===it?(n=e,e=0):n=_u(n),t=Mu(t),wr(t,e,n)}function rl(t,e,n){if(n&&\"boolean\"!=typeof n&&Do(t,e,n)&&(e=n=it),n===it&&(\"boolean\"==typeof e?(n=e,e=it):\"boolean\"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=_u(t),e===it?(e=t,t=0):e=_u(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Zc();return Yc(t+i*(e-t+Cn(\"1e-\"+((i+\"\").length-1))),e)}return Jr(t,e)}function il(t){return Kh(Au(t).toLowerCase())}function ol(t){return(t=Au(t))&&t.replace(Ze,Yn).replace(vn,\"\")}function al(t,e,n){t=Au(t),e=di(e);var r=t.length;n=n===it?r:nr(wu(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function sl(t){return t=Au(t),t&&Me.test(t)?t.replace(we,Xn):t}function ul(t){return t=Au(t),t&&ke.test(t)?t.replace(Le,\"\\\\$&\"):t}function ll(t,e,n){t=Au(t),e=wu(e);var r=e?J(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return no(Fc(i),n)+t+no(zc(i),n)}function cl(t,e,n){t=Au(t),e=wu(e);var r=e?J(t):0;return e&&r<e?t+no(e-r,n):t}function fl(t,e,n){t=Au(t),e=wu(e);var r=e?J(t):0;return e&&r<e?no(e-r,n)+t:t}function hl(t,e,n){return n||null==e?e=0:e&&(e=+e),qc(Au(t).replace(Ie,\"\"),e||0)}function dl(t,e,n){return e=(n?Do(t,e,n):e===it)?1:wu(e),ei(Au(t),e)}function pl(){var t=arguments,e=Au(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ml(t,e,n){return n&&\"number\"!=typeof n&&Do(t,e,n)&&(e=n=it),(n=n===it?Dt:n>>>0)?(t=Au(t),t&&(\"string\"==typeof e||null!=e&&!wh(e))&&!(e=di(e))&&V(t)?Mi(tt(t),0,n):t.split(e,n)):[]}function vl(t,e,n){return t=Au(t),n=null==n?0:nr(wu(n),0,t.length),e=di(e),t.slice(n,n+e.length)==e}function gl(t,e,r){var i=n.templateSettings;r&&Do(t,e,r)&&(e=it),t=Au(t),e=Ch({},e,i,co);var o,a,s=Ch({},e.imports,i.imports,co),u=Bu(s),l=D(s,u),c=0,f=e.interpolate||Ke,h=\"__p += '\",d=uc((e.escape||Ke).source+\"|\"+f.source+\"|\"+(f===Ae?He:Ke).source+\"|\"+(e.evaluate||Ke).source+\"|$\",\"g\"),p=\"//# sourceURL=\"+(\"sourceURL\"in e?e.sourceURL:\"lodash.templateSources[\"+ ++wn+\"]\")+\"\\n\";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(c,u).replace($e,j),n&&(o=!0,h+=\"' +\\n__e(\"+n+\") +\\n'\"),s&&(a=!0,h+=\"';\\n\"+s+\";\\n__p += '\"),r&&(h+=\"' +\\n((__t = (\"+r+\")) == null ? '' : __t) +\\n'\"),c=u+e.length,e}),h+=\"';\\n\";var m=e.variable;m||(h=\"with (obj) {\\n\"+h+\"\\n}\\n\"),h=(a?h.replace(ye,\"\"):h).replace(be,\"$1\").replace(xe,\"$1;\"),h=\"function(\"+(m||\"obj\")+\") {\\n\"+(m?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(o?\", __e = _.escape\":\"\")+(a?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+h+\"return __p\\n}\";var v=$h(function(){return oc(u,p+\"return \"+h).apply(it,l)});if(v.source=h,Js(v))throw v;return v}function yl(t){return Au(t).toLowerCase()}function bl(t){return Au(t).toUpperCase()}function xl(t,e,n){if((t=Au(t))&&(n||e===it))return t.replace(Ne,\"\");if(!t||!(e=di(e)))return t;var r=tt(t),i=tt(e);return Mi(r,z(r,i),F(r,i)+1).join(\"\")}function _l(t,e,n){if((t=Au(t))&&(n||e===it))return t.replace(De,\"\");if(!t||!(e=di(e)))return t;var r=tt(t);return Mi(r,0,F(r,tt(e))+1).join(\"\")}function wl(t,e,n){if((t=Au(t))&&(n||e===it))return t.replace(Ie,\"\");if(!t||!(e=di(e)))return t;var r=tt(t);return Mi(r,z(r,tt(e))).join(\"\")}function El(t,e){var n=St,r=At;if(iu(e)){var i=\"separator\"in e?e.separator:i;n=\"length\"in e?wu(e.length):n,r=\"omission\"in e?di(e.omission):r}t=Au(t);var o=t.length;if(V(t)){var a=tt(t);o=a.length}if(n>=o)return t;var s=n-J(r);if(s<1)return r;var u=a?Mi(a,0,s).join(\"\"):t.slice(0,s);if(i===it)return u+r;if(a&&(s+=u.length-s),wh(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=uc(i.source,Au(Ve.exec(i))+\"g\")),i.lastIndex=0;l=i.exec(c);)var f=l.index;u=u.slice(0,f===it?s:f)}}else if(t.indexOf(di(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function Ml(t){return t=Au(t),t&&Ee.test(t)?t.replace(_e,qn):t}function Tl(t,e,n){return t=Au(t),e=n?it:e,e===it?G(t)?rt(t):_(t):t.match(e)||[]}function Sl(t){var e=null==t?0:t.length,n=wo();return t=e?m(t,function(t){if(\"function\"!=typeof t[1])throw new cc(st);return[n(t[0]),t[1]]}):[],ni(function(n){for(var r=-1;++r<e;){var i=t[r];if(s(i[0],this,n))return s(i[1],this,n)}})}function Al(t){return ir(rr(t,ft))}function Pl(t){return function(){return t}}function Cl(t,e){return null==t||t!==t?e:t}function Rl(t){return t}function Ol(t){return Ur(\"function\"==typeof t?t:rr(t,ft))}function Ll(t){return Hr(rr(t,ft))}function kl(t,e){return Vr(t,rr(e,ft))}function Nl(t,e,n){var r=Bu(e),i=mr(e,r);null!=n||iu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=mr(e,Bu(e)));var o=!(iu(n)&&\"chain\"in n&&!n.chain),a=eu(t);return l(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ui(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,v([this.value()],arguments))})}),t}function Il(){return kn._===this&&(kn._=_c),this}function Dl(){}function Ul(t){return t=wu(t),ni(function(e){return Yr(e,t)})}function zl(t){return Uo(t)?P(Jo(t)):Kr(t)}function Fl(t){return function(e){return null==t?it:vr(t,e)}}function Bl(){return[]}function jl(){return!1}function Hl(){return{}}function Vl(){return\"\"}function Gl(){return!0}function Wl(t,e){if((t=wu(t))<1||t>kt)return[];var n=Dt,r=Yc(t,Dt);e=wo(e),t-=Dt;for(var i=k(r,e);++n<t;)e(n);return i}function Yl(t){return gh(t)?m(t,Jo):vu(t)?[t]:Ui(Lf(Au(t)))}function Xl(t){var e=++gc;return Au(t)+e}function ql(t){return t&&t.length?lr(t,Rl,br):it}function Zl(t,e){return t&&t.length?lr(t,wo(e,2),br):it}function Kl(t){return A(t,Rl)}function $l(t,e){return A(t,wo(e,2))}function Ql(t){return t&&t.length?lr(t,Rl,Br):it}function Jl(t,e){return t&&t.length?lr(t,wo(e,2),Br):it}function tc(t){return t&&t.length?L(t,Rl):0}function ec(t,e){return t&&t.length?L(t,wo(e,2)):0}e=null==e?kn:Zn.defaults(kn.Object(),e,Zn.pick(kn,_n));var nc=e.Array,rc=e.Date,ic=e.Error,oc=e.Function,ac=e.Math,sc=e.Object,uc=e.RegExp,lc=e.String,cc=e.TypeError,fc=nc.prototype,hc=oc.prototype,dc=sc.prototype,pc=e[\"__core-js_shared__\"],mc=hc.toString,vc=dc.hasOwnProperty,gc=0,yc=function(){var t=/[^.]+$/.exec(pc&&pc.keys&&pc.keys.IE_PROTO||\"\");return t?\"Symbol(src)_1.\"+t:\"\"}(),bc=dc.toString,xc=mc.call(sc),_c=kn._,wc=uc(\"^\"+mc.call(vc).replace(Le,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),Ec=Dn?e.Buffer:it,Mc=e.Symbol,Tc=e.Uint8Array,Sc=Ec?Ec.allocUnsafe:it,Ac=X(sc.getPrototypeOf,sc),Pc=sc.create,Cc=dc.propertyIsEnumerable,Rc=fc.splice,Oc=Mc?Mc.isConcatSpreadable:it,Lc=Mc?Mc.iterator:it,kc=Mc?Mc.toStringTag:it,Nc=function(){try{var t=To(sc,\"defineProperty\");return t({},\"\",{}),t}catch(t){}}(),Ic=e.clearTimeout!==kn.clearTimeout&&e.clearTimeout,Dc=rc&&rc.now!==kn.Date.now&&rc.now,Uc=e.setTimeout!==kn.setTimeout&&e.setTimeout,zc=ac.ceil,Fc=ac.floor,Bc=sc.getOwnPropertySymbols,jc=Ec?Ec.isBuffer:it,Hc=e.isFinite,Vc=fc.join,Gc=X(sc.keys,sc),Wc=ac.max,Yc=ac.min,Xc=rc.now,qc=e.parseInt,Zc=ac.random,Kc=fc.reverse,$c=To(e,\"DataView\"),Qc=To(e,\"Map\"),Jc=To(e,\"Promise\"),tf=To(e,\"Set\"),ef=To(e,\"WeakMap\"),nf=To(sc,\"create\"),rf=ef&&new ef,of={},af=ta($c),sf=ta(Qc),uf=ta(Jc),lf=ta(tf),cf=ta(ef),ff=Mc?Mc.prototype:it,hf=ff?ff.valueOf:it,df=ff?ff.toString:it,pf=function(){function t(){}return function(e){if(!iu(e))return{};if(Pc)return Pc(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:Te,evaluate:Se,interpolate:Ae,variable:\"\",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=pf(r.prototype),i.prototype.constructor=i,x.prototype=pf(r.prototype),x.prototype.constructor=x,nt.prototype.clear=Be,nt.prototype.delete=Qe,nt.prototype.get=Je,nt.prototype.has=tn,nt.prototype.set=en,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=un,ln.prototype.clear=cn,ln.prototype.delete=fn,ln.prototype.get=hn,ln.prototype.has=dn,ln.prototype.set=pn,gn.prototype.add=gn.prototype.push=yn,gn.prototype.has=bn,xn.prototype.clear=Tn,xn.prototype.delete=Sn,xn.prototype.get=An,xn.prototype.has=Pn,xn.prototype.set=On;var mf=Vi(dr),vf=Vi(pr,!0),gf=Gi(),yf=Gi(!0),bf=rf?function(t,e){return rf.set(t,e),t}:Rl,xf=Nc?function(t,e){return Nc(t,\"toString\",{configurable:!0,enumerable:!1,value:Pl(e),writable:!0})}:Rl,_f=ni,wf=Ic||function(t){return kn.clearTimeout(t)},Ef=tf&&1/Z(new tf([,-0]))[1]==Lt?function(t){return new tf(t)}:Dl,Mf=rf?function(t){return rf.get(t)}:Dl,Tf=Bc?function(t){return null==t?[]:(t=sc(t),h(Bc(t),function(e){return Cc.call(t,e)}))}:Bl,Sf=Bc?function(t){for(var e=[];t;)v(e,Tf(t)),t=Ac(t);return e}:Bl,Af=yr;($c&&Af(new $c(new ArrayBuffer(1)))!=ue||Qc&&Af(new Qc)!=Zt||Jc&&\"[object Promise]\"!=Af(Jc.resolve())||tf&&Af(new tf)!=ee||ef&&Af(new ef)!=oe)&&(Af=function(t){var e=yr(t),n=e==Qt?t.constructor:it,r=n?ta(n):\"\";if(r)switch(r){case af:return ue;case sf:return Zt;case uf:return\"[object Promise]\";case lf:return ee;case cf:return oe}return e});var Pf=pc?eu:jl,Cf=$o(bf),Rf=Uc||function(t,e){return kn.setTimeout(t,e)},Of=$o(xf),Lf=function(t){var e=Os(t,function(t){return n.size===lt&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Re.test(t)&&e.push(\"\"),t.replace(Oe,function(t,n,r,i){e.push(r?i.replace(je,\"$1\"):n||t)}),e}),kf=ni(function(t,e){return Xs(t)?sr(t,hr(e,1,Xs,!0)):[]}),Nf=ni(function(t,e){var n=_a(e);return Xs(n)&&(n=it),Xs(t)?sr(t,hr(e,1,Xs,!0),wo(n,2)):[]}),If=ni(function(t,e){var n=_a(e);return Xs(n)&&(n=it),Xs(t)?sr(t,hr(e,1,Xs,!0),it,n):[]}),Df=ni(function(t){var e=m(t,_i);return e.length&&e[0]===t[0]?Er(e):[]}),Uf=ni(function(t){var e=_a(t),n=m(t,_i);return e===_a(n)?e=it:n.pop(),n.length&&n[0]===t[0]?Er(n,wo(e,2)):[]}),zf=ni(function(t){var e=_a(t),n=m(t,_i);return e=\"function\"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?Er(n,it,e):[]}),Ff=ni(Ma),Bf=go(function(t,e){var n=null==t?0:t.length,r=er(t,e);return Qr(t,m(e,function(t){return Io(t,n)?+t:t}).sort(ki)),r}),jf=ni(function(t){return pi(hr(t,1,Xs,!0))}),Hf=ni(function(t){var e=_a(t);return Xs(e)&&(e=it),pi(hr(t,1,Xs,!0),wo(e,2))}),Vf=ni(function(t){var e=_a(t);return e=\"function\"==typeof e?e:it,pi(hr(t,1,Xs,!0),it,e)}),Gf=ni(function(t,e){return Xs(t)?sr(t,e):[]}),Wf=ni(function(t){return bi(h(t,Xs))}),Yf=ni(function(t){var e=_a(t);return Xs(e)&&(e=it),bi(h(t,Xs),wo(e,2))}),Xf=ni(function(t){var e=_a(t);return e=\"function\"==typeof e?e:it,bi(h(t,Xs),it,e)}),qf=ni(Ya),Zf=ni(function(t){var e=t.length,n=e>1?t[e-1]:it;return n=\"function\"==typeof n?(t.pop(),n):it,Xa(t,n)}),Kf=go(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return er(e,t)};return!(e>1||this.__actions__.length)&&r instanceof x&&Io(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Qa,args:[o],thisArg:it}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(o)}),$f=ji(function(t,e,n){vc.call(t,n)?++t[n]:tr(t,n,1)}),Qf=Ki(fa),Jf=Ki(ha),th=ji(function(t,e,n){vc.call(t,n)?t[n].push(e):tr(t,n,[e])}),eh=ni(function(t,e,n){var r=-1,i=\"function\"==typeof e,o=Ys(t)?nc(t.length):[];return mf(t,function(t){o[++r]=i?s(e,t,n):Tr(t,e,n)}),o}),nh=ji(function(t,e,n){tr(t,n,e)}),rh=ji(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ih=ni(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Do(t,e[0],e[1])?e=[]:n>2&&Do(e[0],e[1],e[2])&&(e=[e[0]]),Xr(t,hr(e,1),[])}),oh=Dc||function(){return kn.Date.now()},ah=ni(function(t,e,n){var r=vt;if(n.length){var i=q(n,_o(ah));r|=_t}return lo(t,r,e,n,i)}),sh=ni(function(t,e,n){var r=vt|gt;if(n.length){var i=q(n,_o(sh));r|=_t}return lo(e,r,t,n,i)}),uh=ni(function(t,e){return ar(t,1,e)}),lh=ni(function(t,e,n){return ar(t,Mu(e)||0,n)});Os.Cache=ln;var ch=_f(function(t,e){e=1==e.length&&gh(e[0])?m(e[0],I(wo())):m(hr(e,1),I(wo()));var n=e.length;return ni(function(r){for(var i=-1,o=Yc(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return s(t,this,r)})}),fh=ni(function(t,e){var n=q(e,_o(fh));return lo(t,_t,it,e,n)}),hh=ni(function(t,e){var n=q(e,_o(hh));return lo(t,wt,it,e,n)}),dh=go(function(t,e){return lo(t,Mt,it,it,it,e)}),ph=oo(br),mh=oo(function(t,e){return t>=e}),vh=Sr(function(){return arguments}())?Sr:function(t){return ou(t)&&vc.call(t,\"callee\")&&!Cc.call(t,\"callee\")},gh=nc.isArray,yh=Fn?I(Fn):Ar,bh=jc||jl,xh=Bn?I(Bn):Pr,_h=jn?I(jn):Or,wh=Hn?I(Hn):Nr,Eh=Vn?I(Vn):Ir,Mh=Gn?I(Gn):Dr,Th=oo(Br),Sh=oo(function(t,e){return t<=e}),Ah=Hi(function(t,e){if(jo(e)||Ys(e))return void zi(e,Bu(e),t);for(var n in e)vc.call(e,n)&&Wn(t,n,e[n])}),Ph=Hi(function(t,e){zi(e,ju(e),t)}),Ch=Hi(function(t,e,n,r){zi(e,ju(e),t,r)}),Rh=Hi(function(t,e,n,r){zi(e,Bu(e),t,r)}),Oh=go(er),Lh=ni(function(t){return t.push(it,co),s(Ch,it,t)}),kh=ni(function(t){return t.push(it,fo),s(zh,it,t)}),Nh=Ji(function(t,e,n){t[e]=n},Pl(Rl)),Ih=Ji(function(t,e,n){vc.call(t,e)?t[e].push(n):t[e]=[n]},wo),Dh=ni(Tr),Uh=Hi(function(t,e,n){Gr(t,e,n)}),zh=Hi(function(t,e,n,r){Gr(t,e,n,r)}),Fh=go(function(t,e){var n={};if(null==t)return n;var r=!1;e=m(e,function(e){return e=Ei(e,t),r||(r=e.length>1),e}),zi(t,bo(t),n),r&&(n=rr(n,ft|ht|dt,ho));for(var i=e.length;i--;)mi(n,e[i]);return n}),Bh=go(function(t,e){return null==t?{}:qr(t,e)}),jh=uo(Bu),Hh=uo(ju),Vh=Xi(function(t,e,n){return e=e.toLowerCase(),t+(n?il(e):e)}),Gh=Xi(function(t,e,n){return t+(n?\"-\":\"\")+e.toLowerCase()}),Wh=Xi(function(t,e,n){return t+(n?\" \":\"\")+e.toLowerCase()}),Yh=Yi(\"toLowerCase\"),Xh=Xi(function(t,e,n){return t+(n?\"_\":\"\")+e.toLowerCase()}),qh=Xi(function(t,e,n){return t+(n?\" \":\"\")+Kh(e)}),Zh=Xi(function(t,e,n){return t+(n?\" \":\"\")+e.toUpperCase()}),Kh=Yi(\"toUpperCase\"),$h=ni(function(t,e){try{return s(t,it,e)}catch(t){return Js(t)?t:new ic(t)}}),Qh=go(function(t,e){return l(e,function(e){e=Jo(e),tr(t,e,ah(t[e],t))}),t}),Jh=$i(),td=$i(!0),ed=ni(function(t,e){return function(n){return Tr(n,t,e)}}),nd=ni(function(t,e){return function(n){return Tr(t,n,e)}}),rd=eo(m),id=eo(f),od=eo(b),ad=io(),sd=io(!0),ud=to(function(t,e){return t+e},0),ld=so(\"ceil\"),cd=to(function(t,e){return t/e},1),fd=so(\"floor\"),hd=to(function(t,e){return t*e},1),dd=so(\"round\"),pd=to(function(t,e){return t-e},0);return n.after=Ms,n.ary=Ts,n.assign=Ah,n.assignIn=Ph,n.assignInWith=Ch,n.assignWith=Rh,n.at=Oh,n.before=Ss,n.bind=ah,n.bindAll=Qh,n.bindKey=sh,n.castArray=Fs,n.chain=Ka,n.chunk=ra,n.compact=ia,n.concat=oa,n.cond=Sl,n.conforms=Al,n.constant=Pl,n.countBy=$f,n.create=Pu,n.curry=As,n.curryRight=Ps,n.debounce=Cs,n.defaults=Lh,n.defaultsDeep=kh,n.defer=uh,n.delay=lh,n.difference=kf,n.differenceBy=Nf,n.differenceWith=If,n.drop=aa,n.dropRight=sa,n.dropRightWhile=ua,n.dropWhile=la,n.fill=ca,n.filter=ss,n.flatMap=us,n.flatMapDeep=ls,n.flatMapDepth=cs,n.flatten=da,n.flattenDeep=pa,n.flattenDepth=ma,n.flip=Rs,n.flow=Jh,n.flowRight=td,n.fromPairs=va,n.functions=Iu,n.functionsIn=Du,n.groupBy=th,n.initial=ba,n.intersection=Df,n.intersectionBy=Uf,n.intersectionWith=zf,n.invert=Nh,n.invertBy=Ih,n.invokeMap=eh,n.iteratee=Ol,n.keyBy=nh,n.keys=Bu,n.keysIn=ju,n.map=ps,n.mapKeys=Hu,n.mapValues=Vu,n.matches=Ll,n.matchesProperty=kl,n.memoize=Os,n.merge=Uh,n.mergeWith=zh,n.method=ed,n.methodOf=nd,n.mixin=Nl,n.negate=Ls,n.nthArg=Ul,n.omit=Fh,n.omitBy=Gu,n.once=ks,n.orderBy=ms,n.over=rd,n.overArgs=ch,n.overEvery=id,n.overSome=od,n.partial=fh,n.partialRight=hh,n.partition=rh,n.pick=Bh,n.pickBy=Wu,n.property=zl,n.propertyOf=Fl,n.pull=Ff,n.pullAll=Ma,n.pullAllBy=Ta,n.pullAllWith=Sa,n.pullAt=Bf,n.range=ad,n.rangeRight=sd,n.rearg=dh,n.reject=ys,n.remove=Aa,n.rest=Ns,n.reverse=Pa,n.sampleSize=xs,n.set=Xu,n.setWith=qu,n.shuffle=_s,n.slice=Ca,n.sortBy=ih,n.sortedUniq=Da,n.sortedUniqBy=Ua,n.split=ml,n.spread=Is,n.tail=za,n.take=Fa,n.takeRight=Ba,n.takeRightWhile=ja,n.takeWhile=Ha,n.tap=$a,n.throttle=Ds,n.thru=Qa,n.toArray=xu,n.toPairs=jh,n.toPairsIn=Hh,n.toPath=Yl,n.toPlainObject=Tu,n.transform=Zu,n.unary=Us,n.union=jf,n.unionBy=Hf,n.unionWith=Vf,n.uniq=Va,n.uniqBy=Ga,n.uniqWith=Wa,n.unset=Ku,n.unzip=Ya,n.unzipWith=Xa,n.update=$u,n.updateWith=Qu,n.values=Ju,n.valuesIn=tl,n.without=Gf,n.words=Tl,n.wrap=zs,n.xor=Wf,n.xorBy=Yf,n.xorWith=Xf,n.zip=qf,n.zipObject=qa,n.zipObjectDeep=Za,n.zipWith=Zf,n.entries=jh,n.entriesIn=Hh,n.extend=Ph,n.extendWith=Ch,Nl(n,n),n.add=ud,n.attempt=$h,n.camelCase=Vh,n.capitalize=il,n.ceil=ld,n.clamp=el,n.clone=Bs,n.cloneDeep=Hs,n.cloneDeepWith=Vs,n.cloneWith=js,n.conformsTo=Gs,n.deburr=ol,n.defaultTo=Cl,n.divide=cd,n.endsWith=al,n.eq=Ws,n.escape=sl,n.escapeRegExp=ul,n.every=as,n.find=Qf,n.findIndex=fa,n.findKey=Cu,n.findLast=Jf,n.findLastIndex=ha,n.findLastKey=Ru,n.floor=fd,n.forEach=fs,n.forEachRight=hs,n.forIn=Ou,n.forInRight=Lu,n.forOwn=ku,n.forOwnRight=Nu,n.get=Uu,n.gt=ph,n.gte=mh,n.has=zu,n.hasIn=Fu,n.head=ga,n.identity=Rl,n.includes=ds,n.indexOf=ya,n.inRange=nl,n.invoke=Dh,n.isArguments=vh,n.isArray=gh,n.isArrayBuffer=yh,n.isArrayLike=Ys,n.isArrayLikeObject=Xs,n.isBoolean=qs,n.isBuffer=bh,n.isDate=xh,n.isElement=Zs,n.isEmpty=Ks,n.isEqual=$s,n.isEqualWith=Qs,n.isError=Js,n.isFinite=tu,n.isFunction=eu,n.isInteger=nu,n.isLength=ru,n.isMap=_h,n.isMatch=au,n.isMatchWith=su,n.isNaN=uu,n.isNative=lu,n.isNil=fu,n.isNull=cu,n.isNumber=hu,n.isObject=iu,n.isObjectLike=ou,n.isPlainObject=du,n.isRegExp=wh,n.isSafeInteger=pu,n.isSet=Eh,n.isString=mu,n.isSymbol=vu,n.isTypedArray=Mh,n.isUndefined=gu,n.isWeakMap=yu,n.isWeakSet=bu,n.join=xa,n.kebabCase=Gh,n.last=_a,n.lastIndexOf=wa,n.lowerCase=Wh,n.lowerFirst=Yh,n.lt=Th,n.lte=Sh,n.max=ql,n.maxBy=Zl,n.mean=Kl,n.meanBy=$l,n.min=Ql,n.minBy=Jl,n.stubArray=Bl,n.stubFalse=jl,n.stubObject=Hl,n.stubString=Vl,n.stubTrue=Gl,n.multiply=hd,n.nth=Ea,n.noConflict=Il,n.noop=Dl,n.now=oh,n.pad=ll,n.padEnd=cl,n.padStart=fl,n.parseInt=hl,n.random=rl,n.reduce=vs,n.reduceRight=gs,n.repeat=dl,n.replace=pl,n.result=Yu,n.round=dd,n.runInContext=t,n.sample=bs,n.size=ws,n.snakeCase=Xh,n.some=Es,n.sortedIndex=Ra,n.sortedIndexBy=Oa,n.sortedIndexOf=La,n.sortedLastIndex=ka,n.sortedLastIndexBy=Na,n.sortedLastIndexOf=Ia,n.startCase=qh,n.startsWith=vl,n.subtract=pd,n.sum=tc,n.sumBy=ec,n.template=gl,n.times=Wl,n.toFinite=_u,n.toInteger=wu,n.toLength=Eu,n.toLower=yl,n.toNumber=Mu,n.toSafeInteger=Su,n.toString=Au,n.toUpper=bl,n.trim=xl,n.trimEnd=_l,n.trimStart=wl,n.truncate=El,n.unescape=Ml,n.uniqueId=Xl,n.upperCase=Zh,n.upperFirst=Kh,n.each=fs,n.eachRight=hs,n.first=ga,Nl(n,function(){var t={};return dr(n,function(e,r){vc.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=\"4.17.4\",l([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],function(t){n[t].placeholder=n}),l([\"drop\",\"take\"],function(t,e){x.prototype[t]=function(n){n=n===it?1:Wc(wu(n),0);var r=this.__filtered__&&!e?new x(this):this.clone();return r.__filtered__?r.__takeCount__=Yc(n,r.__takeCount__):r.__views__.push({size:Yc(n,Dt),type:t+(r.__dir__<0?\"Right\":\"\")}),r},x.prototype[t+\"Right\"]=function(e){return this.reverse()[t](e).reverse()}}),l([\"filter\",\"map\",\"takeWhile\"],function(t,e){var n=e+1,r=n==Rt||3==n;x.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:wo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),l([\"head\",\"last\"],function(t,e){var n=\"take\"+(e?\"Right\":\"\");x.prototype[t]=function(){return this[n](1).value()[0]}}),l([\"initial\",\"tail\"],function(t,e){var n=\"drop\"+(e?\"\":\"Right\");x.prototype[t]=function(){return this.__filtered__?new x(this):this[n](1)}}),x.prototype.compact=function(){return this.filter(Rl)},x.prototype.find=function(t){return this.filter(t).head()},x.prototype.findLast=function(t){return this.reverse().find(t)},x.prototype.invokeMap=ni(function(t,e){return\"function\"==typeof t?new x(this):this.map(function(n){return Tr(n,t,e)})}),x.prototype.reject=function(t){return this.filter(Ls(wo(t)))},x.prototype.slice=function(t,e){t=wu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new x(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=wu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},x.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},x.prototype.toArray=function(){return this.take(Dt)},dr(x.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?\"take\"+(\"last\"==e?\"Right\":\"\"):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,l=e instanceof x,c=u[0],f=l||gh(e),h=function(t){var e=a.apply(n,v([t],u));return o&&d?e[0]:e};f&&r&&\"function\"==typeof c&&1!=c.length&&(l=f=!1);var d=this.__chain__,p=!!this.__actions__.length,m=s&&!d,g=l&&!p;if(!s&&f){e=g?e:new x(this);var y=t.apply(e,u);return y.__actions__.push({func:Qa,args:[h],thisArg:it}),new i(y,d)}return m&&g?t.apply(this,u):(y=this.thru(h),m?o?y.value()[0]:y.value():y)})}),l([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(t){var e=fc[t],r=/^(?:push|sort|unshift)$/.test(t)?\"tap\":\"thru\",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(gh(n)?n:[],t)}return this[r](function(n){return e.apply(gh(n)?n:[],t)})}}),dr(x.prototype,function(t,e){var r=n[e];if(r){var i=r.name+\"\";(of[i]||(of[i]=[])).push({name:e,func:r})}}),of[Qi(it,gt).name]=[{name:\"wrapper\",func:it}],x.prototype.clone=C,x.prototype.reverse=$,x.prototype.value=et,n.prototype.at=Kf,n.prototype.chain=Ja,n.prototype.commit=ts,n.prototype.next=es,n.prototype.plant=rs,n.prototype.reverse=is,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=os,n.prototype.first=n.prototype.head,Lc&&(n.prototype[Lc]=ns),n}();kn._=Zn,(i=function(){return Zn}.call(e,n,e,r))!==it&&(r.exports=i)}).call(this)}).call(e,n(45),n(247)(t))},function(t,e,n){var r=n(174);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(85),i=n(50);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(37);t.exports=function(t){return Object(r(t))}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=n(287),f=(r(c),n(242)),h=r(f),d=n(19),p=r(d),m=n(126),v=r(m),g=n(125),y=r(g),b=n(128),x=(r(b),n(134)),_=r(x),w=n(129),E=r(w),M=n(135),T=r(M),S=n(70),A=r(S),P=n(127),C=r(P),R=n(130),O=r(R),L=n(131),k=r(L),N=n(132),I=r(N),D=(n(28),function(){function t(){(0,o.default)(this,t);var e=!this.isMobileDevice();this.coordinates=new v.default,this.renderer=new l.WebGLRenderer({antialias:e}),this.scene=new l.Scene,this.scene.background=new l.Color(1316634),this.dimension={width:0,height:0},this.ground=(p.default.ground.type,new _.default),this.map=new E.default,this.adc=new y.default,this.adcMeshAddedToScene=!1,this.planningTrajectory=new T.default,this.perceptionObstacles=new A.default,this.decision=new C.default,this.prediction=new O.default,this.routing=new k.default,this.routingEditor=new I.default,this.stats=null,p.default.debug.performanceMonitor&&(this.stats=new h.default,this.stats.showPanel(1),this.stats.domElement.style.position=\"absolute\",this.stats.domElement.style.top=null,this.stats.domElement.style.bottom=\"0px\",document.body.appendChild(this.stats.domElement)),this.geolocation={x:0,y:0}}return(0,s.default)(t,[{key:\"initialize\",value:function(t,e,n,r){this.options=r,this.canvasId=t,this.viewAngle=p.default.camera.viewAngle,this.viewDistance=p.default.camera.laneWidth*p.default.camera.laneWidthToViewDistanceRatio,this.camera=new l.PerspectiveCamera(p.default.camera[this.options.cameraAngle].fov,window.innerWidth/window.innerHeight,p.default.camera[this.options.cameraAngle].near,p.default.camera[this.options.cameraAngle].far),this.camera.name=\"camera\",this.scene.add(this.camera),this.updateDimension(e,n),this.renderer.setPixelRatio(window.devicePixelRatio),document.getElementById(t).appendChild(this.renderer.domElement);var i=new l.AmbientLight(4473924),o=new l.DirectionalLight(16772829);o.position.set(0,0,1).normalize(),this.controls=new l.OrbitControls(this.camera,this.renderer.domElement),this.controls.enable=!1,this.onMouseDownHandler=this.editRoute.bind(this),this.scene.add(i),this.scene.add(o),this.animate()}},{key:\"maybeInitializeOffest\",value:function(t,e){this.coordinates.isInitialized()||this.coordinates.initialize(t,e)}},{key:\"updateDimension\",value:function(t,e){this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,e),this.dimension.width=t,this.dimension.height=e}},{key:\"enableOrbitControls\",value:function(){var t=this.adc.mesh.position;this.controls.enabled=!0,this.controls.enableRotate=!1,this.controls.reset(),this.controls.minDistance=20,this.controls.maxDistance=1e3,this.controls.target.set(t.x,t.y,0),this.camera.position.set(t.x,t.y,50),this.camera.up.set(0,1,0),this.camera.lookAt(t.x,t.y,0)}},{key:\"adjustCamera\",value:function(t,e){if(!this.routingEditor.isInEditingMode()){switch(this.camera.fov=p.default.camera[e].fov,this.camera.near=p.default.camera[e].near,this.camera.far=p.default.camera[e].far,e){case\"Default\":var n=this.viewDistance*Math.cos(t.rotation.y)*Math.cos(this.viewAngle),r=this.viewDistance*Math.sin(t.rotation.y)*Math.cos(this.viewAngle),i=this.viewDistance*Math.sin(this.viewAngle);this.camera.position.x=t.position.x-n,this.camera.position.y=t.position.y-r,this.camera.position.z=t.position.z+i,this.camera.up.set(0,0,1),this.camera.lookAt({x:t.position.x+2*n,y:t.position.y+2*r,z:0}),this.controls.enabled=!1;break;case\"Near\":n=.5*this.viewDistance*Math.cos(t.rotation.y)*Math.cos(this.viewAngle),r=.5*this.viewDistance*Math.sin(t.rotation.y)*Math.cos(this.viewAngle),i=.5*this.viewDistance*Math.sin(this.viewAngle),this.camera.position.x=t.position.x-n,this.camera.position.y=t.position.y-r,this.camera.position.z=t.position.z+i,this.camera.up.set(0,0,1),this.camera.lookAt({x:t.position.x+2*n,y:t.position.y+2*r,z:0}),this.controls.enabled=!1;break;case\"Overhead\":r=.5*this.viewDistance*Math.sin(t.rotation.y)*Math.cos(this.viewAngle),i=2*this.viewDistance*Math.sin(this.viewAngle),this.camera.position.x=t.position.x,this.camera.position.y=t.position.y+r,this.camera.position.z=2*(t.position.z+i),this.camera.up.set(0,1,0),this.camera.lookAt({x:t.position.x,y:t.position.y+r,z:0}),this.controls.enabled=!1;break;case\"Monitor\":this.camera.position.set(t.position.x,t.position.y,50),this.camera.up.set(0,1,0),this.camera.lookAt(t.position.x,t.position.y,0),this.controls.enabled=!1;break;case\"Map\":this.controls.enabled||this.enableOrbitControls()}this.camera.updateProjectionMatrix()}}},{key:\"enableRouteEditing\",value:function(){this.enableOrbitControls(),this.routingEditor.enableEditingMode(this.camera,this.adc),document.getElementById(this.canvasId).addEventListener(\"mousedown\",this.onMouseDownHandler,!1)}},{key:\"disableRouteEditing\",value:function(){this.routingEditor.disableEditingMode(this.scene),document.getElementById(this.canvasId).removeEventListener(\"mousedown\",this.onMouseDownHandler,!1)}},{key:\"addDefaultEndPoint\",value:function(t){this.routingEditor.isInEditingMode()||this.routingEditor.addRoutingPoint(this.coordinates.applyOffset(this.adc.mesh.position,!0),this.coordinates,this.scene);for(var e=0;e<t.length;e++)this.routingEditor.addRoutingPoint(t[e],this.coordinates,this.scene)}},{key:\"removeAllRoutingPoints\",value:function(){this.routingEditor.removeAllRoutePoints(this.scene)}},{key:\"removeLastRoutingPoint\",value:function(){this.routingEditor.removeLastRoutingPoint(this.scene)}},{key:\"sendRoutingRequest\",value:function(){return this.routingEditor.sendRoutingRequest(this.adc.mesh.position,this.coordinates)}},{key:\"editRoute\",value:function(t){if(this.routingEditor.isInEditingMode()&&t.button===l.MOUSE.LEFT&&this.coordinates.isInitialized()&&this.ground.mesh){var e=this.getGeolocation(t);this.routingEditor.addRoutingPoint(e,this.coordinates,this.scene)}}},{key:\"render\",value:function(){this.coordinates.isInitialized()&&this.adc.mesh&&this.ground.mesh&&(this.adcMeshAddedToScene||(this.adcMeshAddedToScene=!0,this.adc.mesh.name=\"adc\",this.scene.add(this.adc.mesh)),\"default\"!==this.ground.type||this.ground.initialized||(this.ground.initialize(this.coordinates),this.ground.mesh.name=\"ground\",this.scene.add(this.ground.mesh)),this.adjustCamera(this.adc.mesh,this.options.cameraAngle),this.renderer.render(this.scene,this.camera))}},{key:\"animate\",value:function(){var t=this;requestAnimationFrame(function(){t.animate()}),this.stats&&this.stats.update(),this.render()}},{key:\"updateWorld\",value:function(t,e){this.adc.update(t,this.coordinates),this.ground.update(t,this.coordinates,this.scene),this.planningTrajectory.update(t,e,this.coordinates,this.scene),this.perceptionObstacles.update(t,this.coordinates,this.scene),this.decision.update(t,this.coordinates,this.scene),this.prediction.update(t,this.coordinates,this.scene),this.routing.update(t,this.coordinates,this.scene)}},{key:\"updateGroundMetadata\",value:function(t,e){this.ground.initialize(t,e)}},{key:\"updateMap\",value:function(t){this.map.appendMapData(t,this.coordinates,this.scene)}},{key:\"updateMapIndex\",value:function(t,e,n){this.routingEditor.isInEditingMode()&&this.routingEditor.EDITING_MAP_RADIUS!==n||this.map.updateIndex(t,e,this.scene)}},{key:\"isMobileDevice\",value:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)}},{key:\"getGeolocation\",value:function(t){if(this.coordinates.isInitialized()){var e=t.currentTarget.getBoundingClientRect(),n=new l.Vector3((t.clientX-e.left)/this.dimension.width*2-1,-(t.clientY-e.top)/this.dimension.height*2+1,0);n.unproject(this.camera);var r=n.sub(this.camera.position).normalize(),i=-this.camera.position.z/r.z,o=this.camera.position.clone().add(r.multiplyScalar(i));return this.coordinates.applyOffset(o,!0)}}}]),t}()),U=new D;e.default=U},function(t,e,n){t.exports={default:n(169),__esModule:!0}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){function i(t){if(r){var e=t.clone();r(e)}}h[e]?i(h[e]):c.load(t,function(t){var r=new s.OBJLoader;t.preload(),r.setMaterials(t),r.load(e,function(t){t.name=e,t.scale.set(n.x,n.y,n.z),h[e]=t,i(t)})})}function o(t,e){f.load(t,e)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.loadObject=i,e.loadTexture=o;var a=n(7),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),u=n(289),l=(r(u),n(288)),c=(r(l),new s.MTLLoader),f=new s.TextureLoader;s.TextureLoader.prototype.crossOrigin=\"\";var h={}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e,n){var r=n(21),i=n(191),o=n(50),a=n(59)(\"IE_PROTO\"),s=function(){},u=function(){var t,e=n(77)(\"iframe\"),r=o.length;for(e.style.display=\"none\",n(186).appendChild(e),e.src=\"javascript:\",t=e.contentWindow.document,t.open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(12).f,i=n(26),o=n(10)(\"toStringTag\");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(61),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+r).toString(36))}},function(t,e,n){\"use strict\";var r=n(195)(!0);n(53)(String,\"String\",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){\"use strict\";function r(t){return function(){return t}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\")}catch(t){\"object\"==typeof window&&(n=window)}t.exports=n},function(t,e,n){\"use strict\";function r(){if(\"undefined\"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(236)},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(73),o=r(i),a=n(157),s=r(a),u=n(2),l=r(u),c=n(90),f=r(c),h=function(t){var e=t.image,n=t.style,r=t.className,i=((0,s.default)(t,[\"image\",\"style\",\"className\"]),(0,o.default)({},n||{},{backgroundImage:\"url(\"+e+\")\",backgroundSize:\"cover\"})),a=r?r+\" dreamview-image\":\"dreamview-image\";return l.default.createElement(\"div\",{className:a,style:i})};h.propTypes={image:f.default.string.isRequired,style:f.default.object},e.default=h},function(t,e,n){t.exports={default:n(161),__esModule:!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,n){var r=n(29),i=n(81),o=n(79),a=n(21),s=n(41),u=n(65),l={},c={},e=t.exports=function(t,e,n,f,h){var d,p,m,v,g=h?function(){return t}:u(t),y=r(n,f,e?2:1),b=0;if(\"function\"!=typeof g)throw TypeError(t+\" is not iterable!\");if(o(g)){for(d=s(t.length);d>b;b++)if((v=e?y(a(p=t[b])[0],p[1]):y(t[b]))===l||v===c)return v}else for(m=g.call(t);!(p=m.next()).done;)if((v=i(m,y,p.value,e))===l||v===c)return v};e.BREAK=l,e.RETURN=c},function(t,e,n){var r=n(49);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==r(t)?t.split(\"\"):Object(t)}},function(t,e,n){\"use strict\";var r=n(54),i=n(11),o=n(87),a=n(22),s=n(26),u=n(34),l=n(187),c=n(40),f=n(84),h=n(10)(\"iterator\"),d=!([].keys&&\"next\"in[].keys()),p=function(){return this};t.exports=function(t,e,n,m,v,g,y){l(n,e,m);var b,x,_,w=function(t){if(!d&&t in S)return S[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+\" Iterator\",M=\"values\"==v,T=!1,S=t.prototype,A=S[h]||S[\"@@iterator\"]||v&&S[v],P=A||w(v),C=v?M?w(\"entries\"):P:void 0,R=\"Array\"==e?S.entries||A:A;if(R&&(_=f(R.call(new t)))!==Object.prototype&&(c(_,E,!0),r||s(_,h)||a(_,h,p)),M&&A&&\"values\"!==A.name&&(T=!0,P=function(){return A.call(this)}),r&&!y||!d&&!T&&S[h]||a(S,h,P),u[e]=P,u[E]=p,v)if(b={values:M?P:w(\"values\"),keys:g?P:w(\"keys\"),entries:C},y)for(x in b)x in S||o(S,x,b[x]);else i(i.P+i.F*(d||T),e,b);return b}},function(t,e){t.exports=!0},function(t,e,n){var r=n(42)(\"meta\"),i=n(27),o=n(26),a=n(12).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(25)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:\"O\"+ ++s,w:{}}})},f=function(t,e){if(!i(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!o(t,r)){if(!u(t))return\"F\";if(!e)return\"E\";c(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},d=function(t){return l&&p.NEED&&u(t)&&!o(t,r)&&c(t),t},p=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:h,onFreeze:d}},function(t,e,n){var r=n(39),i=n(35),o=n(23),a=n(62),s=n(26),u=n(78),l=Object.getOwnPropertyDescriptor;e.f=n(17)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(11),i=n(8),o=n(25);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),\"Object\",a)}},function(t,e,n){var r=n(60)(\"keys\"),i=n(42);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(18),i=r[\"__core-js_shared__\"]||(r[\"__core-js_shared__\"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(27);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&\"function\"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if(\"function\"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&\"function\"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e,n){var r=n(18),i=n(8),o=n(54),a=n(64),s=n(12).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});\"_\"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(10)},function(t,e,n){var r=n(76),i=n(10)(\"iterator\"),o=n(34);t.exports=n(8).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t[\"@@iterator\"]||o[r(t)]}},function(t,e,n){n(199);for(var r=n(18),i=n(22),o=n(34),a=n(10)(\"toStringTag\"),s=[\"NodeList\",\"DOMTokenList\",\"MediaList\",\"StyleSheetList\",\"CSSRuleList\"],u=0;u<5;u++){var l=s[u],c=r[l],f=c&&c.prototype;f&&!f[a]&&i(f,a,l),o[l]=o.Array}},function(t,e,n){\"use strict\";function r(t,e,n,r,o,a,s,u){if(i(e),!t){var l;if(void 0===e)l=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var c=[n,r,o,a,s,u],f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]})),l.name=\"Invariant Violation\"}throw l.framesToPop=1,l}}var i=function(t){};t.exports=r},function(t,e,n){\"use strict\";function r(t){if(null===t||void 0===t)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(t)}/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\nvar i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String(\"abc\");if(t[5]=\"de\",\"5\"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach(function(t){r[t]=t}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=r(t),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.id,n=t.title,r=(t.options,t.onClick),i=t.checked,o=t.extraClasses;return m.default.createElement(\"ul\",{className:o},m.default.createElement(\"li\",{onClick:r},m.default.createElement(\"input\",{type:\"radio\",name:e,checked:i,readOnly:!0}),m.default.createElement(\"label\",{className:\"radio-selector-label\",htmlFor:n}),m.default.createElement(\"span\",null,n)))}}]),e}(m.default.Component);e.default=v},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=e.ObstacleColorMapping=e.DEFAULT_COLOR=void 0;var i=n(150),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(7),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),h=n(14),d=r(h),p=n(133),m=r(p),v=n(71),g=n(24),y=n(28),b=e.DEFAULT_COLOR=16711932,x=e.ObstacleColorMapping={PEDESTRIAN:16771584,BICYCLE:56555,VEHICLE:65340,VIRTUAL:8388608},_=function(){function t(){(0,s.default)(this,t),this.textRender=new m.default,this.arrows=[],this.ids=[],this.solidCubes=[],this.dashedCubes=[],this.extrusionSolidFaces=[],this.extrusionDashedFaces=[]}return(0,l.default)(t,[{key:\"update\",value:function(t,e,n){y.isEmpty(this.ids)||(this.ids.forEach(function(t){t.children.forEach(function(t){return t.visible=!1}),n.remove(t)}),this.ids=[]),this.textRender.reset();var r=t.object;if(y.isEmpty(r))return(0,v.hideArrayObjects)(this.arrows),(0,v.hideArrayObjects)(this.solidCubes),(0,v.hideArrayObjects)(this.dashedCubes),(0,v.hideArrayObjects)(this.extrusionSolidFaces),void(0,v.hideArrayObjects)(this.extrusionDashedFaces);for(var i=0,a=0,s=0,u=0;u<r.length;u++){var l=r[u];if(d.default.options[\"showObstacles\"+y.upperFirst(y.camelCase(l.type))]&&l.positionX&&l.positionY){var c=e.applyOffset(new f.Vector3(l.positionX,l.positionY,(l.height||1.5)/2)),h=x[l.type]||b;if(d.default.options.showObstaclesVelocity&&l.type&&\"UNKNOWN_UNMOVABLE\"!==l.type&&l.speed>.5){var p=this.updateArrow(c,l.speedHeading,h,i++,n),m=1+(0,o.default)(l.speed);p.scale.set(m,m,m),p.visible=!0}if(d.default.options.showObstaclesHeading){var g=this.updateArrow(c,l.heading,16777215,i++,n);g.scale.set(1,1,1),g.visible=!0}d.default.options.showObstaclesId&&this.updateId(l.id,new f.Vector3(c.x,c.y,l.height),n);var _=l.confidence;_=Math.max(0,_),_=Math.min(1,_);var w=l.polygonPoint;void 0!==w&&w.length>0?(this.updatePolygon(w,l.height,h,e,_,s,n),s+=w.length):l.length&&l.width&&l.height&&this.updateCube(l.length,l.width,l.height,c,l.heading,h,_,a++,n)}}(0,v.hideArrayObjects)(this.arrows,i),(0,v.hideArrayObjects)(this.solidCubes,a),(0,v.hideArrayObjects)(this.dashedCubes,a),(0,v.hideArrayObjects)(this.extrusionSolidFaces,s),(0,v.hideArrayObjects)(this.extrusionDashedFaces,s)}},{key:\"updateArrow\",value:function(t,e,n,r,i){var o=this.getArrow(r,i);return(0,v.copyProperty)(o.position,t),o.material.color.setHex(n),o.rotation.set(0,0,-(Math.PI/2-e)),o}},{key:\"updateId\",value:function(t,e,n){var r=this.textRender.composeText(t);if(null!==r){r.position.set(e.x,e.y,e.z||3);var i=n.getObjectByName(\"camera\");void 0!==i&&r.quaternion.copy(i.quaternion),r.children.forEach(function(t){return t.visible=!0}),r.visible=!0,r.name=\"id_\"+t,this.ids.push(r),n.add(r)}}},{key:\"updatePolygon\",value:function(t,e,n,r,i,o,a){for(var s=0;s<t.length;s++){var u=this.getFace(o+s,a,!0),l=this.getFace(o+s,a,!1),c=s===t.length-1?0:s+1,h=new f.Vector3(t[s].x,t[s].y,t[s].z),d=new f.Vector3(t[c].x,t[c].y,t[c].z),p=r.applyOffset(new f.Vector2((h.x+d.x)/2,(h.y+d.y)/2));if(null!==p){u.position.set(p.x,p.y,0),l.position.set(p.x,p.y,e*i);var m=h.distanceTo(d);0!==m?(u.scale.set(m,1,e*i),l.scale.set(m,1,e*(1-i)),u.material.color.setHex(n),u.rotation.set(0,0,Math.atan2(d.y-h.y,d.x-h.x)),u.visible=0!==i,l.material.color.setHex(n),l.rotation.set(0,0,Math.atan2(d.y-h.y,d.x-h.x)),l.visible=1!==i):console.warn(\"Cannot display obstacle with an edge length 0!\")}}}},{key:\"updateCube\",value:function(t,e,n,r,i,o,a,s,u){if(a>0){var l=this.getCube(s,u,!0);l.position.set(r.x,r.y,r.z+n*(a-1)/2),l.scale.set(t,e,n*a),l.material.color.setHex(o),l.rotation.set(0,0,i),l.visible=!0}if(a<1){var c=this.getCube(s,u,!1);c.position.set(r.x,r.y,r.z+n*a/2),c.scale.set(t,e,n*(1-a)),c.material.color.setHex(o),c.rotation.set(0,0,i),c.visible=!0}}},{key:\"getArrow\",value:function(t,e){if(t<this.arrows.length)return this.arrows[t];var n=(0,g.drawArrow)(1.5,1.5,.5,.5,b);return n.rotation.set(0,0,-Math.PI/2),n.visible=!1,this.arrows.push(n),e.add(n),n}},{key:\"getFace\",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?this.extrusionSolidFaces:this.extrusionDashedFaces;if(t<r.length)return r[t];var i=[new f.Vector3(-.5,0,0),new f.Vector3(.5,0,0),new f.Vector3(.5,0,1),new f.Vector3(-.5,0,1)],o=n?(0,g.drawSegmentsFromPoints)(i,b,1.5):(0,g.drawDashedLineFromPoints)(i,b,1.5,.1,.1);return o.visible=!1,r.push(o),e.add(o),o}},{key:\"getCube\",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?this.solidCubes:this.dashedCubes;if(t<r.length)return r[t];var i=new f.Vector3(1,1,1),o=n?(0,g.drawBox)(i,b,1.5):(0,g.drawDashedBox)(i,b,1.5,.1,.1);return o.visible=!1,r.push(o),e.add(o),o}}]),t}();e.default=_},function(t,e,n){\"use strict\";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.constructor===Array&&t.length>0)for(;e<t.length;e++)t[e].visible=!1}Object.defineProperty(e,\"__esModule\",{value:!0}),e.copyProperty=r,e.hideArrayObjects=i},function(t,e,n){t.exports={default:n(162),__esModule:!0}},function(t,e,n){t.exports={default:n(164),__esModule:!0}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(155),o=r(i),a=n(154),s=r(a),u=\"function\"==typeof s.default&&\"symbol\"==typeof o.default?function(t){return typeof t}:function(t){return t&&\"function\"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?\"symbol\":typeof t};e.default=\"function\"==typeof s.default&&\"symbol\"===u(o.default)?function(t){return void 0===t?\"undefined\":u(t)}:function(t){return t&&\"function\"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?\"symbol\":void 0===t?\"undefined\":u(t)}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+\": incorrect invocation!\");return t}},function(t,e,n){var r=n(49),i=n(10)(\"toStringTag\"),o=\"Arguments\"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(n=a(e=Object(t),i))?n:o?r(e):\"Object\"==(s=r(e))&&\"function\"==typeof e.callee?\"Arguments\":s}},function(t,e,n){var r=n(27),i=n(18).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){t.exports=!n(17)&&!n(25)(function(){return 7!=Object.defineProperty(n(77)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,e,n){var r=n(34),i=n(10)(\"iterator\"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(49);t.exports=Array.isArray||function(t){return\"Array\"==r(t)}},function(t,e,n){var r=n(21);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(85),i=n(50).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(26),i=n(31),o=n(59)(\"IE_PROTO\"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(26),i=n(23),o=n(177)(!1),a=n(59)(\"IE_PROTO\");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(22);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){t.exports=n(22)},function(t,e){},function(t,e,n){\"use strict\";var r={};t.exports=r},function(t,e,n){t.exports=n(234)()},function(t,e,n){t.exports=n.p+\"assets/3WNj6QfIN0cgE7u5icG0Zx.png\"},function(t,e,n){t.exports=n.p+\"assets/ZzXs2hkPaGeWT_N6FgGOx.png\"},function(t,e,n){t.exports=n.p+\"assets/13lPmuYsGizUIj_HGNYM82.png\"},function(t,e){t.exports={websocketServer:\"0.0.0.0:8888/websocket\"}},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=n(101),x=r(b),_=n(102),w=r(_),E=n(103),M=r(E),T=n(15),S=r(T),A=(i=(0,y.inject)(\"store\"))(o=(0,y.observer)(o=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"parseQueryString\",value:function(t){var e={};return t.replace(\"?\",\"\").split(\"&\").forEach(function(t){var n=t.split(\"=\");e[n[0]]=n[1]}),e}},{key:\"componentWillMount\",value:function(){this.props.store.updateDimension()}},{key:\"componentDidMount\",value:function(){var t=this,e=this.parseQueryString(window.location.search);S.default.initialize(e),window.addEventListener(\"resize\",function(){t.props.store.updateDimension()})}},{key:\"render\",value:function(){var t=this.props.store;t.isInitialized,t.dimension,t.sceneDimension,t.options,t.hmi;return g.default.createElement(\"div\",null,g.default.createElement(x.default,null),g.default.createElement(\"div\",{className:\"pane-container\"},g.default.createElement(\"div\",{className:\"left-pane\"},g.default.createElement(\"div\",{className:\"dreamview-body\"},g.default.createElement(w.default,null),g.default.createElement(M.default,null)))))}}]),e}(g.default.Component))||o)||o;e.default=A},function(t,e,n){var r=n(148);\"string\"==typeof r&&(r=[[t.i,r,\"\"]]);var i={};i.transform=void 0;n(243)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=n(279),g=r(v),y=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.showSyncup,n=t.onSyncup,r=t.onClose,i=e?m.default.createElement(\"button\",{className:\"syncup\",onClick:n},m.default.createElement(\"img\",{src:g.default})):null;return m.default.createElement(\"div\",{className:\"controls\"},i,m.default.createElement(\"button\",{className:\"close\",onClick:r},\"x\"))}}]),e}(m.default.Component);e.default=y},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=n(97),x=r(b),_=(i=(0,y.inject)(\"store\"))(o=(0,y.observer)(o=function(t){function e(t){(0,l.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.state={url:\"\",canPlay:!1,hasStarted:!1},n.loadVideo=n.loadVideo.bind(n),n.onCanplay=n.onCanplay.bind(n),n.setVideoPlayTime=n.setVideoPlayTime.bind(n),n.closeVideo=n.closeVideo.bind(n),n}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"loadVideo\",value:function(t){t&&0!==t.length&&(this.videoElement.src=t,this.videoElement.load()),this.setState({url:t,canPlay:!1,start:!1})}},{key:\"onCanplay\",value:function(){this.setState({canplay:!0})}},{key:\"videoTimeWithinRange\",value:function(){var t=this.props.store,e=t.video,n=t.worldTimestamp,r=e.startTime,i=r+this.videoElement.duration;return r<=n&&i>=n}},{key:\"setVideoPlayTime\",value:function(){if(this.videoTimeWithinRange()){var t=this.props.store.worldTimestamp-this.props.store.video.startTime;this.setState({start:!0}),console.log(\"set video play time to \",t),this.videoElement.pause(),this.videoElement.currentTime=t,this.videoElement.play()}}},{key:\"closeVideo\",value:function(){this.props.store.video.resetVideo(),delete this.videoElement}},{key:\"componentWillReceiveProps\",value:function(t){t.store.video.path!==this.state.url&&this.loadVideo(t.store.video.path)}},{key:\"componentWillUpdate\",value:function(t,e){e.canplay&&0!==t.store.worldTimestamp&&!e.start&&this.setVideoPlayTime()}},{key:\"componentDidMount\",value:function(){var t=this.props.store.video;this.loadVideo(t.path)}},{key:\"render\",value:function(){var t=this,e=this.props.store.video.startTime,n=0!==e&&this.videoTimeWithinRange();return g.default.createElement(\"div\",{className:\"dashcam-player\"},g.default.createElement(x.default,{showSyncup:n,onSyncup:this.setVideoPlayTime,onClose:this.closeVideo}),g.default.createElement(\"video\",{controls:!0,ref:function(e){t.videoElement=e},onCanPlay:this.onCanplay},\"Your browser does not support the video type.\"))}}]),e}(g.default.Component))||o)||o;e.default=_},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(33),s=r(a),u=n(3),l=r(u),c=n(0),f=r(c),h=n(1),d=r(h),p=n(5),m=r(p),v=n(4),g=r(v),y=n(2),b=r(y),x=n(6),_=n(19),w=(r(_),n(100)),E=r(w),M=n(15),T=r(M),S=(i=(0,x.inject)(\"store\"))(o=(0,x.observer)(o=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:\"render\",value:function(){var t=this,e=this.props.store.hmi,n=e.modes,r=e.currentMode,i=e.maps,o=e.currentMap,a=e.vehicles,u=e.currentVehicle;return b.default.createElement(\"div\",{className:\"header\"},b.default.createElement(E.default,{name:\"setup mode\",options:(0,s.default)(n).sort(),currentOption:r,onChange:function(e){t.props.store.hmi.currentMode=e.target.value,T.default.changeSetupMode(e.target.value)}}),b.default.createElement(E.default,{name:\"vehicle\",options:a,currentOption:u,onChange:function(t){T.default.changeVehicle(t.target.value)}}),b.default.createElement(E.default,{name:\"map\",options:i,currentOption:o,onChange:function(t){T.default.changeMap(t.target.value)}}))}}]),e}(b.default.Component))||o)||o;e.default=S},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=n(15),g=(r(v),function(t){function e(t){(0,s.default)(this,e);var n=(0,f.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.state={name:t.name,value:t.currentOption},n.onChangeHandler=n.onChangeHandler.bind(n),n}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"onChangeHandler\",value:function(t){this.setState({value:t.target.value}),this.props.onChange(t)}},{key:\"componentWillReceiveProps\",value:function(t){t.currentOption!==this.props.currentOption&&this.setState({value:t.currentOption})}},{key:\"render\",value:function(){var t=this.props;t.name,t.options,t.currentOption,t.onChange;return this.entries=this.props.options.map(function(t){return m.default.createElement(\"option\",{value:t,key:t},t)}),this.entries.unshift(m.default.createElement(\"option\",{key:\"none\",value:\"none\",disabled:!0},\"-- \"+this.state.name+\" --\")),m.default.createElement(\"div\",{className:\"selector\"},m.default.createElement(\"span\",{className:\"arrow\"}),m.default.createElement(\"select\",{onChange:this.onChangeHandler,value:this.state.value},this.entries))}}]),e}(m.default.Component));e.default=g},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=n(47),g=r(v),y=n(93),b=r(y),x=n(99),_=(r(x),function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){return m.default.createElement(\"header\",{className:\"header\"},m.default.createElement(g.default,{image:b.default,className:\"apollo-logo\"}),!1)}}]),e}(m.default.Component));e.default=_},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a,s,u=n(3),l=r(u),c=n(0),f=r(c),h=n(1),d=r(h),p=n(5),m=r(p),v=n(4),g=r(v),y=n(2),b=r(y),x=n(6),_=n(107),w=r(_),E=n(98),M=r(E),T=n(112),S=r(T),A=n(122),P=r(A),C=n(114),R=r(C),O=n(123),L=r(O),k=n(109),N=r(k),I=(i=(0,x.inject)(\"store\"))(o=(0,x.observer)(o=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:\"render\",value:function(){var t=this.props.store,e=t.sceneDimension,n=t.meters,r=t.monitor,i=t.options,o=t.trafficSignal,a=t.video;return b.default.createElement(\"div\",{className:\"main-view\",style:{height:e.height}},b.default.createElement(R.default,{width:e.width,height:e.height,options:i,invisible:!1}),i.showRouteEditingBar?b.default.createElement(S.default,null):b.default.createElement(P.default,{meters:n,trafficSignal:o,showNotification:!i.showConsole,monitor:r}),a.showVideo&&b.default.createElement(M.default,null),b.default.createElement(N.default,null))}}]),e}(b.default.Component))||o)||o,D=(a=(0,x.inject)(\"store\"))(s=(0,x.observer)(s=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:\"render\",value:function(){var t=this.props.store,e=t.isInitialized,n=t.sceneDimension;return t.hmi.showNavigationMap?b.default.createElement(w.default,{height:n.height}):e?b.default.createElement(I,null):b.default.createElement(L.default,{height:n.height})}}]),e}(b.default.Component))||s)||s;e.default=D},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=n(106),x=r(b),_=n(115),w=r(_),E=n(116),M=r(E),T=n(117),S=r(T),A=n(110),P=r(A),C=(i=(0,y.inject)(\"store\"))(o=(0,y.observer)(o=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"render\",value:function(){var t=this.props.store,e=t.monitor,n=t.options,r=t.routeEditingManager;return g.default.createElement(\"div\",{className:\"tools\"},n.showModuleController&&g.default.createElement(x.default,null),n.showQuickStarter&&g.default.createElement(P.default,null),n.showMenu&&g.default.createElement(M.default,{options:n}),n.showPOI&&g.default.createElement(S.default,{routeEditingManager:r,options:n}),n.showConsole&&g.default.createElement(w.default,{monitor:e}))}}]),e}(g.default.Component))||o)||o;e.default=C},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(3),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(5),h=r(f),d=n(4),p=r(d),m=n(2),v=r(m),g=n(6),y=(0,g.observer)(i=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.id,n=t.title,r=t.modules,i=t.onClick;return v.default.createElement(\"ul\",{className:\"controller\"},v.default.createElement(\"li\",{onClick:i},v.default.createElement(\"div\",{className:\"switch\"},v.default.createElement(\"input\",{type:\"checkbox\",name:e,className:\"toggle-switch\",checked:r.get(e),readOnly:!0}),v.default.createElement(\"label\",{className:\"toggle-switch-label\",htmlFor:e})),v.default.createElement(\"span\",null,n)))}}]),e}(v.default.Component))||i;e.default=y},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(3),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(5),h=r(f),d=n(4),p=r(d),m=n(2),v=r(m),g=n(6),y={OK:\"#1C9063\",NOT_READY:\"#B43131\",NOT_PRESENT:\"#B43131\",ERR:\"#B43131\",UNDEF:\"#B43131\"},b=(0,g.observer)(i=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.title,n=t.status;return v.default.createElement(\"div\",{className:\"status-display\"},v.default.createElement(\"div\",{className:\"name\"},e),v.default.createElement(\"div\",{className:\"status\"},v.default.createElement(\"span\",null,n.replace(\"_\",\" \")),v.default.createElement(\"span\",{className:\"status-icon\",style:{backgroundColor:y[n]}})))}}]),e}(v.default.Component))||i;e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(149),s=r(a),u=n(3),l=r(u),c=n(0),f=r(c),h=n(1),d=r(h),p=n(5),m=r(p),v=n(4),g=r(v),y=n(2),b=r(y),x=n(6),_=n(104),w=r(_),E=n(105),M=r(E),T=n(15),S=(r(T),(i=(0,x.inject)(\"store\"))(o=(0,x.observer)(o=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:\"render\",value:function(){var t=this,e=this.props.store.hmi,n=e.modes,r=e.currentMode,i=e.moduleStatus,o=e.hardwareStatus,a=e.displayName,u=\"none\"!==r?n[r].liveModules:(0,s.default)(i.keys()),l=\"none\"!==r?n[r].liveHardware:(0,s.default)(o.keys()),c=u.sort().map(function(e){return b.default.createElement(w.default,{key:e,id:e,title:a[e],modules:i,onClick:function(){t.props.store.hmi.toggleModule(e)}})}),f=l.map(function(t){return b.default.createElement(M.default,{key:t,title:a[t],status:o.get(t)})});return b.default.createElement(\"div\",{className:\"module-controller\"},b.default.createElement(\"div\",{className:\"card\"},b.default.createElement(\"div\",{className:\"card-header\"},b.default.createElement(\"span\",null,\"Modules\")),b.default.createElement(\"div\",{className:\"card-content-row\"},c)),b.default.createElement(\"div\",{className:\"card\"},b.default.createElement(\"div\",{className:\"card-header\"},b.default.createElement(\"span\",null,\"Hardware\")),b.default.createElement(\"div\",{className:\"card-content-column\"},f)))}}]),e}(b.default.Component))||o)||o);e.default=S},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props.height;return m.default.createElement(\"div\",{className:\"main-view\",style:{height:t}},m.default.createElement(\"iframe\",{src:\"components/Navigation/navigation_viewer.html\",style:{width:\"100%\",height:\"100%\"}}))}}]),e}(m.default.Component);e.default=v},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props.onClick;return m.default.createElement(\"svg\",{className:\"icon\",viewBox:\"0 0 10 10\",onClick:t},m.default.createElement(\"polygon\",{className:\"play\",points:\"0 0, 10 5, 0 10\"}))}}]),e}(m.default.Component),g=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props.onClick;return m.default.createElement(\"svg\",{className:\"icon\",viewBox:\"0 0 100 100\",onClick:t},m.default.createElement(\"path\",{className:\"replay\",d:\"M0.166,49.438C0.166,75.152,20.744,96,46.125,96 c12.096,0,23.1-4.731,31.306-12.469 c2.144-2.021-8.776-12.227-10.269-10.84 c-5.54,5.146-12.926,8.286-21.037,8.286 c-17.193,0-31.133-14.122-31.133-31.544s13.939-31.545,31.133-31.545 c17.197,0,31.135,11.108,31.135,28.5 c0,0.007,0.021,0.062,0.049,0.069 L75.778,48c-3.484,0-5.931,0-5.931,0l14.826,18.023 L99.5,48 c0,0-2.447,0-5.931,0l-1.531-1.514 c0.017-0.006,0.05-0.015,0.05-0.021 c0-25.716-20.578-43.574-45.963-43.574 C20.744,2.891,0.166,23.723,0.166,49.438 z M78.743,44.933 l0.115,0.023l-0.089,0.086 C78.754,44.977,78.743,44.933,78.743,44.933 z\"}))}}]),e}(m.default.Component),y=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props.onClick;return m.default.createElement(\"svg\",{className:\"icon\",viewBox:\"0 0 20 20\",onClick:t},m.default.createElement(\"polygon\",{className:\"pause\",points:\"4 0, 6 0, 6 20, 4 20\"}),m.default.createElement(\"polygon\",{className:\"pause\",points:\"13 0, 15 0, 15 20, 13 20\"}))}}]),e}(m.default.Component),b=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.type,n=t.onClick;switch(e){case\"replay\":return m.default.createElement(g,{onClick:n});case\"pause\":return m.default.createElement(y,{onClick:n});default:return m.default.createElement(v,{onClick:n})}}}]),e}(m.default.Component);e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=n(238),x=r(b),_=n(108),w=r(_),E=n(15),M=r(E),T=(i=(0,y.inject)(\"store\"))(o=(0,y.observer)(o=function(t){function e(t){(0,l.default)(this,e);var n=(0,d.default)(this,(e.__proto__||(0,s.default)(e)).call(this,t));return n.state={rate:1,isPlaying:!1,nextAction:\"play\"},n.handleRateChange=n.handleRateChange.bind(n),n.handleIconClick=n.handleIconClick.bind(n),n.handleSliderChange=n.handleSliderChange.bind(n),n.handleSliderChangeComplete=n.handleSliderChangeComplete.bind(n),n}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"handleRateChange\",value:function(t){var e=this.props.store.playback,n=parseFloat(t.target.value);this.setState({rate:n}),e.setPlayRate(n),this.state.isPlaying&&M.default.startPlayback(e.msPerFrame)}},{key:\"handleIconClick\",value:function(t){var e=this.props.store.playback,n=!this.state.isPlaying;switch(this.setState({isPlaying:n}),this.state.nextAction){case\"play\":M.default.startPlayback(e.msPerFrame);break;case\"pause\":M.default.pausePlayback();break;case\"replay\":e.resetCurrentFrame(),M.default.startPlayback(e.msPerFrame)}}},{key:\"handleSliderChange\",value:function(t){this.props.store.playback.updateCurrentFrameByPercentage(t)}},{key:\"handleSliderChangeComplete\",value:function(){if(!this.state.isPlaying){var t=this.props.store.playback;M.default.requestSimulationWorld(t.jobId,t.currentFrame)}}},{key:\"componentWillUpdate\",value:function(t,e){var n=this.props.store.playback,r=(n.percentage,n.replayComplete);n.currentTimeSec,n.totalTimeSec;t.store.playback.replayComplete&&e.isPlaying&&this.setState({isPlaying:!1});var i=null;i=r?\"replay\":e.isPlaying?\"pause\":\"play\",e.nextAction!==i&&this.setState({nextAction:i})}},{key:\"render\",value:function(){var t=this.props.store.playback,e=t.percentage,n=(t.replayComplete,t.currentTimeSec),r=t.totalTimeSec;return g.default.createElement(\"div\",{className:\"playback-controls\"},g.default.createElement(w.default,{type:this.state.nextAction,onClick:this.handleIconClick}),g.default.createElement(\"div\",{className:\"rate-selector\"},g.default.createElement(\"select\",{onChange:this.handleRateChange,value:this.state.rate},g.default.createElement(\"option\",{value:.25},\"x 0.25\"),g.default.createElement(\"option\",{value:.5},\"x 0.5\"),g.default.createElement(\"option\",{value:1},\"x 1.0\"),g.default.createElement(\"option\",{value:2},\"x 2.0\")),g.default.createElement(\"span\",{className:\"arrow\"})),g.default.createElement(\"div\",{className:\"scrubber\"},g.default.createElement(x.default,{tooltip:!1,value:e,onChange:this.handleSliderChange,onChangeComplete:this.handleSliderChangeComplete})),g.default.createElement(\"div\",{className:\"time-display\"},n+\" / \"+r+\" s\"))}}]),e}(g.default.Component))||o)||o;e.default=T},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(33),s=r(a),u=n(3),l=r(u),c=n(0),f=r(c),h=n(1),d=r(h),p=n(5),m=r(p),v=n(4),g=r(v),y=n(2),b=r(y),x=n(6),_=n(15),w=r(_),E=function(t){function e(){return(0,f.default)(this,e),(0,m.default)(this,(e.__proto__||(0,l.default)(e)).apply(this,arguments))}return(0,g.default)(e,t),(0,d.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.name,n=t.commands,r=(0,s.default)(n).map(function(t){return b.default.createElement(\"button\",{key:t,onClick:n[t]},t)});return b.default.createElement(\"div\",{className:\"command-group\"},b.default.createElement(\"span\",{className:\"name\"},e,\":\"),r)}}]),e}(b.default.Component),M=(i=(0,x.inject)(\"store\"))(o=(0,x.observer)(o=function(t){function e(t){(0,f.default)(this,e);var n=(0,m.default)(this,(e.__proto__||(0,l.default)(e)).call(this,t));return n.rtKRecord={Setup:function(){w.default.executeToolCommand(\"rtk_record_replay\",\"setup\")},Start:function(){w.default.executeToolCommand(\"rtk_record_replay\",\"start_recorder\")},Stop:function(){w.default.executeToolCommand(\"rtk_record_replay\",\"stop_recorder\")}},n.rtkReplay={Setup:function(){w.default.executeToolCommand(\"rtk_record_replay\",\"setup\")},Start:function(){w.default.executeToolCommand(\"rtk_record_replay\",\"start_player\")},Stop:function(){w.default.executeToolCommand(\"rtk_record_replay\",\"start_player\")}},n.auto={Setup:function(){w.default.executeModeCommand(\"start\")},\"Start Auto\":function(){w.default.changeDrivingMode(\"COMPLETE_AUTO_DRIVE\")}},n.reset={\"Reset All\":function(){w.default.executeModeCommand(\"stop\")}},n}return(0,g.default)(e,t),(0,d.default)(e,[{key:\"render\",value:function(){var t=this.props.store.hmi;return b.default.createElement(\"div\",{className:\"quick-starter card\"},b.default.createElement(\"div\",{className:\"card-header\"},b.default.createElement(\"span\",null,\"Quick Start\")),b.default.createElement(\"div\",{className:\"card-content-column\"},t.showRTKCommands&&b.default.createElement(E,{name:\"Record\",commands:this.rtKRecord}),t.showRTKCommands&&b.default.createElement(E,{name:\"Replay\",commands:this.rtkReplay}),b.default.createElement(E,{name:\"Auto\",commands:this.auto}),b.default.createElement(E,{name:\"Reset\",commands:this.reset})))}}]),e}(b.default.Component))||o)||o;e.default=M},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=n(46),g=r(v),y=n(20),b=r(y),x=n(275),_=r(x),w=function(t){function e(t){(0,s.default)(this,e);var n=(0,f.default)(this,(e.__proto__||(0,o.default)(e)).call(this,t));return n.state={active:!1,hover:!1},n.toggle=n.toggle.bind(n),n.handleMouseIn=n.handleMouseIn.bind(n),n.handleMouseOut=n.handleMouseOut.bind(n),n.text=\"For Desktop device:\\n   To zoom the map: use mouse wheel\\n   To move around the map: right-click and drag your mouse,\\n    or use arrow keys\\n   To add a routing point: left-click mouse\\n\\nFor Mobile device:\\n   To zoom the map: pinch the screen with two fingers\\n   To move around the map: swipe with three fingers\\n   To add a routing point: tap with one finger\",n}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"toggle\",value:function(){g.default.findDOMNode(this);this.setState({active:!this.state.active})}},{key:\"handleMouseIn\",value:function(){this.setState({hover:!0})}},{key:\"handleMouseOut\",value:function(){this.setState({hover:!1})}},{key:\"render\",value:function(){var t={display:this.state.active?\"block\":\"none\"};return m.default.createElement(\"button\",{className:(0,b.default)({\"editing-tip\":!0,button:!0,active:this.state.active||this.state.hover}),onClick:this.toggle,onMouseOver:this.handleMouseIn,onMouseOut:this.handleMouseOut},m.default.createElement(\"img\",{src:_.default}),m.default.createElement(\"p\",{style:t},this.text))}}]),e}(m.default.Component);e.default=w},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=n(111),x=r(b),_=n(276),w=r(_),E=n(277),M=r(E),T=n(278),S=r(T),A=n(274),P=r(A),C=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.label,n=t.icon,r=t.onClick;return g.default.createElement(\"button\",{onClick:r,className:\"button\"},g.default.createElement(\"img\",{src:n}),g.default.createElement(\"span\",null,e))}}]),e}(g.default.Component),R=(i=(0,y.inject)(\"store\"))(o=(0,y.observer)(o=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"render\",value:function(){var t=this,e=this.props.store,n=e.routeEditingManager,r=e.options;return g.default.createElement(\"div\",{className:\"route-editing-bar\"},g.default.createElement(\"div\",{className:\"editing-panel\"},g.default.createElement(C,{label:\"Add Point of Interest\",icon:P.default,onClick:function(){t.props.store.handleSideBarClick(\"showPOI\")}}),g.default.createElement(C,{label:\"Remove Last Point\",icon:M.default,onClick:function(){n.removeLastRoutingPoint()}}),g.default.createElement(C,{label:\"Remove All Points\",icon:w.default,onClick:function(){n.removeAllRoutingPoints()}}),g.default.createElement(C,{label:\"Send Routing Request\",icon:S.default,onClick:function(){n.sendRoutingRequest()&&(r.showRouteEditingBar=!1)}}),g.default.createElement(x.default,null)))}}]),e}(g.default.Component))||o)||o;e.default=R},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=(i=(0,y.inject)(\"store\"))(o=(0,y.observer)(o=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"render\",value:function(){var t=this.props.store.geolocation,e=t.x?t.x.toFixed(2):\"?\",n=t.y?t.y.toFixed(2):\"?\";return g.default.createElement(\"div\",{className:\"geolocation\"},\"( \",e,\", \",n,\" )\")}}]),e}(g.default.Component))||o)||o;e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=n(20),x=r(b),_=n(113),w=r(_),E=n(32),M=r(E),T=n(14),S=r(T),A=(i=(0,y.inject)(\"store\"))(o=(0,y.observer)(o=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"componentDidMount\",value:function(){M.default.initialize(\"canvas\",this.props.width,this.props.height,this.props.options)}},{key:\"componentWillUpdate\",value:function(t){M.default.updateDimension(t.width,t.height)}},{key:\"render\",value:function(){var t=this.props,e=t.invisible,n=t.options;return g.default.createElement(\"div\",{id:\"canvas\",className:(0,x.default)({\"dreamview-canvas\":!0,hidden:e}),onMouseMove:function(t){var e=M.default.getGeolocation(t);S.default.setGeolocation(e)}},n.showGeo&&g.default.createElement(w.default,null))}}]),e}(g.default.Component))||o)||o;e.default=A},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a=n(3),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(5),d=r(h),p=n(4),m=r(p),v=n(2),g=r(v),y=n(6),b=n(20),x=r(b),_=n(47),w=r(_),E=n(92),M=r(E),T=n(91),S=r(T),A=(0,y.observer)(i=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.level,n=t.text,r=\"ERROR\"===e||\"FATAL\"===e?\"alert\":\"warn\",i=\"alert\"===r?S.default:M.default;return g.default.createElement(\"li\",{className:\"monitor-item\"},g.default.createElement(w.default,{image:i,className:\"icon\"}),g.default.createElement(\"span\",{className:(0,x.default)(\"text\",r)},n))}}]),e}(g.default.Component))||i,P=(0,y.observer)(o=function(t){function e(){return(0,l.default)(this,e),(0,d.default)(this,(e.__proto__||(0,s.default)(e)).apply(this,arguments))}return(0,m.default)(e,t),(0,f.default)(e,[{key:\"render\",value:function(){var t=this.props.monitor;return g.default.createElement(\"ul\",{className:\"console card\"},t.items.map(function(t,e){return g.default.createElement(A,{key:e,text:t.msg,level:t.logLevel})}))}}]),e}(g.default.Component))||o;e.default=P},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o,a,s=n(33),u=r(s),l=n(3),c=r(l),f=n(0),h=r(f),d=n(1),p=r(d),m=n(5),v=r(m),g=n(4),y=r(g),b=n(2),x=r(b),_=n(6),w=n(20),E=(r(w),n(69)),M=r(E),T=n(136),S=r(T),A=n(281),P=r(A),C=n(284),R=r(C),O=n(285),L=r(O),k=n(280),N=r(k),I=n(282),D=r(I),U=n(283),z=r(U),F={perception:P.default,prediction:R.default,routing:L.default,decision:N.default,planning:D.default,camera:z.default},B={perceptionVehicle:\"showObstaclesVehicle\",perceptionPedestrian:\"showObstaclesPedestrian\",perceptionBicycle:\"showObstaclesBicycle\",perceptionUnknownMovable:\"showObstaclesUnknownMovable\",perceptionUnknownUnmovable:\"showObstaclesUnknownUnmovable\",perceptionUnknown:\"showObstaclesUnknown\",perceptionVirtual:\"showObstaclesVirtual\",perceptionVelocity:\"showObstaclesVelocity\",perceptionHeading:\"showObstaclesHeading\",perceptionId:\"showObstaclesId\",predictionMajor:\"showPredictionMajor\",predictionMinor:\"showPredictionMinor\",routing:\"showRouting\",decisionMain:\"showDecisionMain\",decisionObstacle:\"showDecisionObstacle\",planningReference:\"showPlanningReference\",planingDpOptimizer:\"showPlaningDpOptimizer\",planningQpOptimizer:\"showPlanningQpOptimizer\",planningLine:\"showPlanning\"},j=(0,_.observer)(i=function(t){function e(){return(0,h.default)(this,e),(0,v.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,p.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.id,n=t.title,r=t.options;return x.default.createElement(\"ul\",null,x.default.createElement(\"li\",{id:e,onClick:function(){r.toggle(B[e])}},x.default.createElement(\"div\",{className:\"switch\"},x.default.createElement(\"input\",{type:\"checkbox\",name:e,className:\"toggle-switch\",id:e,checked:r[B[e]],readOnly:!0}),x.default.createElement(\"label\",{className:\"toggle-switch-label\",htmlFor:e})),x.default.createElement(\"span\",null,n)))}}]),e}(x.default.Component))||i,H=(0,_.observer)(o=function(t){function e(){return(0,h.default)(this,e),(0,v.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,p.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.tabId,n=t.tabTitle,r=t.tabType,i=t.data,o=t.options,a=null;return\"checkbox\"===r?a=(0,u.default)(i).map(function(t){var e=i[t];return x.default.createElement(j,{key:t,id:t,title:e,options:o})}):\"radio\"===r&&(a=(0,u.default)(i).map(function(t){var n=i[t];return x.default.createElement(M.default,{key:e+\"_\"+t,id:e,onClick:function(){o.selectCamera(n)},checked:o.cameraAngle===n,title:n,options:o})})),x.default.createElement(\"div\",{className:\"card\"},x.default.createElement(\"div\",{className:\"card-header summary\"},x.default.createElement(\"span\",null,x.default.createElement(\"img\",{src:F[e]}),n)),x.default.createElement(\"div\",{className:\"card-content-column\"},a))}}]),e}(x.default.Component))||o,V=(0,_.observer)(a=function(t){function e(){return(0,h.default)(this,e),(0,v.default)(this,(e.__proto__||(0,c.default)(e)).apply(this,arguments))}return(0,y.default)(e,t),(0,p.default)(e,[{key:\"render\",value:function(){var t=this.props.options,e=(0,u.default)(S.default).map(function(e){var n=S.default[e];return x.default.createElement(H,{key:n.id,tabId:n.id,tabTitle:n.title,tabType:n.type,data:n.data,options:t})});return x.default.createElement(\"div\",{className:\"nav-side-menu\",id:\"layer-menu\"},e)}}]),e}(x.default.Component))||a;e.default=V},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(33),a=r(o),s=n(3),u=r(s),l=n(0),c=r(l),f=n(1),h=r(f),d=n(5),p=r(d),m=n(4),v=r(m),g=n(2),y=r(g),b=n(6),x=n(20),_=(r(x),n(69)),w=r(_),E=(0,b.observer)(i=function(t){function e(){return(0,c.default)(this,e),(0,p.default)(this,(e.__proto__||(0,u.default)(e)).apply(this,arguments))}return(0,v.default)(e,t),(0,h.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.routeEditingManager,n=t.options,r=(0,a.default)(e.defaultRoutingEndPoint).map(function(t){return y.default.createElement(w.default,{extraClasses:[\"poi-button\"],key:\"poi_\"+t,id:\"poi\",title:t,onClick:function(){e.addDefaultEndPoint(t),n.showRouteEditingBar||e.sendRoutingRequest(),n.showPOI=!1},checked:!1})});return y.default.createElement(\"div\",{className:\"nav-side-menu\",id:\"poi-list\"},y.default.createElement(\"div\",{className:\"card\"},y.default.createElement(\"div\",{className:\"card-header\"},y.default.createElement(\"span\",null,\"Point of Interest\")),y.default.createElement(\"div\",{className:\"card-content-row\"},r)))}}]),e}(y.default.Component))||i;e.default=E},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(3),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(5),h=r(f),d=n(4),p=r(d),m=n(2),v=r(m),g=n(6),y=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.label,n=t.percentage,r=t.meterColor,i=t.background;return v.default.createElement(\"div\",{className:\"meter-container\"},v.default.createElement(\"div\",{className:\"meter-label\"},e),v.default.createElement(\"span\",{className:\"meter-head\",style:{borderColor:r}}),v.default.createElement(\"div\",{className:\"meter-background\",style:{backgroundColor:i}},v.default.createElement(\"span\",{style:{backgroundColor:r,width:n+\"%\"}})))}}]),e}(v.default.Component),b=(0,g.observer)(i=function(t){function e(t){(0,u.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.setting={brake:{label:\"Brake\",meterColor:\"#B43131\",background:\"#382626\"},accelerator:{label:\"Accelerator\",meterColor:\"#006AFF\",background:\"#2D3B50\"}},n}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.throttlePercent,n=t.brakePercent,r=t.speed;return v.default.createElement(\"div\",{className:\"auto-meter\"},v.default.createElement(\"span\",{className:\"speed-read\"},r),v.default.createElement(\"span\",{className:\"speed-unit\"},\"km/h\"),v.default.createElement(\"div\",{className:\"brake-panel\"},v.default.createElement(y,{label:this.setting.brake.label,percentage:n,meterColor:this.setting.brake.meterColor,background:this.setting.brake.background})),v.default.createElement(\"div\",{className:\"throttle-panel\"},v.default.createElement(y,{label:this.setting.accelerator.label,percentage:e,meterColor:this.setting.accelerator.meterColor,background:this.setting.accelerator.background})))}}]),e}(v.default.Component))||i;e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(3),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(5),h=r(f),d=n(4),p=r(d),m=n(2),v=r(m),g=n(6),y=n(20),b=r(y),x=n(47),_=r(x),w=n(92),E=r(w),M=n(91),T=r(M),S=(0,g.observer)(i=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props.monitor;if(!t.hasActiveNotification)return null;if(0===t.items.length)return null;var e=t.items[0],n=\"ERROR\"===e.logLevel||\"FATAL\"===e.logLevel?\"alert\":\"warn\",r=\"alert\"===n?T.default:E.default;return v.default.createElement(\"div\",{className:\"notification-\"+n},v.default.createElement(_.default,{image:r,className:\"icon\"}),v.default.createElement(\"span\",{className:(0,b.default)(\"text\",n)},e.msg))}}]),e}(v.default.Component))||i;e.default=S},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(3),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(5),h=r(f),d=n(4),p=r(d),m=n(2),v=r(m),g=n(6),y=n(20),b=r(y),x={GREEN:\"rgba(79, 198, 105, 0.8)\",YELLOW:\"rgba(239, 255, 0, 0.8)\",RED:\"rgba(180, 49, 49, 0.8)\",BLACK:\"rgba(42, 50, 56, 0.8)\",UNKNOWN:\"rgba(42, 50, 56, 0.8)\",\"\":\"rgba(42, 50, 56, 0.8)\"},_=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props.color;return v.default.createElement(\"svg\",{className:\"traffic-light\",viewBox:\"0 0 30 30\",height:\"28\",width:\"28\"},v.default.createElement(\"circle\",{cx:\"15\",cy:\"15\",r:\"15\",fill:x[t]}))}}]),e}(v.default.Component),w=(0,g.observer)(i=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.trafficLightColor,n=t.drivingMode,r=t.isAutoMode;return v.default.createElement(\"div\",{className:(0,b.default)({\"traffic-light-indicator\":!0,\"auto-mode\":r,\"manual-mode\":!r})},v.default.createElement(_,{color:e}),v.default.createElement(\"div\",{className:\"driving-mode\"},n))}}]),e}(v.default.Component))||i;e.default=w},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(3),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(5),h=r(f),d=n(4),p=r(d),m=n(2),v=r(m),g=n(6),y=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props.steeringAngle;return v.default.createElement(\"svg\",{className:\"wheel\",viewBox:\"0 0 100 100\",height:\"80\",width:\"80\"},v.default.createElement(\"circle\",{className:\"wheel-background\",cx:\"50\",cy:\"50\",r:\"45\"}),v.default.createElement(\"g\",{className:\"wheel-arm\",transform:\"rotate(\"+t+\" 50 50)\"},v.default.createElement(\"rect\",{x:\"45\",y:\"7\",height:\"10\",width:\"10\"}),v.default.createElement(\"line\",{x1:\"50\",y1:\"50\",x2:\"50\",y2:\"5\"})))}}]),e}(v.default.Component),b=(0,g.observer)(i=function(t){function e(t){(0,u.default)(this,e);var n=(0,h.default)(this,(e.__proto__||(0,a.default)(e)).call(this,t));return n.signalColor={off:\"#30435E\",on:\"#006AFF\"},n}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.steeringPercentage,n=t.steeringAngle,r=t.turnSignal,i=\"LEFT\"===r||\"EMERGENCY\"===r?this.signalColor.on:this.signalColor.off,o=\"RIGHT\"===r||\"EMERGENCY\"===r?this.signalColor.on:this.signalColor.off;return v.default.createElement(\"div\",{className:\"wheel-panel\"},v.default.createElement(\"div\",{className:\"steerangle-read\"},e),v.default.createElement(\"div\",{className:\"steerangle-unit\"},\"%\"),v.default.createElement(\"div\",{className:\"left-arrow\",style:{borderRightColor:i}}),v.default.createElement(y,{steeringAngle:n}),v.default.createElement(\"div\",{className:\"right-arrow\",style:{borderLeftColor:o}}))}}]),e}(v.default.Component))||i;e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i,o=n(3),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(5),h=r(f),d=n(4),p=r(d),m=n(2),v=r(m),g=n(6),y=n(118),b=r(y),x=n(119),_=r(x),w=n(120),E=r(w),M=n(121),T=r(M),S=(0,g.observer)(i=function(t){function e(){return(0,u.default)(this,e),(0,h.default)(this,(e.__proto__||(0,a.default)(e)).apply(this,arguments))}return(0,p.default)(e,t),(0,c.default)(e,[{key:\"render\",value:function(){var t=this.props,e=t.meters,n=t.trafficSignal,r=t.showNotification,i=t.monitor;return v.default.createElement(\"div\",{className:\"status-bar\"},r&&v.default.createElement(_.default,{monitor:i}),v.default.createElement(b.default,{throttlePercent:e.throttlePercent,brakePercent:e.brakePercent,speed:e.speed}),v.default.createElement(T.default,{steeringPercentage:e.steeringPercentage,steeringAngle:e.steeringAngle,turnSignal:e.turnSignal}),v.default.createElement(E.default,{trafficLightColor:n.color,drivingMode:e.drivingMode,isAutoMode:e.isAutoMode}))}}]),e}(v.default.Component))||i;e.default=S},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(3),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(5),f=r(c),h=n(4),d=r(h),p=n(2),m=r(p),v=n(32),g=(r(v),n(93)),y=r(g),b=function(t){function e(){return(0,s.default)(this,e),(0,f.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,d.default)(e,t),(0,l.default)(e,[{key:\"render\",value:function(){var t=this.props.height;return m.default.createElement(\"div\",{className:\"loader\",style:{height:t}},m.default.createElement(\"div\",{className:\"img-container\"},m.default.createElement(\"img\",{src:y.default,alt:\"Loader\"}),m.default.createElement(\"div\",{className:\"status-message\"},\"Please send car initial position and map data.\")))}}]),e}(m.default.Component);e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(46),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i),a=n(2),s=r(a),u=n(6);n(96);var l=n(14),c=r(l),f=n(95),h=r(f);o.render(s.default.createElement(u.Provider,{store:c.default},s.default.createElement(h.default,null)),document.getElementById(\"root\"))},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=n(248),f=r(c),h=n(249),d=r(h),p=n(36),m=function(){function t(){var e=this;(0,o.default)(this,t),this.mesh=null,(0,p.loadObject)(f.default,d.default,{x:1,y:1,z:1},function(t){e.mesh=t,e.mesh.rotation.x=Math.PI/2})}return(0,s.default)(t,[{key:\"update\",value:function(t,e){var n=t.autoDrivingCar.positionX,r=t.autoDrivingCar.positionY;if(this.mesh&&n&&r){this.mesh.visible=!0;var i=e.applyOffset(new l.Vector2(n,r));null!==i&&(this.mesh.position.set(i.x,i.y,0),this.mesh.rotation.y=t.autoDrivingCar.heading)}}}]),t}();e.default=m},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=function(){function t(){(0,o.default)(this,t),this.offset=null}return(0,s.default)(t,[{key:\"isInitialized\",value:function(){return null!==this.offset}},{key:\"initialize\",value:function(t,e){this.offset={x:t,y:e}}},{key:\"applyOffset\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===this.offset?(console.error(\"Offset is not set.\"),null):isNaN(this.offset.x)||isNaN(this.offset.y)?(console.error(\"Offset contains NaN!\"),null):isNaN(t.x)||isNaN(t.y)?(console.warn(\"Point contains NaN!\"),null):isNaN(t.z)?new l.Vector2(e?t.x+this.offset.x:t.x-this.offset.x,e?t.y+this.offset.y:t.y-this.offset.y):new l.Vector3(e?t.x+this.offset.x:t.x-this.offset.x,e?t.y+this.offset.y:t.y-this.offset.y,t.z)}},{key:\"applyOffsetToArray\",value:function(t){var e=this;return t.map(function(t){return e.applyOffset(t)})}}]),t}();e.default=c},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=n(14),f=r(c),h=n(262),d=r(h),p=n(266),m=r(p),v=n(264),g=r(v),y=n(267),b=r(y),x=n(265),_=r(x),w=n(256),E=r(w),M=n(259),T=r(M),S=n(257),A=r(S),P=n(260),C=r(P),R=n(258),O=r(R),L=n(261),k=r(L),N=n(254),I=r(N),D=n(269),U=r(D),z=n(268),F=r(z),B=n(270),j=r(B),H=n(271),V=r(H),G=n(272),W=r(G),Y=n(252),X=r(Y),q=n(253),Z=r(q),K=n(255),$=r(K),Q=n(263),J=r(Q),tt=n(71),et=n(24),nt=n(28),rt={STOP:16724016,FOLLOW:1757281,YIELD:16724215,OVERTAKE:3188223},it={STOP_REASON_HEAD_VEHICLE:k.default,STOP_REASON_DESTINATION:I.default,STOP_REASON_PEDESTRIAN:U.default,STOP_REASON_OBSTACLE:F.default,STOP_REASON_SIGNAL:j.default,STOP_REASON_STOP_SIGN:V.default,STOP_REASON_YIELD_SIGN:W.default,STOP_REASON_CLEAR_ZONE:X.default,STOP_REASON_CROSSWALK:Z.default,STOP_REASON_EMERGENCY:$.default,STOP_REASON_NOT_READY:J.default},ot=function(){function t(){(0,o.default)(this,t),this.markers={STOP:[],FOLLOW:[],YIELD:[],OVERTAKE:[]},this.nudges=[],this.mainDecision=this.getMainDecision(),this.mainDecisionAddedToScene=!1}return(0,s.default)(t,[{key:\"update\",value:function(t,e,n){var r=this;this.nudges.forEach(function(t){n.remove(t),t.geometry.dispose(),t.material.dispose()}),this.nudges=[];var i=t.mainStop;if(!f.default.options.showDecisionMain||nt.isEmpty(i))this.mainDecision.visible=!1;else{this.mainDecision.visible=!0,this.mainDecisionAddedToScene||(n.add(this.mainDecision),this.mainDecisionAddedToScene=!0),(0,tt.copyProperty)(this.mainDecision.position,e.applyOffset(new l.Vector3(i.positionX,i.positionY,.2))),this.mainDecision.rotation.set(Math.PI/2,i.heading-Math.PI/2,0);var o=nt.attempt(function(){return i.decision[0].stopReason});if(!nt.isError(o)){var a=null;for(a in it)this.mainDecision[a].visible=!1;this.mainDecision[o].visible=!0}}var s=t.object;if(f.default.options.showDecisionObstacle&&!nt.isEmpty(s)){for(var u={STOP:0,FOLLOW:0,YIELD:0,OVERTAKE:0},c=0;c<s.length;c++){var h=s[c].decision;if(!nt.isEmpty(h))for(var d=0;d<h.length;++d){(function(t){var i=h[t],o=nt.attempt(function(){return i.type});if(nt.isError(o))return\"continue\";if(\"STOP\"===o||\"FOLLOW\"===o||\"YIELD\"===o||\"OVERTAKE\"===o){var a=null;u[o]>=r.markers[o].length?(a=r.getObstacleDecision(o),r.markers[o].push(a),n.add(a)):a=r.markers[o][u[o]];var f=e.applyOffset(new l.Vector3(i.positionX,i.positionY,0));if(null===f)return\"continue\";if(a.position.set(f.x,f.y,.2),a.rotation.set(Math.PI/2,i.heading-Math.PI/2,0),a.visible=!0,u[o]++,\"YIELD\"===o||\"OVERTAKE\"===o){var d=a.connect;d.geometry.vertices[0].set(s[c].positionX-i.positionX,s[c].positionY-i.positionY,0),d.geometry.verticesNeedUpdate=!0,d.geometry.computeLineDistances(),d.geometry.lineDistancesNeedUpdate=!0,d.rotation.set(Math.PI/-2,0,Math.PI/2-i.heading)}}else if(\"NUDGE\"===o){var p=(0,et.drawShapeFromPoints)(e.applyOffsetToArray(i.polygonPoint),new l.MeshBasicMaterial({color:16744192}),!1,2);r.nudges.push(p),n.add(p)}})(d)}}var p=null;for(p in rt)(0,tt.hideArrayObjects)(this.markers[p],u[p])}else{var m=null;for(m in rt)(0,tt.hideArrayObjects)(this.markers[m])}}},{key:\"getMainDecision\",value:function(){var t=this.getFence(\"MAIN_STOP\"),e=null;for(e in it){var n=(0,et.drawImage)(it[e],1,1,4.1,3.5,0);t.add(n),t[e]=n}return t.visible=!1,t}},{key:\"getObstacleDecision\",value:function(t){var e=this.getFence(t);if(\"YIELD\"===t||\"OVERTAKE\"===t){var n=rt[t],r=(0,et.drawDashedLineFromPoints)([new l.Vector3(1,1,0),new l.Vector3(0,0,0)],n,2,2,1,30);e.add(r),e.connect=r}return e.visible=!1,e}},{key:\"getFence\",value:function(t){var e=new l.Object3D;switch(t){case\"STOP\":var n=(0,et.drawImage)(T.default,11.625,3,0,1.5,0);e.add(n);var r=(0,et.drawImage)(m.default,1,1,3,3.6,0);e.add(r);break;case\"FOLLOW\":n=(0,et.drawImage)(A.default,11.625,3,0,1.5,0),e.add(n),r=(0,et.drawImage)(g.default,1,1,3,3.6,0),e.add(r);break;case\"YIELD\":n=(0,et.drawImage)(C.default,11.625,3,0,1.5,0),e.add(n),r=(0,et.drawImage)(b.default,1,1,3,3.6,0),e.add(r);break;case\"OVERTAKE\":n=(0,et.drawImage)(O.default,11.625,3,0,1.5,0),e.add(n),r=(0,et.drawImage)(_.default,1,1,3,3.6,0),e.add(r);break;case\"MAIN_STOP\":n=(0,et.drawImage)(E.default,11.625,3,0,1.5,0),e.add(n),r=(0,et.drawImage)(d.default,1,1,3,3.6,0),e.add(r)}return e}}]),t}();e.default=ot},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=n(36),f=n(273),h=r(f),d=n(19),p=r(d),m=function(){function t(){var e=this;(0,o.default)(this,t),this.type=\"default\",this.mesh=null,this.geometry=null,this.initialized=!1,(0,c.loadTexture)(h.default,function(t){e.geometry=new l.PlaneGeometry(1,1),e.mesh=new l.Mesh(e.geometry,new l.MeshBasicMaterial({map:t}))})}return(0,s.default)(t,[{key:\"initialize\",value:function(t){if(!this.mesh)return!1;var e=p.default.ground,n=e.xres,r=e.yres,i=e.mpp;return this.mesh.scale.set(n*i/1e3,r*i/1e3,1),this.mesh.position.set(0,0,0),this.mesh.overdraw=!1,this.initialized=!0,!0}},{key:\"update\",value:function(t,e,n){}}]),t}();e.default=m},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={},r=!0;for(var i in t)!function(i){n[i]=[];for(var o=t[i],a=e[i],s=0;s<o.length;++s)!function(t){!!a&&a.find(function(e){return e.id.id===o[t]})||(r=!1,n[i].push(o[t]))}(s)}(i);return r?{}:n}function o(t,e){switch(t){case\"DOTTED_YELLOW\":return(0,M.drawDashedLineFromPoints)(e,R.YELLOW,4,3,3,1,!1);case\"DOTTED_WHITE\":return(0,M.drawDashedLineFromPoints)(e,R.WHITE,4,3,3,1,!1);case\"SOLID_YELLOW\":return(0,M.drawSegmentsFromPoints)(e,R.YELLOW,3,1,!1);case\"SOLID_WHITE\":return(0,M.drawSegmentsFromPoints)(e,R.WHITE,3,1,!1);case\"DOUBLE_YELLOW\":var n=(0,M.drawSegmentsFromPoints)(e,R.YELLOW,2,1,!1),r=(0,M.drawSegmentsFromPoints)(e.map(function(t){return new x.Vector3(t.x+.3,t.y+.3,t.z)}),R.YELLOW,3,1,!1);return n.add(r),n;case\"CURB\":return(0,M.drawSegmentsFromPoints)(e,R.CORAL,3,1,!1);default:return(0,M.drawSegmentsFromPoints)(e,R.DEFAULT,3,1,!1)}}function a(t,e,n){var r=[];t.centralCurve.segment.forEach(function(t){var i=e.applyOffsetToArray(t.lineSegment.point),o=(0,M.drawSegmentsFromPoints)(i,R.GREEN,1,1,!1);n.add(o),r.push(o)});var i=t.rightBoundary.boundaryType[0].types[0];t.rightBoundary.curve.segment.forEach(function(t,a){var s=e.applyOffsetToArray(t.lineSegment.point),u=o(i,s);n.add(u),r.push(u)});var a=t.leftBoundary.boundaryType[0].types[0];return t.leftBoundary.curve.segment.forEach(function(t,i){var s=e.applyOffsetToArray(t.lineSegment.point),u=o(a,s);n.add(u),r.push(u)}),r}function s(t,e,n){var r=[],i=e.applyOffsetToArray(t.polygon.point);i.push(i[0]);var o=new x.MeshBasicMaterial({color:R.PURE_WHITE,transparent:!0,opacity:.15}),a=(0,M.drawShapeFromPoints)(i,o,!1,3,!1);n.add(a),r.push(a);var s=(0,M.drawSegmentsFromPoints)(i,R.PURE_WHITE,2,0,!0,!1,1);return n.add(s),r.push(s),r}function u(t){for(var e=_.filter(t,function(t){var e=_.map(t.object,function(t){return void 0!==t.laneOverlapInfo});return 1===_.countBy(e)[!0]}),n=0;n<e.length;n++)e[n].object=_.sortBy(e[n].object,function(t){return void 0===t.laneOverlapInfo});var r=_.map(e,function(t){return t.id.id}),i=_.map(e,function(t){return _.join(_.map(t.object,function(t){return t.id.id}),\"_and_\")});return _.zipObject(r,i)}function l(t){var e=_.takeRight(_.last(t.centralCurve.segment).lineSegment.point,2),n=0;return 2===e.length&&(n=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x)),n}function c(t,e,n,r){var i=_.pickBy(_.mapValues(t.subsignal,function(t){return t.location}),function(t){return!_.isEmpty(t)});if(_.isEmpty(i)&&(i=_.attempt(function(){return t.boundary.point})),_.isError(i)||void 0===i)return null;var o=_.attempt(function(){return n[_.first(e[_.last(t.overlapId).id].split(\"_and_\"))]});if(_.isError(o)||void 0===o){console.warn(\"Unable to get traffic light heading, use orthogonal direction of StopLine.\");var a=t.stopLine[0].segment[0].lineSegment.point,s=a.length;if(s>=2){var u=Math.atan2(a[s-1].y-a[0].y,a[s-1].x-a[0].x);o=1.5*Math.PI+u}}if(isNaN(o))return console.error(\"Error loading traffic light. Unable to determine heading.\"),null;var l=new x.Vector3(0,0,0);return l.x=_.meanBy(_.values(i),function(t){return t.x}),l.y=_.meanBy(_.values(i),function(t){return t.y}),l=r.applyOffset(l),[l,o]}function f(t,e,n,r){t.forEach(function(t){_.each(t.segment,function(t){var i=n.applyOffsetToArray(t.lineSegment.point),o=(0,M.drawSegmentsFromPoints)(i,R.PURE_WHITE,5,3,!1);r.add(o),e.push(o)})})}function h(t,e,n,r,i){var o=[],a=c(t,e,n,r);return a&&(0,C.loadObject)(S.default,P.default,O,function(t){t.rotation.x=Math.PI/2,t.rotation.y=a[1],t.position.set(a[0].x,a[0].y,0),t.matrixAutoUpdate=!1,t.updateMatrix(),i.add(t),o.push(t)}),f(t.stopLine,o,r,i),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var d=n(73),p=r(d),m=n(0),v=r(m),g=n(1),y=r(g),b=n(7),x=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(b),w=n(15),E=r(w),M=n(24),T=n(250),S=r(T),A=n(251),P=r(A),C=n(36),R={YELLOW:14329120,WHITE:13421772,CORAL:16744272,RED:16737894,GREEN:25600,PURE_WHITE:16777215,DEFAULT:12632256},O={x:.006,y:.006,z:.006},L=function(){function t(){(0,v.default)(this,t),(0,C.loadObject)(S.default,P.default,O),this.hash=-1,this.data={},this.laneHeading={},this.initialized=!1}return(0,y.default)(t,[{key:\"removeDrewObjects\",value:function(t,e){t&&t.forEach(function(t){e.remove(t),t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}},{key:\"removeExpiredElements\",value:function(t,e){var n=this,r={};for(var i in this.data)!function(i){r[i]=[];var o=n.data[i],a=t[i];o.forEach(function(t){a&&a.includes(t.id.id)?r[i].push(t):(n.removeDrewObjects(t.drewObjects,e),\"lane\"===i&&delete n.laneHeading[t.id.id])})}(i);this.data=r}},{key:\"appendMapData\",value:function(t,e,n){for(var r in t){this.data[r]||(this.data[r]=[]);for(var i=0;i<t[r].length;++i)switch(r){case\"lane\":var o=t[r][i];this.data[r].push((0,p.default)(t[r][i],{drewObjects:a(o,e,n)})),this.laneHeading[o.id.id]=l(o);break;case\"crosswalk\":this.data[r].push((0,p.default)(t[r][i],{drewObjects:s(t[r][i],e,n)}));break;case\"signal\":var c=u(t.overlap);this.data[r].push((0,p.default)(t[r][i],{drewObjects:h(t[r][i],c,this.laneHeading,e,n)}));break;default:this.data[r].push(t[r][i])}}}},{key:\"updateIndex\",value:function(t,e,n){if(t!==this.hash){this.hash=t;var r=i(e,this.data);this.removeExpiredElements(e,n),_.isEmpty(r)&&this.initialized||(E.default.requestMapData(r),this.initialized=!0)}}}]),t}();e.default=L},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=n(14),f=r(c),h=n(70),d=n(24),p=n(28),m=function(){function t(){(0,o.default)(this,t),this.predLines=[],this.predCircles=[]}return(0,s.default)(t,[{key:\"update\",value:function(t,e,n){var r=this;this.predLines.forEach(function(t){n.remove(t),t.geometry.dispose(),t.material.dispose()}),this.predLines=[],this.predCircles.forEach(function(t){n.remove(t),t.geometry.dispose(),t.material.dispose()}),this.predCircles=[],(f.default.options.showPredictionMajor||f.default.options.showPredictionMinor)&&(p.isEmpty(t.object)||t.object.forEach(function(t){var i=h.ObstacleColorMapping[t.type]||h.DEFAULT_COLOR,o=t.prediction;if(!p.isEmpty(o)&&f.default.options[\"showObstacles\"+p.upperFirst(p.camelCase(t.type))]){p.sortBy(o,function(t){return t.probablity});var a=o[o.length-1],s=o.slice(0,o.length-1);if(f.default.options.showPredictionMajor){var u=e.applyOffsetToArray(a.predictedTrajectory),l=(0,d.drawSegmentsFromPoints)(u,i,3,6);r.predLines.push(l),n.add(l);for(var c=0;c<u.length;c+=10){var m=r.getPredCircle();m.position.set(u[c].x,u[c].y,.24),m.material.color.setHex(i),n.add(m)}}var v=2.3;f.default.options.showPredictionMinor&&s.forEach(function(t){var o=(0,d.drawSegmentsFromPoints)(e.applyOffsetToArray(t.predictedTrajectory),i,v,6);r.predLines.push(o),n.add(o),v>.2&&(v-=.7)})}}))}},{key:\"getPredCircle\",value:function(){var t=new l.MeshBasicMaterial({color:16777215,transparent:!1,opacity:.5}),e=(0,d.drawCircle)(.2,t);return this.predCircles.push(e),e}}]),t}();e.default=m},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(u),n(14)),c=r(l),f=n(24),h=(n(28),function(){function t(){(0,o.default)(this,t),this.routePaths=[],this.lastRoutingTime=-1}return(0,s.default)(t,[{key:\"update\",value:function(t,e,n){var r=this;this.routePaths.forEach(function(t){t.visible=c.default.options.showRouting}),this.lastRoutingTime!==t.routingTime&&(this.lastRoutingTime=t.routingTime,this.routePaths.forEach(function(t){n.remove(t),t.material.dispose(),t.geometry.dispose()}),void 0!==t.routePath&&t.routePath.forEach(function(t){var i=e.applyOffsetToArray(t.point),o=(0,f.drawThickBandFromPoints)(i,.3,16711680,.6,5);o.visible=c.default.options.showRouting,n.add(o),r.routePaths.push(o)}))}}]),t}());e.default=h},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7);!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(u);n(290);var l=n(286),c=r(l),f=n(19),h=r(f),d=n(14),p=(r(d),n(15)),m=r(p),v=n(24),g=function(){function t(){(0,o.default)(this,t),this.routePoints=[],this.inEditingMode=!1}return(0,s.default)(t,[{key:\"isInEditingMode\",value:function(){return this.inEditingMode}},{key:\"enableEditingMode\",value:function(t,e){this.inEditingMode=!0;t.fov=h.default.camera.Map.fov,t.near=h.default.camera.Map.near,t.far=h.default.camera.Map.far,t.updateProjectionMatrix(),m.default.requestMapElementsByRadius(this.EDITING_MAP_RADIUS)}},{key:\"disableEditingMode\",value:function(t){this.inEditingMode=!1,this.removeAllRoutePoints(t)}},{key:\"addRoutingPoint\",value:function(t,e,n){var r=e.applyOffset({x:t.x,y:t.y}),i=(0,v.drawImage)(c.default,3.5,3.5,r.x,r.y,.3);this.routePoints.push(i),n.add(i)}},{key:\"removeLastRoutingPoint\",value:function(t){var e=this.routePoints.pop();e&&(t.remove(e),e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose())}},{key:\"removeAllRoutePoints\",value:function(t){this.routePoints.forEach(function(e){t.remove(e),e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}),this.routePoints=[]}},{key:\"sendRoutingRequest\",value:function(t,e){if(0===this.routePoints.length)return alert(\"Please provide at least an end point.\"),!1;var n=this.routePoints.map(function(t){return t.position.z=0,e.applyOffset(t.position,!0)}),r=n.length>1?n[0]:e.applyOffset(t,!0),i=n[n.length-1],o=n.length>1?n.slice(1,-1):[];return m.default.requestRoute(r,o,i),!0}}]),t}();e.default=g,g.prototype.EDITING_MAP_RADIUS=1500},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(0),o=r(i),a=n(1),s=r(a),u=n(7),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(u),c=n(28),f={},h=!1,d=new l.FontLoader,p=\"fonts/gentilis_bold.typeface.json\";d.load(p,function(t){f.gentilis_bold=t,h=!0},function(t){console.log(p+t.loaded/t.total*100+\"% loaded\")},function(t){console.log(\"An error happened when loading \"+p)});var m=function(){function t(){(0,o.default)(this,t),this.charMeshes={},this.charPointers={}}return(0,s.default)(t,[{key:\"reset\",value:function(){this.charPointers={}}},{key:\"composeText\",value:function(t){if(!h)return null;for(var e=c.map(t,function(t){return t.charCodeAt(0)-32}),n=new l.Object3D,r=0;r<e.length;r++){var i=e[r],o=this.charPointers[i];void 0===o&&(o=0,this.charPointers[i]=o),void 0===this.charMeshes[i]&&(this.charMeshes[i]=[]);var a=this.charMeshes[i][o];void 0===a&&(a=this.charMeshes[i].length>0?this.charMeshes[i][0].clone():this.drawChar3D(t[r]),this.charMeshes[i].push(a)),a.position.set(.4*(r-e.length/2),0,0),this.charPointers[i]++,n.add(a)}return n}},{key:\"drawChar3D\",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.gentilis_bold,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16771584,o=new l.TextGeometry(t,{font:e,size:n,height:r}),a=new l.MeshBasicMaterial({color:i});return new l.Mesh(o,a)}}]),t}();e.default=m},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=new h.default(t);for(var r in e)n.delete(r);return n}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var o=n(48),a=r(o),s=n(0),u=r(s),l=n(1),c=r(l),f=n(153),h=r(f),d=n(7),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),m=n(19),v=r(m),g=n(15),y=(r(g),n(36)),b=function(){function t(){(0,u.default)(this,t),this.mesh=!0,this.type=\"tile\",this.hash=-1,this.currentTiles={},this.initialized=!1,this.range=v.default.ground.tileRange,this.metadata=null,this.mapId=null,this.mapUrlPrefix=null}return(0,c.default)(t,[{key:\"initialize\",value:function(t,e){this.metadata={tileLength:e.tile*e.mpp,left:e.left,top:e.top,numCols:e.wnum,numRows:e.hnum},this.mapId=e.mapid,this.mapUrlPrefix=t+\"/map/getMapPic\",this.initialized=!0}},{key:\"removeDrewObject\",value:function(t,e){var n=this.currentTiles[t];n&&(e.remove(n),n.geometry&&n.geometry.dispose(),n.material&&n.material.dispose()),delete this.currentTiles[t]}},{key:\"appendTiles\",value:function(t,e,n,r,i){var o=this;if(!(e<0||e>this.metadata.numCols||t<0||t>this.metadata.numRows)){var a=this.mapUrlPrefix+\"?mapId=\"+this.mapId+\"&i=\"+t+\"&j=\"+e,s=r.applyOffset({x:this.metadata.left+(t+.5)*this.metadata.tileLength,y:this.metadata.top-(e+.5)*this.metadata.tileLength,z:0});(0,y.loadTexture)(a,function(t){var e=new p.Mesh(new p.PlaneGeometry(1,1),new p.MeshBasicMaterial({map:t}));e.position.set(s.x,s.y,s.z),e.scale.set(o.metadata.tileLength,o.metadata.tileLength,1),e.overdraw=!1,o.currentTiles[n]=e,i.add(e)})}}},{key:\"removeExpiredTiles\",value:function(t,e){for(var n in this.currentTiles)t.has(n)||this.removeDrewObject(n,e)}},{key:\"updateIndex\",value:function(t,e,n,r){if(t!==this.hash){this.hash=t,this.removeExpiredTiles(e,r);var o=i(e,this.currentTiles);if(!_.isEmpty(o)||!this.initialized){var s=!0,u=!1,l=void 0;try{for(var c,f=(0,a.default)(o);!(s=(c=f.next()).done);s=!0){var h=c.value;this.currentTiles[h]=null;var d=h.split(\",\"),p=parseInt(d[0]),m=parseInt(d[1]);this.appendTiles(p,m,h,n,r)}}catch(t){u=!0,l=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}}}}},{key:\"update\",value:function(t,e,n){if(e.isInitialized()&&this.initialized){for(var r=t.autoDrivingCar.positionX,i=t.autoDrivingCar.positionY,o=Math.floor((r-this.metadata.left)/this.metadata.tileLength),a=Math.floor((this.metadata.top-i)/this.metadata.tileLength),s=new h.default,u=\"\",l=o-this.range;l<=o+this.range;l++)for(var c=a-this.range;c<=a+this.range;c++){var f=l+\",\"+c;s.add(f),u+=f}this.updateIndex(u,s,e,n)}}}]),t}();e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!t)return[];for(var n=[],r=0;r<t.length;++r){var i=t[r],o=e.applyOffset(i);if(null!==o){if(n.length>0){if(Math.abs(n[n.length-1].x-o.x)+Math.abs(n[n.length-1].y-o.y)<h.default.planning.minInterval)continue}n.push(o)}}return n}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var o=n(0),a=r(o),s=n(1),u=r(s),l=n(14),c=r(l),f=n(19),h=r(f),d=n(24),p={planning_reference_line:{optionName:\"showPlanningReference\",width:.15,color:3580651,opacity:1,zOffset:7},DpPolyPathOptimizer:{optionName:\"showPlaningDpOptimizer\",width:.4,color:9305268,opacity:.8,zOffset:6},QpSplinePathOptimizer:{optionName:\"showPlanningQpOptimizer\",width:.65,color:14177878,opacity:.8,zOffset:5},trajectory:{optionName:\"showPlanning\",width:.8,color:119233,opacity:.65,zOffset:4}},m=function(){function t(){(0,a.default)(this,t),this.paths={}}return(0,u.default)(t,[{key:\"update\",value:function(t,e,n,r){var o=null;t.autoDrivingCar.width?o=t.autoDrivingCar.width:(console.warn(\"Unable to get the auto driving car's width, planning line width has been set to default: \"+h.default.planning.defaults.width+\" m.\"),o=h.default.planning.defaults.width);var a={};e&&e.path&&e.path.forEach(function(t){a[t.name]=t.pathPoint}),t.planningTrajectory&&(a.trajectory=t.planningTrajectory.map(function(t){return{x:t.positionX,y:t.positionY}}));for(var s in p){var u=p[s];if(c.default.options[u.optionName]){var l=this.paths[s];if(l&&(r.remove(l),l.geometry.dispose(),l.material.dispose()),a[s]){var f=i(a[s],n);this.paths[s]=(0,d.drawThickBandFromPoints)(f,o*u.width,u.color,u.opacity,u.zOffset),r.add(this.paths[s])}}else this.paths[s]&&(this.paths[s].visible=!1)}}}]),t}();e.default=m},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=[{id:\"camera\",title:\"Point of View\",type:\"radio\",data:{1:\"Default\",2:\"Near\",3:\"Overhead\",4:\"Map\"}},{id:\"perception\",title:\"Perception\",type:\"checkbox\",data:{perceptionVehicle:\"Vehicle\",perceptionPedestrian:\"Pedestrian\",perceptionBicycle:\"Bicycle\",perceptionUnknownMovable:\"Unknown Movable\",perceptionUnknownUnmovable:\"Unknown Stationary\",perceptionUnknown:\"Unknown\",perceptionVelocity:\"Velocity\",perceptionHeading:\"Heading\",perceptionId:\"Id\"}},{id:\"prediction\",title:\"Prediction\",type:\"checkbox\",data:{predictionMajor:\"Major Prediction Line\",predictionMinor:\"Minor Prediction Line\"}},{id:\"routing\",title:\"Routing\",type:\"checkbox\",data:{routing:\"Routing Line\"}},{id:\"decision\",title:\"Decision\",type:\"checkbox\",data:{decisionMain:\"Main Decision\",decisionObstacle:\"Obstacle Decision\"}},{id:\"planning\",title:\"Planning\",type:\"checkbox\",data:{planningReference:\"Reference Line\",planingDpOptimizer:\"Dp Optimizer Line\",planningQpOptimizer:\"Qp Optimizer Line\",planningLine:\"Planning Line\"}}]},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,d.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u,l,c,f,h=n(9),d=r(h),p=n(16),m=r(p),v=n(33),g=r(v),y=n(0),b=r(y),x=n(1),_=r(x),w=n(13),E=n(15),M=r(E),T=(a=function(){function t(){(0,b.default)(this,t),this.modes={},i(this,\"currentMode\",s,this),this.vehicles=[],i(this,\"currentVehicle\",u,this),this.maps=[],i(this,\"currentMap\",l,this),i(this,\"moduleStatus\",c,this),i(this,\"hardwareStatus\",f,this),this.displayName={}}return(0,_.default)(t,[{key:\"initialize\",value:function(t){var e=this;t.modes&&(this.modes=t.modes),this.vehicles=(0,g.default)(t.availableVehicles).sort().map(function(t){return t}),this.maps=(0,g.default)(t.availableMaps).sort().map(function(t){return t}),(0,g.default)(t.modules).forEach(function(n){e.moduleStatus.set(n,!1),e.displayName[n]=t.modules[n].displayName}),(0,g.default)(t.hardware).forEach(function(n){e.hardwareStatus.set(n,\"NOT_READY\"),e.displayName[n]=t.hardware[n].displayName})}},{key:\"updateStatus\",value:function(t){if(t.currentMode&&(this.currentMode=t.currentMode),t.currentMap&&(this.currentMap=t.currentMap),t.currentVehicle&&(this.currentVehicle=t.currentVehicle),t.systemStatus){if(t.systemStatus.modules)for(var e in t.systemStatus.modules)this.moduleStatus.set(e,t.systemStatus.modules[e].processStatus.running);if(t.systemStatus.hardware)for(var n in t.systemStatus.hardware)this.hardwareStatus.set(n,t.systemStatus.hardware[n].summary)}}},{key:\"toggleModule\",value:function(t){this.moduleStatus.set(t,!this.moduleStatus.get(t));var e=this.moduleStatus.get(t)?\"start\":\"stop\";M.default.executeModuleCommand(t,e)}},{key:\"showRTKCommands\",get:function(){return\"RTK Record / Replay\"===this.currentMode}},{key:\"showNavigationMap\",get:function(){return\"Navigation\"===this.currentMode}}]),t}(),s=o(a.prototype,\"currentMode\",[w.observable],{enumerable:!0,initializer:function(){return\"none\"}}),u=o(a.prototype,\"currentVehicle\",[w.observable],{enumerable:!0,initializer:function(){return\"none\"}}),l=o(a.prototype,\"currentMap\",[w.observable],{enumerable:!0,initializer:function(){return\"none\"}}),c=o(a.prototype,\"moduleStatus\",[w.observable],{enumerable:!0,initializer:function(){return w.observable.map()}}),f=o(a.prototype,\"hardwareStatus\",[w.observable],{enumerable:!0,initializer:function(){return w.observable.map()}}),o(a.prototype,\"initialize\",[w.action],(0,m.default)(a.prototype,\"initialize\"),a.prototype),o(a.prototype,\"updateStatus\",[w.action],(0,m.default)(a.prototype,\"updateStatus\"),a.prototype),o(a.prototype,\"toggleModule\",[w.action],(0,m.default)(a.prototype,\"toggleModule\"),a.prototype),o(a.prototype,\"showRTKCommands\",[w.computed],(0,m.default)(a.prototype,\"showRTKCommands\"),a.prototype),o(a.prototype,\"showNavigationMap\",[w.computed],(0,m.default)(a.prototype,\"showNavigationMap\"),a.prototype),a);e.default=T},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,x.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function a(t){return 10*Math.round(t/10)}function s(t){switch(t){case\"DISENGAGE_MANUAL\":return\"MANUAL\";case\"DISENGAGE_NONE\":return\"AUTO\";case\"DISENGAGE_EMERGENCY\":return\"DISENGAGED\";case\"DISENGAGE_AUTO_STEER_ONLY\":return\"AUTO STEER\";case\"DISENGAGE_AUTO_SPEED_ONLY\":return\"AUTO SPEED\";case\"DISENGAGE_CHASSIS_ERROR\":return\"CHASSIS ERROR\";default:return\"?\"}}function u(t){return\"DISENGAGE_NONE\"===t||\"DISENGAGE_AUTO_STEER_ONLY\"===t||\"DISENGAGE_AUTO_SPEED_ONLY\"===t}function l(t){return Math.round(3600*t/1e3)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var c,f,h,d,p,m,v,g,y,b=n(9),x=r(b),_=n(16),w=r(_),E=n(0),M=r(E),T=n(1),S=r(T),A=n(13),P=(c=function(){function t(){(0,M.default)(this,t),i(this,\"throttlePercent\",f,this),i(this,\"brakePercent\",h,this),i(this,\"speed\",d,this),i(this,\"steeringAngle\",p,this),i(this,\"steeringPercentage\",m,this),i(this,\"drivingMode\",v,this),i(this,\"isAutoMode\",g,this),i(this,\"turnSignal\",y,this)}return(0,S.default)(t,[{key:\"update\",value:function(t){t.autoDrivingCar&&(void 0!==t.autoDrivingCar.throttlePercentage&&(this.throttlePercent=a(t.autoDrivingCar.throttlePercentage)),void 0!==t.autoDrivingCar.brakePercentage&&(this.brakePercent=a(t.autoDrivingCar.brakePercentage)),void 0!==t.autoDrivingCar.speed&&(this.speed=l(t.autoDrivingCar.speed)),void 0!==t.autoDrivingCar.steeringAngle&&(this.steeringPercentage=t.autoDrivingCar.steeringAngle,this.steeringAngle=-Math.round(4.7*t.autoDrivingCar.steeringAngle)),void 0!==t.autoDrivingCar.disengageType&&(this.drivingMode=s(t.autoDrivingCar.disengageType),this.isAutoMode=u(t.autoDrivingCar.disengageType)),void 0!==t.autoDrivingCar.currentSignal&&(this.turnSignal=t.autoDrivingCar.currentSignal))}}]),t}(),f=o(c.prototype,\"throttlePercent\",[A.observable],{enumerable:!0,initializer:function(){return 0}}),h=o(c.prototype,\"brakePercent\",[A.observable],{enumerable:!0,initializer:function(){return 0}}),d=o(c.prototype,\"speed\",[A.observable],{enumerable:!0,initializer:function(){return 0}}),p=o(c.prototype,\"steeringAngle\",[A.observable],{enumerable:!0,initializer:function(){return 0}}),m=o(c.prototype,\"steeringPercentage\",[A.observable],{enumerable:!0,initializer:function(){return 0}}),v=o(c.prototype,\"drivingMode\",[A.observable],{enumerable:!0,initializer:function(){return\"?\"}}),g=o(c.prototype,\"isAutoMode\",[A.observable],{enumerable:!0,initializer:function(){return!1}}),y=o(c.prototype,\"turnSignal\",[A.observable],{enumerable:!0,initializer:function(){return\"\"}}),o(c.prototype,\"update\",[A.action],(0,w.default)(c.prototype,\"update\"),c.prototype),c);e.default=P},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,f.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u,l,c=n(9),f=r(c),h=n(16),d=r(h),p=n(0),m=r(p),v=n(1),g=r(v),y=n(13),b=(a=function(){function t(){(0,m.default)(this,t),i(this,\"lastUpdateTimestamp\",s,this),i(this,\"hasActiveNotification\",u,this),i(this,\"items\",l,this),this.refreshTimer=null}return(0,g.default)(t,[{key:\"startRefresh\",value:function(){var t=this;this.clearRefreshTimer(),this.refreshTimer=setInterval(function(){Date.now()-t.lastUpdateTimestamp>6e3&&(t.setHasActiveNotification(!1),t.clearRefreshTimer())},500)}},{key:\"clearRefreshTimer\",value:function(){null!==this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null)}},{key:\"setHasActiveNotification\",value:function(t){this.hasActiveNotification=t}},{key:\"update\",value:function(t){if(t.monitor){var e=t.monitor,n=e.item,r=e.header,i=Math.floor(1e3*r.timestampSec);i>this.lastUpdateTimestamp&&(this.hasActiveNotification=!0,this.lastUpdateTimestamp=i,this.items.replace(n),this.startRefresh())}}},{key:\"insert\",value:function(t,e,n){var r=[];r.push({msg:e,logLevel:t});for(var i=0;i<this.items.length;++i)i<29&&r.push(this.items[i]);this.hasActiveNotification=!0,this.lastUpdateTimestamp=n,this.items.replace(r),this.startRefresh()}}]),t}(),s=o(a.prototype,\"lastUpdateTimestamp\",[y.observable],{enumerable:!0,initializer:function(){return 0}}),u=o(a.prototype,\"hasActiveNotification\",[y.observable],{enumerable:!0,initializer:function(){return!1}}),l=o(a.prototype,\"items\",[y.observable],{enumerable:!0,initializer:function(){return[]}}),o(a.prototype,\"setHasActiveNotification\",[y.action],(0,d.default)(a.prototype,\"setHasActiveNotification\"),a.prototype),o(a.prototype,\"update\",[y.action],(0,d.default)(a.prototype,\"update\"),a.prototype),o(a.prototype,\"insert\",[y.action],(0,d.default)(a.prototype,\"insert\"),a.prototype),a);e.default=b},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,I.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u,l,c,f,h,d,p,m,v,g,y,b,x,_,w,E,M,T,S,A,P,C,R,O,L,k,N=n(9),I=r(N),D=n(16),U=r(D),z=n(48),F=r(z),B=n(0),j=r(B),H=n(1),V=r(H),G=n(13),W=n(19),Y=r(W),X=(a=function(){function t(){(0,j.default)(this,t),i(this,\"showConsole\",s,this),i(this,\"showModuleController\",u,this),i(this,\"showPNCMonitor\",l,this),i(this,\"showRouteEditingBar\",c,this),i(this,\"showPOI\",f,this),i(this,\"showMenu\",h,this),i(this,\"showQuickStarter\",d,this),this.mutuallyExclusiveOptions=[\"showQuickStarter\",\"showModuleController\",\"showMenu\",\"showRouteEditingBar\"],i(this,\"showDecisionMain\",p,this),i(this,\"showDecisionObstacle\",m,this),i(this,\"showPlanning\",v,this),i(this,\"showPlanningReference\",g,this),i(this,\"showPlaningDpOptimizer\",y,this),i(this,\"showPlanningQpOptimizer\",b,this),i(this,\"showRouting\",x,this),i(this,\"showPredictionMajor\",_,this),i(this,\"showPredictionMinor\",w,this),i(this,\"showObstaclesVehicle\",E,this),i(this,\"showObstaclesPedestrian\",M,this),i(this,\"showObstaclesBicycle\",T,this),i(this,\"showObstaclesUnknownMovable\",S,this),i(this,\"showObstaclesUnknownUnmovable\",A,this),i(this,\"showObstaclesUnknown\",P,this),i(this,\"showObstaclesVirtual\",C,this),i(this,\"showObstaclesVelocity\",R,this),i(this,\"showObstaclesHeading\",O,this),i(this,\"showObstaclesId\",L,this),i(this,\"cameraAngle\",k,this)}return(0,V.default)(t,[{key:\"toggleSideBar\",value:function(t){if(this[t]=!this[t],this[t]&&this.mutuallyExclusiveOptions.includes(t)){var e=!0,n=!1,r=void 0;try{for(var i,o=(0,F.default)(this.mutuallyExclusiveOptions);!(e=(i=o.next()).done);e=!0){var a=i.value;a!==t&&(this[a]=!1)}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:\"toggle\",value:function(t){this[t]=!this[t]}},{key:\"selectCamera\",value:function(t){this.cameraAngle=t}},{key:\"showTools\",get:function(){return this.showQuickStarter||this.showModuleController||this.showMenu||this.showConsole||this.showPOI}},{key:\"showGeo\",get:function(){return this.showRouteEditingBar||\"Map\"===this.cameraAngle||\"Overhead\"===this.cameraAngle||\"Monitor\"===this.cameraAngle}}]),t}(),s=o(a.prototype,\"showConsole\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showConsole}}),u=o(a.prototype,\"showModuleController\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showModuleController}}),l=o(a.prototype,\"showPNCMonitor\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPNCMonitor}}),c=o(a.prototype,\"showRouteEditingBar\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showRouteEditingBar}}),f=o(a.prototype,\"showPOI\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPOI}}),h=o(a.prototype,\"showMenu\",[G.observable],{enumerable:!0,initializer:function(){return!0}}),d=o(a.prototype,\"showQuickStarter\",[G.observable],{enumerable:!0,initializer:function(){return!1}}),p=o(a.prototype,\"showDecisionMain\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showDecisionMain}}),m=o(a.prototype,\"showDecisionObstacle\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showDecisionObstacle}}),v=o(a.prototype,\"showPlanning\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPlanning}}),g=o(a.prototype,\"showPlanningReference\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPlanningReference}}),y=o(a.prototype,\"showPlaningDpOptimizer\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPlaningDpOptimizer}}),b=o(a.prototype,\"showPlanningQpOptimizer\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPlanningQpOptimizer}}),x=o(a.prototype,\"showRouting\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showRouting}}),_=o(a.prototype,\"showPredictionMajor\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPredictionMajor}}),w=o(a.prototype,\"showPredictionMinor\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showPredictionMinor}}),E=o(a.prototype,\"showObstaclesVehicle\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesVehicle}}),M=o(a.prototype,\"showObstaclesPedestrian\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesPedestrian}}),T=o(a.prototype,\"showObstaclesBicycle\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesBicycle}}),S=o(a.prototype,\"showObstaclesUnknownMovable\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesUnknownMovable}}),A=o(a.prototype,\"showObstaclesUnknownUnmovable\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesUnknownUnmovable}}),P=o(a.prototype,\"showObstaclesUnknown\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesUnknown}}),C=o(a.prototype,\"showObstaclesVirtual\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesVirtual}}),R=o(a.prototype,\"showObstaclesVelocity\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesVelocity}}),O=o(a.prototype,\"showObstaclesHeading\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesHeading}}),L=o(a.prototype,\"showObstaclesId\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.showObstaclesId}}),k=o(a.prototype,\"cameraAngle\",[G.observable],{enumerable:!0,initializer:function(){return Y.default.options.defaults.cameraAngle}}),o(a.prototype,\"showTools\",[G.computed],(0,U.default)(a.prototype,\"showTools\"),a.prototype),o(a.prototype,\"showGeo\",[G.computed],(0,U.default)(a.prototype,\"showGeo\"),a.prototype),o(a.prototype,\"toggleSideBar\",[G.action],(0,U.default)(a.prototype,\"toggleSideBar\"),a.prototype),o(a.prototype,\"toggle\",[G.action],(0,U.default)(a.prototype,\"toggle\"),a.prototype),o(a.prototype,\"selectCamera\",[G.action],(0,U.default)(a.prototype,\"selectCamera\"),a.prototype),a);e.default=X},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,l.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u=n(9),l=r(u),c=n(16),f=r(c),h=n(48),d=r(h),p=n(0),m=r(p),v=n(1),g=r(v),y=n(13),b=n(7),x=(a=function(){function t(){(0,m.default)(this,t),i(this,\"sequenceNum\",s,this),this.data=this.initData(),this.latencyGraph={planning:[]}}return(0,g.default)(t,[{key:\"updateSequenceNum\",value:function(t){this.sequenceNum=t}},{key:\"initData\",value:function(){return{slGraph:{},stGraph:{},stSpeedGraph:{},speedGraph:{},kappaGraph:{},dkappaGraph:{}}}},{key:\"generateDataPoints\",value:function(t,e,n){if(!t||!e||t.length!==e.length)return[];for(var r=[],i=0;i<e.length;i++){var o=Number(t[i]),a=Number(e[i]);void 0!==n&&(a=n(a)),r.push({x:o,y:a})}return r}},{key:\"transformMapBound\",value:function(t){return t>10||t<-10?100*t/Math.abs(t):t}},{key:\"extractDataPoints\",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return[];var i=t.map(function(t){return{x:t[e],y:t[n]}});return r&&t.length&&i.push({x:t[0][e],y:t[0][n]}),i}},{key:\"updateSLFrame\",value:function(t){var e=this.data.slGraph,n=t[0].sampledS;e.mapLowerBound=this.generateDataPoints(n,t[0].mapLowerBound,this.transformMapBound),e.mapUpperBound=this.generateDataPoints(n,t[0].mapUpperBound,this.transformMapBound),e.staticObstacleLowerBound=this.generateDataPoints(n,t[0].staticObstacleLowerBound),e.staticObstacleUpperBound=this.generateDataPoints(n,t[0].staticObstacleUpperBound),e.dynamicObstacleLowerBound=this.generateDataPoints(n,t[0].dynamicObstacleLowerBound),e.dynamicObstacleUpperBound=this.generateDataPoints(n,t[0].dynamicObstacleUpperBound),e.pathLine=this.extractDataPoints(t[0].slPath,\"s\",\"l\");var r=t[1].aggregatedBoundaryS;e.aggregatedBoundaryLow=this.generateDataPoints(r,t[1].aggregatedBoundaryLow),e.aggregatedBoundaryHigh=this.generateDataPoints(r,t[1].aggregatedBoundaryHigh)}},{key:\"updateSTGraph\",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(e=(i=o.next()).done);e=!0){var a=i.value;this.data.stGraph[a.name]={obstaclesBoundary:{}};var s=this.data.stGraph[a.name];if(a.boundary){var u=!0,l=!1,c=void 0;try{for(var f,h=(0,d.default)(a.boundary);!(u=(f=h.next()).done);u=!0){var p=f.value,m=p.type.substring(\"ST_BOUNDARY_TYPE_\".length),v=p.name+\"_\"+m;s.obstaclesBoundary[v]=this.extractDataPoints(p.point,\"t\",\"s\",!0)}}catch(t){l=!0,c=t}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}}s.curveLine=this.extractDataPoints(a.speedProfile,\"t\",\"s\"),a.kernelCruiseRef&&(s.kernelCruise=this.generateDataPoints(a.kernelCruiseRef.t,a.kernelCruiseRef.cruiseLineS)),a.kernelFollowRef&&(s.kernelFollow=this.generateDataPoints(a.kernelFollowRef.t,a.kernelFollowRef.followLineS))}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:\"updateSTSpeedGraph\",value:function(t){var e=this,n=!0,r=!1,i=void 0;try{for(var o,a=(0,d.default)(t);!(n=(o=a.next()).done);n=!0){var s=o.value;this.data.stSpeedGraph[s.name]={};var u=this.data.stSpeedGraph[s.name];u.limit=this.extractDataPoints(s.speedLimit,\"s\",\"v\"),u.planned=this.extractDataPoints(s.speedProfile,\"s\",\"v\"),s.speedConstraint&&function(){var t=s.speedProfile.map(function(t){return t.t}),n=s.speedProfile.map(function(t){return t.s}),r=new b.LinearInterpolant(t,n,1,[]),i=s.speedConstraint.t.map(function(t){return r.evaluate(t)[0]});u.lowerConstraint=e.generateDataPoints(i,s.speedConstraint.lowerBound),u.upperConstraint=e.generateDataPoints(i,s.speedConstraint.upperBound)}()}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:\"updateSpeed\",value:function(t,e){var n=this.data.speedGraph;if(t){var r=!0,i=!1,o=void 0;try{for(var a,s=(0,d.default)(t);!(r=(a=s.next()).done);r=!0){var u=a.value;n[u.name]=this.extractDataPoints(u.speedPoint,\"t\",\"v\")}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}e&&(n.finalSpeed=this.extractDataPoints(e,\"timestampSec\",\"speed\"))}},{key:\"updateKappaGraph\",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(e=(i=o.next()).done);e=!0){var a=i.value;this.data.kappaGraph[a.name]=this.extractDataPoints(a.pathPoint,\"s\",\"kappa\")}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:\"updateDkappaGraph\",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=(0,d.default)(t);!(e=(i=o.next()).done);e=!0){var a=i.value;this.data.dkappaGraph[a.name]=this.extractDataPoints(a.pathPoint,\"s\",\"dkappa\")}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:\"updadteLatencyGraph\",value:function(t,e){for(var n in this.latencyGraph){var r=this.latencyGraph[n];if(r.length>0){var i=r[0].x,o=r[r.length-1].x,a=t-i;t<o?(this.latencyGraph[n]=[],r=this.latencyGraph[n]):a>3e5&&r.shift()}0!==r.length&&r[r.length-1].x===t||r.push({x:t,y:e.planning})}}},{key:\"update\",value:function(t,e){this.updateSequenceNum(t.sequenceNum),this.data=this.initData(),e&&(e.slFrame&&this.updateSLFrame(e.slFrame),e.stGraph&&(this.updateSTGraph(e.stGraph),this.updateSTSpeedGraph(e.stGraph)),e.speedPlan&&this.updateSpeed(e.speedPlan,t.planningTrajectory),e.path&&(this.updateKappaGraph(e.path),this.updateDkappaGraph(e.path))),t.latency&&this.updadteLatencyGraph(t.timestampSec,t.latency)}}]),t}(),s=o(a.prototype,\"sequenceNum\",[y.observable],{enumerable:!0,initializer:function(){return 0}}),o(a.prototype,\"updateSequenceNum\",[y.action],(0,f.default)(a.prototype,\"updateSequenceNum\"),a.prototype),a);e.default=x},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,c.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u,l=n(9),c=r(l),f=n(16),h=r(f),d=n(0),p=r(d),m=n(1),v=r(m),g=n(13),y=(a=function(){function t(){(0,p.default)(this,t),this.DEFAULT_MS_PER_FRAME=100,this.msPerFrame=this.DEFAULT_MS_PER_FRAME,this.jobId=null,this.mapId=null,i(this,\"numFrames\",s,this),i(this,\"currentFrame\",u,this)}return(0,v.default)(t,[{key:\"setMapId\",value:function(t){this.mapId=t}},{key:\"setJobId\",value:function(t){this.jobId=t}},{key:\"setPlayRate\",value:function(t){this.msPerFrame=this.DEFAULT_MS_PER_FRAME/t}},{key:\"setNumFrames\",value:function(t){t>0&&(this.numFrames=t,this.currentFrame=0)}},{key:\"resetCurrentFrame\",value:function(){this.currentFrame=0}},{key:\"updateCurrentFrameByPercentage\",value:function(t){this.currentFrame=Math.floor(this.numFrames*t/100)}},{key:\"initialized\",value:function(){return null!==this.numFrames&&0!==this.numFrames&&null!==this.jobId&&null!==this.mapId}},{key:\"hasNext\",value:function(){return this.initialized()&&this.currentFrame<this.numFrames}},{key:\"next\",value:function(){return++this.currentFrame}},{key:\"percentage\",get:function(){return this.currentFrame/this.numFrames*100}},{key:\"totalTimeSec\",get:function(){return((this.numFrames-1)*this.DEFAULT_MS_PER_FRAME/1e3).toFixed(2)}},{key:\"currentTimeSec\",get:function(){return(Math.max(0,this.currentFrame-1)*this.DEFAULT_MS_PER_FRAME/1e3).toFixed(2)}},{key:\"replayComplete\",get:function(){return this.currentFrame>=this.numFrames}}]),t}(),s=o(a.prototype,\"numFrames\",[g.observable],{enumerable:!0,initializer:function(){return null}}),u=o(a.prototype,\"currentFrame\",[g.observable],{enumerable:!0,initializer:function(){return null}}),o(a.prototype,\"setNumFrames\",[g.action],(0,h.default)(a.prototype,\"setNumFrames\"),a.prototype),o(a.prototype,\"resetCurrentFrame\",[g.action],(0,h.default)(a.prototype,\"resetCurrentFrame\"),a.prototype),o(a.prototype,\"updateCurrentFrameByPercentage\",[g.action],(0,h.default)(a.prototype,\"updateCurrentFrameByPercentage\"),a.prototype),o(a.prototype,\"percentage\",[g.computed],(0,h.default)(a.prototype,\"percentage\"),a.prototype),o(a.prototype,\"totalTimeSec\",[g.computed],(0,h.default)(a.prototype,\"totalTimeSec\"),a.prototype),o(a.prototype,\"currentTimeSec\",[g.computed],(0,h.default)(a.prototype,\"currentTimeSec\"),a.prototype),o(a.prototype,\"replayComplete\",[g.computed],(0,h.default)(a.prototype,\"replayComplete\"),a.prototype),o(a.prototype,\"next\",[g.action],(0,h.default)(a.prototype,\"next\"),a.prototype),a);e.default=y},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,c.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u,l=n(9),c=r(l),f=n(16),h=r(f),d=n(0),p=r(d),m=n(1),v=r(m),g=n(13),y=n(32),b=r(y),x=(a=function(){function t(){(0,p.default)(this,t),i(this,\"defaultRoutingEndPoint\",s,this),i(this,\"currentPOI\",u,this)}return(0,v.default)(t,[{key:\"updateDefaultRoutingEndPoint\",value:function(t){if(void 0!==t.poi){this.defaultRoutingEndPoint={};for(var e=0;e<t.poi.length;++e){var n=t.poi[e];this.defaultRoutingEndPoint[n.name]=n.waypoint}}}},{key:\"addDefaultEndPoint\",value:function(t){return _.isEmpty(this.defaultRoutingEndPoint)?void alert(\"Failed to get default routing end point, make sure there's a default end point file under the map data directory.\"):void 0!==t&&\"\"!==t&&t in this.defaultRoutingEndPoint?(this.currentPOI=t,void b.default.addDefaultEndPoint(this.defaultRoutingEndPoint[t])):void alert(\"Please select a valid POI.\")}},{key:\"enableRouteEditing\",value:function(){b.default.enableRouteEditing()}},{key:\"disableRouteEditing\",value:function(){b.default.disableRouteEditing()}},{key:\"removeLastRoutingPoint\",value:function(){b.default.removeLastRoutingPoint()}},{key:\"removeAllRoutingPoints\",value:function(){b.default.removeAllRoutingPoints()}},{key:\"sendRoutingRequest\",value:function(){var t=b.default.sendRoutingRequest();return t&&this.disableRouteEditing(),t}}]),t}(),s=o(a.prototype,\"defaultRoutingEndPoint\",[g.observable],{enumerable:!0,initializer:function(){return{}}}),u=o(a.prototype,\"currentPOI\",[g.observable],{enumerable:!0,initializer:function(){return\"none\"}}),o(a.prototype,\"updateDefaultRoutingEndPoint\",[g.action],(0,h.default)(a.prototype,\"updateDefaultRoutingEndPoint\"),a.prototype),o(a.prototype,\"addDefaultEndPoint\",[g.action],(0,h.default)(a.prototype,\"addDefaultEndPoint\"),a.prototype),a);e.default=x},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,l.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u=n(9),l=r(u),c=n(16),f=r(c),h=n(0),d=r(h),p=n(1),m=r(p),v=n(13),g=(a=function(){function t(){(0,d.default)(this,t),i(this,\"color\",s,this)}return(0,m.default)(t,[{key:\"update\",value:function(t){void 0!==t.trafficSignal&&(this.color=t.trafficSignal.currentSignal)}}]),t}(),s=o(a.prototype,\"color\",[v.observable],{enumerable:!0,initializer:function(){return\"\"}}),o(a.prototype,\"update\",[v.action],(0,f.default)(a.prototype,\"update\"),a.prototype),a);e.default=g},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,r){n&&(0,c.default)(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(t){o[t]=r[t]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,(\"value\"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var a,s,u,l=n(9),c=r(l),f=n(16),h=r(f),d=n(0),p=r(d),m=n(1),v=r(m),g=n(13),y=n(230),b=r(y),x=(a=function(){function t(){(0,p.default)(this,t),i(this,\"path\",s,this),i(this,\"startTime\",u,this),this.file=null,this.offset=null}return(0,v.default)(t,[{key:\"setPath\",value:function(t){this.path=t}},{key:\"setStartTime\",value:function(t){this.startTime=t}},{key:\"resetVideo\",value:function(){this.path=\"\",this.startTime=0,this.file=null,this.offset=null}},{key:\"isValidType\",value:function(e){return e&&t.VALID_TYPE().includes(e)}},{key:\"readBlock\",value:function(t){var e=new FileReader,n=this.file.slice(this.offset,this.offset+8);e.onload=t,e.readAsArrayBuffer(n)}},{key:\"findMoovAtom\",value:function(t){if(t.target.error)return void console.error(\"ERROR:\",t.target.error);var e=t.target.result,n=new b.default(new Uint8Array(e)),r=n.getString(4,4),i=n.getUint32(0),o=\"moov\"===r;this.offset=o?this.offset+t.target.result.byteLength:this.offset+i;var a=o?this.findMovieHeaderAtom.bind(this):this.findMoovAtom.bind(this);this.offset<=this.file.size?this.readBlock(a):console.warn(\"Cannot find video creation time.\")}},{key:\"findMovieHeaderAtom\",value:function(t){if(t.target.error)return void console.error(\"ERROR:\",t.target.error);var e=t.target.result,n=new b.default(new Uint8Array(e)),r=n.getString(4,4);n.getUint32(0);return\"cmov\"===r?void console.warn(\"Cannot find video creation time: moov atom is compressed.\"):\"mvhd\"!==r?void console.warn(\"Cannot find video creation time: expected header 'mvhd' not found.\"):(this.offset=this.offset+t.target.result.byteLength+4,void(this.offset<=this.file.size?this.readBlock(this.findCreationTime.bind(this)):console.warn(\"Cannot find video creation time.\")))}},{key:\"findCreationTime\",value:function(t){if(t.target.error)return void console.error(\"ERROR:\",t.target.error);var e=t.target.result,n=new b.default(new Uint8Array(e)),r=n.getUint32(0),i=r-2082844800;this.setStartTime(i)}},{key:\"extractCreationTime\",value:function(t){this.file=t,this.offset=0,this.readBlock(this.findMoovAtom.bind(this))}},{key:\"setVideo\",value:function(t){var e=window.URL||window.webkitURL,n=e.createObjectURL(t);this.isValidType(t.type)?(this.setPath(n),this.extractCreationTime(t)):alert(\"Invalid file found. Please select mp4 video only.\")}},{key:\"showVideo\",get:function(){return void 0!==this.path&&0!==this.path.length}}],[{key:\"VALID_TYPE\",value:function(){return[\"video/mp4\",\"video/quicktime\"]}}]),t}(),s=o(a.prototype,\"path\",[g.observable],{enumerable:!0,initializer:function(){return\"\"}}),u=o(a.prototype,\"startTime\",[g.observable],{enumerable:!0,initializer:function(){return 0}}),o(a.prototype,\"setPath\",[g.action],(0,h.default)(a.prototype,\"setPath\"),a.prototype),o(a.prototype,\"setStartTime\",[g.action],(0,h.default)(a.prototype,\"setStartTime\"),a.prototype),o(a.prototype,\"resetVideo\",[g.action],(0,h.default)(a.prototype,\"resetVideo\"),a.prototype),o(a.prototype,\"showVideo\",[g.computed],(0,h.default)(a.prototype,\"showVideo\"),a.prototype),a);e.default=x},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(72),o=r(i),a=n(0),s=r(a),u=n(1),l=r(u),c=n(94),f=(r(c),n(14)),h=r(f),d=n(32),p=r(d),m=function(){function t(e){(0,s.default)(this,t),this.serverAddr=e,this.websocket=null,this.lastUpdateTimestamp=0,this.lastSeqNum=-1}return(0,l.default)(t,[{key:\"initialize\",value:function(t){var e=this;if(!(t&&t.url&&t.id&&t.mapId))return void console.error(\"ERROR: missing required parameter(s)\");this.serverUrl=location.protocol+\"//\"+t.url,h.default.playback.setJobId(t.id),h.default.playback.setMapId(t.mapId);try{this.websocket=new WebSocket(this.serverAddr)}catch(n){return console.error(\"Failed to establish a connection: \"+n),void setTimeout(function(){e.initialize(t)},1e3)}this.websocket.onopen=function(t){e.requestGroundMeta(h.default.playback.mapId)},this.websocket.onmessage=function(t){var n=JSON.parse(t.data);switch(n.type){case\"GroundMetadata\":p.default.updateGroundMetadata(e.serverUrl,n.data),e.requstFrameCount(h.default.playback.jobId);break;case\"FrameCount\":h.default.playback.setNumFrames(n.data),e.requestSimulationWorld(h.default.playback.jobId,h.default.playback.next());break;case\"SimWorldUpdate\":e.checkMessage(n),h.default.setInitializationStatus(!0),h.default.updateTimestamp(n.timestamp),h.default.updateWorldTimestamp(n.world.timestampSec),p.default.maybeInitializeOffest(n.world.autoDrivingCar.positionX,n.world.autoDrivingCar.positionY),p.default.updateWorld(n.world,n.planningData),h.default.meters.update(n.world),h.default.monitor.update(n.world),h.default.trafficSignal.update(n.world)}},this.websocket.onclose=function(n){console.log(\"WebSocket connection closed, close_code: \"+n.code),e.initialize(t)}}},{key:\"checkMessage\",value:function(t){0!==this.lastUpdateTimestamp&&t.timestamp-this.lastUpdateTimestamp>150&&console.log(\"Last sim_world_update took \"+(t.timestamp-this.lastUpdateTimestamp)+\"ms\"),this.lastUpdateTimestamp=t.timestamp,-1!==this.lastSeqNum&&t.world.sequenceNum>this.lastSeqNum+1&&console.debug(\"Last seq: \"+this.lastSeqNum+\". New seq: \"+t.world.sequenceNum+\".\"),this.lastSeqNum=t.world.sequenceNum}},{key:\"startPlayback\",value:function(t){var e=this;clearInterval(this.timer),this.timer=setInterval(function(){e.websocket.readyState===e.websocket.OPEN&&h.default.playback.initialized()&&(e.requestSimulationWorld(h.default.playback.jobId,h.default.playback.next()),h.default.playback.hasNext()||clearInterval(e.timer))},t)}},{key:\"pausePlayback\",value:function(){clearInterval(this.timer)}},{key:\"requestGroundMeta\",value:function(t){this.websocket.send((0,o.default)({type:\"RetrieveGroundMeta\",mapId:t}))}},{key:\"requstFrameCount\",value:function(t){this.websocket.send((0,o.default)({type:\"RetrieveFrameCount\",jobId:t}))}},{key:\"requestSimulationWorld\",value:function(t,e){this.websocket.send((0,o.default)({type:\"RequestSimulationWorld\",jobId:t,frameId:e}))}}]),t}();e.default=m},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=n(156),o=r(i),a=n(72),s=r(a),u=n(0),l=r(u),c=n(1),f=r(c),h=n(14),d=r(h),p=n(32),m=r(p),v=function(){function t(e){(0,l.default)(this,t),this.serverAddr=e,this.websocket=null,this.counter=0,this.lastUpdateTimestamp=0,this.lastSeqNum=-1,this.currMapRadius=null,this.updatePOI=!0}return(0,f.default)(t,[{key:\"initialize\",value:function(){var t=this;this.counter=0;try{this.websocket=new WebSocket(this.serverAddr)}catch(e){return console.error(\"Failed to establish a connection: \"+e),void setTimeout(function(){t.initialize()},1e3)}this.websocket.onmessage=function(e){var n=JSON.parse(e.data);switch(n.type){case\"HMIConfig\":d.default.hmi.initialize(n.data);break;case\"HMIStatus\":d.default.hmi.updateStatus(n.data);break;case\"SimWorldUpdate\":t.checkMessage(n),d.default.updateTimestamp(n.timestamp),d.default.updateWorldTimestamp(n.world.timestampSec),m.default.maybeInitializeOffest(n.world.autoDrivingCar.positionX,n.world.autoDrivingCar.positionY),m.default.updateWorld(n.world,n.planningData),d.default.meters.update(n.world),d.default.monitor.update(n.world),d.default.trafficSignal.update(n.world),d.default.options.showPNCMonitor&&d.default.planning.update(n.world,n.planningData),n.mapHash&&t.counter%10==0&&(t.counter=0,t.currMapRadius=n.mapRadius,m.default.updateMapIndex(n.mapHash,n.mapElementIds,n.mapRadius)),t.counter+=1;break;case\"MapElements\":m.default.updateMapIndex(n.mapHash,n.mapElementIds,n.mapRadius);break;case\"MapData\":m.default.updateMap(n.data),d.default.setInitializationStatus(!0);break;case\"DefaultEndPoint\":d.default.routeEditingManager.updateDefaultRoutingEndPoint(n)}},this.websocket.onclose=function(e){console.log(\"WebSocket connection closed, close_code: \"+e.code),t.initialize()},clearInterval(this.timer),this.timer=setInterval(function(){if(t.websocket.readyState===t.websocket.OPEN){t.updatePOI&&(t.requestDefaultRoutingEndPoint(),t.updatePOI=!1);var e=d.default.options.showPNCMonitor;t.websocket.send((0,s.default)({type:\"RequestSimulationWorld\",planning:e}))}},100)}},{key:\"checkMessage\",value:function(t){0!==this.lastUpdateTimestamp&&t.timestamp-this.lastUpdateTimestamp>150&&console.log(\"Last sim_world_update took \"+(t.timestamp-this.lastUpdateTimestamp)+\"ms\"),this.lastUpdateTimestamp=t.timestamp,-1!==this.lastSeqNum&&t.world.sequenceNum>this.lastSeqNum+1&&console.debug(\"Last seq: \"+this.lastSeqNum+\". New seq: \"+t.world.sequenceNum+\".\"),this.lastSeqNum=t.world.sequenceNum}},{key:\"requestMapData\",value:function(t){this.websocket.send((0,s.default)({type:\"RetrieveMapData\",elements:t}))}},{key:\"requestMapElementsByRadius\",value:function(t){this.websocket.send((0,s.default)({type:\"RetrieveMapElementsByRadius\",radius:t}))}},{key:\"requestRoute\",value:function(t,e,n){this.websocket.send((0,s.default)({type:\"SendRoutingRequest\",start:t,end:n,waypoint:e}))}},{key:\"requestDefaultRoutingEndPoint\",value:function(){this.websocket.send((0,s.default)({type:\"GetDefaultEndPoint\"}))}},{key:\"resetBackend\",value:function(){this.websocket.send((0,s.default)({type:\"Reset\"}))}},{key:\"dumpMessages\",value:function(){this.websocket.send((0,s.default)({type:\"Dump\"}))}},{key:\"changeSetupMode\",value:function(t){this.websocket.send((0,s.default)({type:\"ChangeMode\",new_mode:t}))}},{key:\"changeMap\",value:function(t){this.websocket.send((0,s.default)({type:\"ChangeMap\",new_map:t})),this.updatePOI=!0}},{key:\"changeVehicle\",value:function(t){this.websocket.send((0,s.default)({type:\"ChangeVehicle\",new_vehicle:t}))}},{key:\"executeModeCommand\",value:function(t){this.websocket.send((0,s.default)((0,o.default)({type:\"ExecuteModeCommand\",command:t},\"command\",t)))}},{key:\"executeModuleCommand\",value:function(t,e){this.websocket.send((0,s.default)((0,o.default)({type:\"ExecuteModuleCommand\",module:t,command:e},\"command\",e)))}},{key:\"executeToolCommand\",value:function(t,e){this.websocket.send((0,s.default)((0,o.default)({type:\"ExecuteToolCommand\",tool:t,command:e},\"command\",e)))}},{key:\"changeDrivingMode\",value:function(t){this.websocket.send((0,s.default)({type:\"ChangeDrivingMode\",new_mode:t}))}}]),t}();e.default=v},function(t,e,n){e=t.exports=n(213)(void 0),e.push([t.i,'.playback-controls{z-index:100;position:absolute;width:100%;bottom:0;background:#1d2226;font-size:16px;min-width:550px}@media (max-height:800px){.playback-controls{font-size:14px}}.playback-controls .icon{display:inline-block;float:left;width:20px;height:20px;padding:10px;cursor:pointer}.playback-controls .icon .play{stroke-linejoin:round;stroke-width:1.5px;stroke:#006aff;fill:#1d2226}.playback-controls .icon .pause,.playback-controls .icon .replay{stroke-linejoin:round;stroke-width:1.5px;stroke:#006aff;fill:#006aff}.playback-controls .icon .replay{top:2px}.playback-controls .rate-selector{position:absolute;left:40px}.playback-controls .rate-selector select{display:block;border:none;padding:11px 23px 0 5px;color:#fff;background:#1d2226;outline:none;cursor:pointer;font-size:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.playback-controls .rate-selector .arrow{position:absolute;top:5px;right:0;width:10px;height:100%;pointer-events:none}.playback-controls .rate-selector .arrow:before{position:absolute;top:65%;right:7px;margin-top:-5px;border-top:8px solid #666;border-left:8px solid transparent;border-right:8px solid transparent;content:\"\";pointer-events:none}.playback-controls .scrubber{position:absolute;min-width:300px;left:120px;right:135px;top:7px}.playback-controls .scrubber .rangeslider{position:relative;margin:10px 0;height:7px;border-radius:10px;background:#2d3b50;-ms-touch-action:none;touch-action:none}.playback-controls .scrubber .rangeslider .rangeslider__fill{display:block;height:100%;border-radius:10px;background-color:#006aff;background:#006aff}.playback-controls .scrubber .rangeslider .rangeslider__handle{display:inline-block;position:absolute;height:16px;width:16px;top:50%;transform:translate3d(-50%,-50%,0);border:1px solid #006aff;border-radius:100%;background:#006aff;cursor:pointer;box-shadow:none}.playback-controls .time-display{position:absolute;top:11px;right:15px;color:#fff}body{margin:0;overflow:hidden;background-color:#14171a!important;font:14px Lucida Grande,Helvetica,Arial,sans-serif;color:#fff}::-webkit-scrollbar{width:4px;height:8px;opacity:.3;background-color:#fff}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}::-webkit-scrollbar-thumb{opacity:.8;background-color:#30a5ff}::-webkit-scrollbar-thumb:active{background-color:#30a5ff}.header{display:flex;align-items:center;z-index:100;position:relative;top:0;left:0;height:60px;background:#000;color:#fff;font-size:16px;text-align:left}@media (max-height:800px){.header{height:55px;font-size:14px}}.header .apollo-logo{flex:0 0 auto;top:40px;left:40px;height:40px;width:121px;margin:10px auto 0 18px}@media (max-height:800px){.header .apollo-logo{top:15px;left:25px;height:25px;width:80px;margin-top:5px}}.header .selector{flex:0 0 auto;position:relative;margin:5px;border:1px solid #383838}.header .selector select{display:block;border:none;padding:.5em 3em .5em .5em;background:#000;color:#fff;outline:none;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.header .selector .arrow{position:absolute;top:0;right:0;width:30px;height:100%;border-left:1px solid #383838;background:#181818;pointer-events:none}.header .selector .arrow:before{position:absolute;top:55%;right:7px;margin-top:-5px;border-top:8px solid #666;border-left:8px solid transparent;border-right:8px solid transparent;content:\"\";pointer-events:none}.pane-container{position:absolute;width:100%;height:calc(100% - 60px)}@media (max-height:800px){.pane-container{height:calc(100% - 55px)}}.pane-container .left-pane{display:flex;flex-flow:row nowrap;align-items:stretch;position:absolute;bottom:0;top:0;width:100%}.pane-container .left-pane .dreamview-body{display:flex;flex-flow:column nowrap;flex:1 1 auto;overflow:hidden}.pane-container .left-pane .dreamview-body .main-view{flex:0 0 auto;position:relative}.pane-container .right-pane{position:absolute;right:0;width:100%;height:100%;overflow:hidden}.pane-container .SplitPane .Resizer{background:#000;opacity:.2;z-index:1;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-moz-background-clip:padding;-webkit-background-clip:padding;background-clip:padding-box}.pane-container .SplitPane .Resizer:hover{-webkit-transition:all 2s ease;transition:all 2s ease}.pane-container .SplitPane .Resizer.vertical{width:11px;margin:0 -5px;border-left:5px solid hsla(0,0%,100%,0);border-right:5px solid hsla(0,0%,100%,0);cursor:col-resize}.pane-container .SplitPane .Resizer.vertical:hover{border-left:5px solid rgba(0,0,0,.5);border-right:5px solid rgba(0,0,0,.5)}.pane-container .SplitPane .Resizer.disabled{cursor:auto}.pane-container .SplitPane .Resizer.disabled:hover{border-color:transparent}.dreamview-canvas{z-index:1;position:absolute}.dreamview-canvas .geolocation{z-index:10;position:absolute;bottom:10px;right:10px;color:#fff}.hidden{display:none}.tools{display:flex;flex-flow:row nowrap;align-items:stretch;flex:1 1 auto;margin-top:3px;overflow:hidden}.tools .card{flex:1 1 auto;border-right:3px solid #000;padding:25px 10px 25px 20px;background:#1d2226}@media (max-height:800px){.tools .card{padding:15px 5px 15px 15px}}.tools .card .card-header{width:100%;padding-bottom:15px;font-size:18px}.tools .card .card-header span{width:200px;border-bottom:1px solid #999;padding:10px 10px 10px 0}@media (max-height:800px){.tools .card .card-header{font-size:16px}}.tools .card .card-content-row{display:flex;flex-flow:row wrap;align-content:flex-start;overflow-x:hidden;overflow-y:auto;height:85%}.tools .card .card-content-column{display:flex;flex-flow:column nowrap;overflow-x:hidden;overflow-y:auto;height:85%}.tools ul{flex:0 0 auto;margin:0;padding-left:0;padding-right:5px;background-color:#1d2226;color:#999;list-style:none;cursor:pointer;font-size:12px}.tools ul li{line-height:40px}.tools ul li span{padding-left:20px}.tools ul li:hover{color:#fff;background-color:#2a3238}.tools .switch{display:inline-block;position:relative;width:40px;transform:translate(35%,25%)}.tools .switch .toggle-switch{display:none}.tools .switch .toggle-switch-label{display:block;overflow:hidden;cursor:pointer;height:20px;padding:0;line-height:20px;border:0;background-color:#3f4548;transition:background-color .2s ease-in}.tools .switch .toggle-switch-label:before{content:\"\";display:block;width:16px;margin:2px;background:#a0a0a0;position:absolute;top:0;bottom:0;right:20px;transition:all .2s ease-in}.tools .switch .toggle-switch:checked+.toggle-switch-label{background-color:#0e3d62}.tools .switch .toggle-switch:checked+.toggle-switch-label,.tools .switch .toggle-switch:checked+.toggle-switch-label:before{border-color:#0e3d62}.tools .switch .toggle-switch:checked+.toggle-switch-label:before{right:0;background-color:#30a5ff}.tools .nav-side-menu{display:flex;flex-flow:row nowrap;align-items:stretch;flex:2 1 auto;z-index:10!important;margin-right:3px;overflow-y:hidden;overflow-x:auto;background:#1d2226;font-size:14px;color:#fff;text-align:left;white-space:nowrap}.tools .nav-side-menu .summary{line-height:50px}@media (max-height:800px){.tools .nav-side-menu .summary{line-height:25px}}.tools .nav-side-menu .summary img{position:relative;width:30px;height:30px;transform:translate(-30%,25%)}@media (max-height:800px){.tools .nav-side-menu .summary img{width:15px;height:15px;transform:translate(-50%,10%)}}.tools .nav-side-menu .summary span{padding-left:10px}.tools .nav-side-menu input[type=radio]{display:none}.tools .nav-side-menu .radio-selector-label{display:inline-block;position:relative;transform:translate(65%,30%);box-sizing:border-box;-webkit-box-sizing:border-box;width:25px;height:25px;margin-right:6px;border-radius:50%;-webkit-border-radius:50%;background-color:#a0a0a0;box-shadow:inset 1px 0 #a0a0a0;border:7px solid #3f4548}.tools .nav-side-menu input[type=radio]:checked+.radio-selector-label{border:7px solid #0e3d62;background-color:#30a5ff}.tools .console{z-index:10;position:relative;min-width:230px;margin:0;border:none;padding:0;overflow-y:auto;overflow-x:hidden}.tools .console .monitor-item{display:flex;list-style-type:none;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;border-top:1px solid #333;padding:10px}.tools .console .monitor-item .icon{height:20px;width:20px}@media (max-height:800px){.tools .console .monitor-item .icon{height:15px;width:15px}}.tools .console .monitor-item .text{position:relative;width:100%;margin-left:10px;line-height:150%;font-size:12px;character:0;line:20px}.tools .console .monitor-item .alert{color:#d7466f}.tools .console .monitor-item .warn{color:#a3842d}.tools .poi-button{min-width:190px}.side-bar{display:flex;flex:0 0 auto;z-index:100;background:#1d2226;border-right:3px solid #000;overflow-y:auto;overflow-x:hidden}.side-bar .button{display:block;height:60px;width:90px;border:none;border-bottom:1px solid hsla(0,0%,100%,.1);padding:2px;font-size:14px;text-align:center;background:#1d2226;color:#999;cursor:pointer}@media (max-height:800px){.side-bar .button{font-size:12px;width:80px}}.side-bar .button:focus{outline:0}.side-bar .button:disabled{color:#414141}.side-bar .active{color:#fff;background:#2a3238}.status-bar{z-index:10;position:absolute;top:0;left:0;width:100%}.status-bar .auto-meter{position:absolute;width:224px;height:112px;top:10px;right:20px;background:rgba(0,0,0,.8)}.status-bar .auto-meter .speed-read{position:absolute;top:27px;left:15px;font-family:Arial;font-weight:lighter;font-size:35px;color:#fff}.status-bar .auto-meter .speed-unit{position:absolute;top:66px;left:17px;color:#fff;font-size:15px}.status-bar .auto-meter .brake-panel{position:absolute;top:21px;right:2px}.status-bar .auto-meter .throttle-panel{position:absolute;top:61px;right:2px}.status-bar .auto-meter .meter-container .meter-label{font-size:13px;color:#fff}.status-bar .auto-meter .meter-container .meter-head{display:inline-block;position:absolute;margin:5px 0 0;border-width:4px;border-style:solid}.status-bar .auto-meter .meter-container .meter-background{position:relative;display:block;height:2px;width:120px;margin:8px}.status-bar .auto-meter .meter-container .meter-background span{position:relative;overflow:hidden;display:block;height:100%}.status-bar .wheel-panel{display:flex;flex-direction:row;justify-content:left;align-items:center;position:absolute;top:128px;right:20px;width:187px;height:92px;padding:10px 22px 10px 15px;background:rgba(0,0,0,.8)}.status-bar .wheel-panel .steerangle-read{font-family:Arial;font-weight:lighter;font-size:35px;color:#fff}.status-bar .wheel-panel .steerangle-unit{padding:20px 10px 0 3px;color:#fff;font-size:13px}.status-bar .wheel-panel .left-arrow{position:absolute;top:45px;right:115px;width:0;height:0;border-style:solid;border-width:12px 15px 12px 0;border-color:transparent}.status-bar .wheel-panel .right-arrow{position:absolute;top:45px;right:15px;width:0;height:0;border-style:solid;border-width:12px 0 12px 15px;border-color:transparent transparent transparent #30435e}.status-bar .wheel-panel .wheel{position:absolute;top:15px;right:33px}.status-bar .wheel-panel .wheel-background{stroke-width:3px;stroke:#006aff}.status-bar .wheel-panel .wheel-arm{stroke-width:3px;stroke:#006aff;fill:#006aff}.status-bar .traffic-light-indicator{position:absolute;top:246px;right:20px;width:224px;height:35px}.status-bar .traffic-light-indicator .traffic-light{position:absolute;top:4px;left:4px;width:28px;height:28px}.status-bar .traffic-light-indicator .driving-mode{position:absolute;right:0;padding:10px}.status-bar .auto-mode{background:linear-gradient(90deg,rgba(0,0,0,.8),rgba(7,33,72,.8));border-right:1px solid #006aff;color:#006aff}.status-bar .manual-mode{background:linear-gradient(90deg,rgba(0,0,0,.8),rgba(39,27,27,.8));color:#b43131;border-right:1px solid #b43131}.status-bar .notification-warn{position:absolute;top:10px;right:260px;width:260px;display:flex;list-style-type:none;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;border-top:1px solid #333;padding:10px;border:1px solid #a3842d;background-color:rgba(52,39,5,.3)}.status-bar .notification-warn .icon{height:20px;width:20px}@media (max-height:800px){.status-bar .notification-warn .icon{height:15px;width:15px}}.status-bar .notification-warn .text{position:relative;width:100%;margin-left:10px;line-height:150%;font-size:12px;character:0;line:20px}.status-bar .notification-warn .alert{color:#d7466f}.status-bar .notification-warn .warn{color:#a3842d}.status-bar .notification-alert{position:absolute;top:10px;right:260px;width:260px;display:flex;list-style-type:none;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:center;border-top:1px solid #333;padding:10px;border:1px solid #d7466f;background-color:rgba(74,5,24,.3)}.status-bar .notification-alert .icon{height:20px;width:20px}@media (max-height:800px){.status-bar .notification-alert .icon{height:15px;width:15px}}.status-bar .notification-alert .text{position:relative;width:100%;margin-left:10px;line-height:150%;font-size:12px;character:0;line:20px}.status-bar .notification-alert .alert{color:#d7466f}.status-bar .notification-alert .warn{color:#a3842d}.quick-starter{z-index:10}.quick-starter .command-group{display:flex;flex-flow:row nowrap;justify-content:flex-start;flex:1 1 auto;min-height:40px}.quick-starter .command-group .name{width:40px;padding:15px}.quick-starter .command-group button{flex:1 1 auto;margin:5px;border:0;color:#999;border-bottom:1px solid #006aff;background:linear-gradient(rgba(0,0,0,.8),rgba(3,19,41,.8));outline:none;cursor:pointer}.quick-starter .command-group button:hover{color:#fff;background:#2a3238}.module-controller{display:flex;flex-flow:row nowrap;align-items:stretch;flex:1 1 auto;z-index:10;margin-right:3px;overflow:hidden}.module-controller .controller{min-width:180px}.module-controller .modules-container{flex-flow:column wrap}.module-controller .status-display{min-width:250px;padding:5px}.module-controller .status-display .name{display:inline-block;padding:10px;min-width:80px}.module-controller .status-display .status{display:inline-block;position:relative;width:130px;padding:10px;background:#000;white-space:nowrap}.module-controller .status-display .status .status-icon{position:absolute;right:10px;width:15px;height:15px;background-color:#b43131}.route-editing-bar{z-index:10;position:absolute;top:0;left:0;right:0;min-height:90px;border-bottom:3px solid #000;padding-left:10px;background:#1d2226}@media (max-height:800px){.route-editing-bar{min-height:60px}}.route-editing-bar .editing-panel{display:flex;justify-content:center;align-items:center;overflow:hidden;white-space:nowrap}.route-editing-bar .editing-panel .button{height:90px;border:none;padding:10px;background:#1d2226;outline:none;color:#999}@media (max-height:800px){.route-editing-bar .editing-panel .button{height:60px;padding:5px}}.route-editing-bar .editing-panel .button img{display:block;top:23px;margin:15px auto}@media (max-height:800px){.route-editing-bar .editing-panel .button img{top:13px;margin:5px auto}}.route-editing-bar .editing-panel .button span{font-family:PingFangSC-Light;font-size:14px;color:#d8d8d8;text-align:center}@media (max-height:800px){.route-editing-bar .editing-panel .button span{font-size:12px}}.route-editing-bar .editing-panel .button:hover{background:#2a3238}.route-editing-bar .editing-panel .active{color:#fff;background:#2a3238}.route-editing-bar .editing-panel .editing-tip{height:90px;width:90px;margin-left:auto;border:none;color:#d8d8d8;font-size:35px}@media (max-height:800px){.route-editing-bar .editing-panel .editing-tip{height:60px;width:60px;font-size:20px}}.route-editing-bar .editing-panel .editing-tip p{position:absolute;top:120%;right:15px;width:400px;border-radius:3px;padding:20px;background-color:#fff;color:#999;font-size:14px;text-align:left;white-space:pre-wrap}@media (max-height:800px){.route-editing-bar .editing-panel .editing-tip p{right:5px}}.route-editing-bar .editing-panel .editing-tip p:before{position:absolute;top:-20px;right:13px;content:\"\";border-style:solid;border-width:0 20px 20px;border-color:transparent transparent #fff}@-moz-document url-prefix(){.route-editing-bar .editing-panel .editing-tip p:before{top:-38px}}@media (max-height:800px){.route-editing-bar .editing-panel .editing-tip p:before{right:8px}}.loader{flex:0 0 auto;position:relative;background-color:#000c17}.loader .img-container{position:relative;top:35%;left:35%;width:30%;height:40%}.loader .img-container img{width:100%;height:auto}.loader .img-container .status-message{margin-top:10px;font-size:18px;color:#fff;text-align:center;animation-name:flash;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite;animation-direction:alternate;animation-play-state:running}@keyframes flash{0%{color:#fff}to{color:#000c17}}.dashcam-player{z-index:1;position:absolute;top:0;left:0;color:#fff}.dashcam-player video{max-width:380px;max-height:300px}@media (max-height:800px){.dashcam-player video{max-width:300px;max-height:200px}}.dashcam-player .controls{display:flex;justify-content:flex-end;z-index:10;position:absolute;right:0}.dashcam-player .controls button{width:27px;height:27px;border:none;background-color:#000;opacity:.6;color:#fff}.dashcam-player .controls button img{width:15px}.dashcam-player .controls button:hover{opacity:.9}.dashcam-player .controls .close{font-size:20px}.dashcam-player .controls .syncup{padding-top:.5em}.pnc-monitor{height:100%;background-color:#fff;overflow:auto}.pnc-monitor .scatter-graph{margin:5px;border:1px solid #d0d8dd;box-shadow:4px 4px 2px #d0d8dd}',\"\"])},function(t,e,n){t.exports={default:n(160),__esModule:!0}},function(t,e,n){t.exports={default:n(163),__esModule:!0}},function(t,e,n){t.exports={default:n(165),__esModule:!0}},function(t,e,n){t.exports={default:n(170),__esModule:!0}},function(t,e,n){t.exports={default:n(171),__esModule:!0}},function(t,e,n){t.exports={default:n(172),__esModule:!0}},function(t,e,n){t.exports={default:n(173),__esModule:!0}},function(t,e,n){\"use strict\";e.__esModule=!0;var r=n(9),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){\"use strict\";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){\"use strict\";function r(t){var e=t.length;if(e%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");return\"=\"===t[e-2]?2:\"=\"===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,a,s,u=t.length;a=r(t),s=new f(3*u/4-a),i=a>0?u-4:u;var l=0;for(e=0,n=0;e<i;e+=4,n+=3)o=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[l++]=o>>16&255,s[l++]=o>>8&255,s[l++]=255&o;return 2===a?(o=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[l++]=255&o):1===a&&(o=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[l++]=o>>8&255,s[l++]=255&o),s}function a(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function s(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(r));return i.join(\"\")}function u(t){for(var e,n=t.length,r=n%3,i=\"\",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(t,a,a+16383>u?u:a+16383));return 1===r?(e=t[n-1],i+=l[e>>2],i+=l[e<<4&63],i+=\"==\"):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=l[e>>10],i+=l[e>>4&63],i+=l[e<<2&63],i+=\"=\"),o.push(i),o.join(\"\")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=u;for(var l=[],c=[],f=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,h=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",d=0,p=h.length;d<p;++d)l[d]=h[d],c[h.charCodeAt(d)]=d;c[\"-\".charCodeAt(0)]=62,c[\"_\".charCodeAt(0)]=63},function(t,e,n){\"use strict\";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError(\"Invalid typed array length\");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if(\"number\"==typeof t){if(\"string\"==typeof e)throw new Error(\"If encoding is specified then the first argument must be a string\");return l(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if(\"number\"==typeof e)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):\"string\"==typeof e?c(t,e,n):d(t,e)}function s(t){if(\"number\"!=typeof t)throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function u(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?\"string\"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function l(t,e){if(s(e),t=i(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if(\"string\"==typeof n&&\"\"!==n||(n=\"utf8\"),!o.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var r=0|v(e,n);t=i(t,r);var a=t.write(e,n);return a!==r&&(t=t.slice(0,a)),t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<n+(r||0))throw new RangeError(\"'length' is out of bounds\");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=f(t,e),t}function d(t,e){if(o.isBuffer(e)){var n=0|p(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if(\"undefined\"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!=typeof e.length||Z(e.length)?i(t,0):f(t,e);if(\"Buffer\"===e.type&&Q(e.data))return f(t,e.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}function p(t){if(t>=r())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+r().toString(16)+\" bytes\");return 0|t}function m(t){return+t!=t&&(t=0),o.alloc(+t)}function v(t,e){if(o.isBuffer(t))return t.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;\"string\"!=typeof t&&(t=\"\"+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return G(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return X(t).length;default:if(r)return G(t).length;e=(\"\"+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if(n>>>=0,e>>>=0,n<=e)return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return L(this,e,n);case\"utf8\":case\"utf-8\":return P(this,e,n);case\"ascii\":return R(this,e,n);case\"latin1\":case\"binary\":return O(this,e,n);case\"base64\":return A(this,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return k(this,e,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if(\"string\"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(\"string\"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:x(t,e,n,r,i);if(\"number\"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):x(t,[e],n,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function x(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&(\"ucs2\"===(r=String(r).toLowerCase())||\"ucs-2\"===r||\"utf16le\"===r||\"utf-16le\"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(t,l)===o(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,h=0;h<u;h++)if(o(t,l+h)!==o(e,h)){f=!1;break}if(f)return l}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return q(G(e,t.length-n),t,n,r)}function E(t,e,n,r){return q(W(e),t,n,r)}function M(t,e,n,r){return E(t,e,n,r)}function T(t,e,n,r){return q(X(e),t,n,r)}function S(t,e,n,r){return q(Y(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128==(192&u)&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=t[i+1],l=t[i+2],128==(192&u)&&128==(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return C(r)}function C(t){var e=t.length;if(e<=J)return String.fromCharCode.apply(String,t);for(var n=\"\",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=J));return n}function R(t,e,n){var r=\"\";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){var r=\"\";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i=\"\",o=e;o<n;++o)i+=V(t[o]);return i}function k(t,e,n){for(var r=t.slice(e,n),i=\"\",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>n)throw new RangeError(\"Trying to access beyond buffer length\")}function I(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('\"value\" argument is out of bounds');if(n+r>t.length)throw new RangeError(\"Index out of range\")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function z(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function F(t,e,n,r,i){return i||z(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||z(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function j(t){if(t=H(t).replace(tt,\"\"),t.length<2)return\"\";for(;t.length%4!=0;)t+=\"=\";return t}function H(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,\"\")}function V(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function G(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Y(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function X(t){return K.toByteArray(j(t))}function q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Z(t){return t!==t}/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nvar K=n(158),$=n(227),Q=n(229);e.Buffer=o,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&\"function\"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return u(null,t,e,n)},o.allocUnsafe=function(t){return l(null,t)},o.allocUnsafeSlow=function(t){return l(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError(\"Arguments must be Buffers\");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},o.concat=function(t,e){if(!Q(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?\"\":0===arguments.length?P(this,0,t):g.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t=\"\",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(t+=\" ... \")),\"<Buffer \"+t+\">\"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError(\"Argument must be a Buffer\");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError(\"out of range index\");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,u=Math.min(a,s),l=this.slice(r,i),c=t.slice(e,n),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r=\"utf8\",n=this.length,e=0;else if(void 0===n&&\"string\"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e|=0,isFinite(n)?(n|=0,void 0===r&&(r=\"utf8\")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var o=!1;;)switch(r){case\"hex\":return _(this,t,e,n);case\"utf8\":case\"utf-8\":return w(this,t,e,n);case\"ascii\":return E(this,t,e,n);case\"latin1\":case\"binary\":return M(this,t,e,n);case\"base64\":return T(this,t,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return S(this,t,e,n);default:if(o)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),$.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),$.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),$.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),$.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){I(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){I(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if(\"string\"==typeof t){if(\"string\"==typeof e?(r=e,e=0,n=this.length):\"string\"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&\"string\"!=typeof r)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof r&&!o.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else\"number\"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError(\"Out of range index\");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if(\"number\"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:G(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var tt=/[^+\\/0-9A-Za-z-_]/g}).call(e,n(45))},function(t,e,n){n(43),n(198),t.exports=n(8).Array.from},function(t,e,n){n(66),n(43),t.exports=n(197)},function(t,e,n){var r=n(8),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(200),t.exports=n(8).Math.log2},function(t,e,n){n(201),t.exports=n(8).Object.assign},function(t,e,n){n(202);var r=n(8).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){n(203);var r=n(8).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){n(204);var r=n(8).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){n(205),t.exports=n(8).Object.getPrototypeOf},function(t,e,n){n(206),t.exports=n(8).Object.keys},function(t,e,n){n(207),t.exports=n(8).Object.setPrototypeOf},function(t,e,n){n(88),n(43),n(66),n(208),n(210),t.exports=n(8).Set},function(t,e,n){n(209),n(88),n(211),n(212),t.exports=n(8).Symbol},function(t,e,n){n(43),n(66),t.exports=n(64).f(\"iterator\")},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(51);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){var r=n(23),i=n(41),o=n(196);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(29),i=n(52),o=n(31),a=n(41),s=n(180);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,f=6==t,h=5==t||f,d=e||s;return function(e,s,p){for(var m,v,g=o(e),y=i(g),b=r(s,p,3),x=a(y.length),_=0,w=n?d(e,x):u?d(e,0):void 0;x>_;_++)if((h||_ in y)&&(m=y[_],v=b(m,_,g),t))if(n)w[_]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:w.push(m)}else if(c)return!1;return f?-1:l||c?c:w}}},function(t,e,n){var r=n(27),i=n(80),o=n(10)(\"species\");t.exports=function(t){var e;return i(t)&&(e=t.constructor,\"function\"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(179);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){\"use strict\";var r=n(12).f,i=n(38),o=n(86),a=n(29),s=n(75),u=n(37),l=n(51),c=n(53),f=n(82),h=n(194),d=n(17),p=n(55).fastKey,m=d?\"_s\":\"size\",v=function(t,e){var n,r=p(e);if(\"F\"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var f=t(function(t,r){s(t,f,e,\"_i\"),t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&l(r,n,t[c],t)});return o(f.prototype,{clear:function(){for(var t=this,e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var e=this,n=v(e,t);if(n){var r=n.n,i=n.p;delete e._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),e._f==n&&(e._f=r),e._l==n&&(e._l=i),e[m]--}return!!n},forEach:function(t){s(this,f,\"forEach\");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),d&&r(f.prototype,\"size\",{get:function(){return u(this[m])}}),f},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,\"F\"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?\"keys\"==e?f(0,n.k):\"values\"==e?f(0,n.v):f(0,[n.k,n.v]):(t._t=void 0,f(1))},n?\"entries\":\"values\",!n,!0),h(e)}}},function(t,e,n){var r=n(76),i=n(176);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+\"#toJSON isn't generic\");return i(this)}}},function(t,e,n){\"use strict\";var r=n(18),i=n(11),o=n(55),a=n(25),s=n(22),u=n(86),l=n(51),c=n(75),f=n(27),h=n(40),d=n(12).f,p=n(178)(0),m=n(17);t.exports=function(t,e,n,v,g,y){var b=r[t],x=b,_=g?\"set\":\"add\",w=x&&x.prototype,E={};return m&&\"function\"==typeof x&&(y||w.forEach&&!a(function(){(new x).entries().next()}))?(x=e(function(e,n){c(e,x,t,\"_c\"),e._c=new b,void 0!=n&&l(n,g,e[_],e)}),p(\"add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON\".split(\",\"),function(t){var e=\"add\"==t||\"set\"==t;t in w&&(!y||\"clear\"!=t)&&s(x.prototype,t,function(n,r){if(c(this,x,t),!e&&y&&!f(n))return\"get\"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),\"size\"in w&&d(x.prototype,\"size\",{get:function(){return this._c.size}})):(x=v.getConstructor(e,t,g,_),u(x.prototype,n),o.NEED=!0),h(x,t),E[t]=x,i(i.G+i.W+i.F,E),y||v.setStrong(x,t,g),x}},function(t,e,n){\"use strict\";var r=n(12),i=n(35);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(30),i=n(57),o=n(39);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){t.exports=n(18).document&&document.documentElement},function(t,e,n){\"use strict\";var r=n(38),i=n(35),o=n(40),a={};n(22)(a,n(10)(\"iterator\"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+\" Iterator\")}},function(t,e,n){var r=n(10)(\"iterator\"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(30),i=n(23);t.exports=function(t,e){for(var n,o=i(t),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===e)return n}},function(t,e,n){\"use strict\";var r=n(30),i=n(57),o=n(39),a=n(31),s=n(52),u=Object.assign;t.exports=!u||n(25)(function(){var t={},e={},n=Symbol(),r=\"abcdefghijklmnopqrst\";return t[n]=7,r.split(\"\").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join(\"\")!=r})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var h,d=s(arguments[l++]),p=c?r(d).concat(c(d)):r(d),m=p.length,v=0;m>v;)f.call(d,h=p[v++])&&(n[h]=d[h]);return n}:u},function(t,e,n){var r=n(12),i=n(21),o=n(30);t.exports=n(17)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(23),i=n(83).f,o={}.toString,a=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&\"[object Window]\"==o.call(t)?s(t):i(r(t))}},function(t,e,n){var r=n(27),i=n(21),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")};t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,e,r){try{r=n(29)(Function.call,n(56).f(Object.prototype,\"__proto__\").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){\"use strict\";var r=n(18),i=n(8),o=n(12),a=n(17),s=n(10)(\"species\");t.exports=function(t){var e=\"function\"==typeof i[t]?i[t]:r[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(61),i=n(37);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?\"\":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var r=n(61),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(21),i=n(65);t.exports=n(8).getIterator=function(t){var e=i(t);if(\"function\"!=typeof e)throw TypeError(t+\" is not iterable!\");return r(e.call(t))}},function(t,e,n){\"use strict\";var r=n(29),i=n(11),o=n(31),a=n(81),s=n(79),u=n(41),l=n(184),c=n(65);i(i.S+i.F*!n(188)(function(t){Array.from(t)}),\"Array\",{from:function(t){var e,n,i,f,h=o(t),d=\"function\"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=c(h);if(v&&(m=r(m,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=u(h.length),n=new d(e);e>g;g++)l(n,g,v?m(h[g],g):h[g]);else for(f=y.call(h),n=new d;!(i=f.next()).done;g++)l(n,g,v?a(f,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){\"use strict\";var r=n(175),i=n(82),o=n(34),a=n(23);t.exports=n(53)(Array,\"Array\",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):\"keys\"==e?i(0,n):\"values\"==e?i(0,t[n]):i(0,[n,t[n]])},\"values\"),o.Arguments=o.Array,r(\"keys\"),r(\"values\"),r(\"entries\")},function(t,e,n){var r=n(11);r(r.S,\"Math\",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(11);r(r.S+r.F,\"Object\",{assign:n(190)})},function(t,e,n){var r=n(11);r(r.S,\"Object\",{create:n(38)})},function(t,e,n){var r=n(11);r(r.S+r.F*!n(17),\"Object\",{defineProperty:n(12).f})},function(t,e,n){var r=n(23),i=n(56).f;n(58)(\"getOwnPropertyDescriptor\",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(31),i=n(84);n(58)(\"getPrototypeOf\",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(31),i=n(30);n(58)(\"keys\",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(11);r(r.S,\"Object\",{setPrototypeOf:n(193).set})},function(t,e,n){\"use strict\";var r=n(181);t.exports=n(183)(\"Set\",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(this,t=0===t?0:t,t)}},r)},function(t,e,n){\"use strict\";var r=n(18),i=n(26),o=n(17),a=n(11),s=n(87),u=n(55).KEY,l=n(25),c=n(60),f=n(40),h=n(42),d=n(10),p=n(64),m=n(63),v=n(189),g=n(185),y=n(80),b=n(21),x=n(23),_=n(62),w=n(35),E=n(38),M=n(192),T=n(56),S=n(12),A=n(30),P=T.f,C=S.f,R=M.f,O=r.Symbol,L=r.JSON,k=L&&L.stringify,N=d(\"_hidden\"),I=d(\"toPrimitive\"),D={}.propertyIsEnumerable,U=c(\"symbol-registry\"),z=c(\"symbols\"),F=c(\"op-symbols\"),B=Object.prototype,j=\"function\"==typeof O,H=r.QObject,V=!H||!H.prototype||!H.prototype.findChild,G=o&&l(function(){return 7!=E(C({},\"a\",{get:function(){return C(this,\"a\",{value:7}).a}})).a})?function(t,e,n){var r=P(B,e);r&&delete B[e],C(t,e,n),r&&t!==B&&C(B,e,r)}:C,W=function(t){var e=z[t]=E(O.prototype);return e._k=t,e},Y=j&&\"symbol\"==typeof O.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof O},X=function(t,e,n){return t===B&&X(F,e,n),b(t),e=_(e,!0),b(n),i(z,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=E(n,{enumerable:w(0,!1)})):(i(t,N)||C(t,N,w(1,{})),t[N][e]=!0),G(t,e,n)):C(t,e,n)},q=function(t,e){b(t);for(var n,r=g(e=x(e)),i=0,o=r.length;o>i;)X(t,n=r[i++],e[n]);return t},Z=function(t,e){return void 0===e?E(t):q(E(t),e)},K=function(t){var e=D.call(this,t=_(t,!0));return!(this===B&&i(z,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(z,t)||i(this,N)&&this[N][t])||e)},$=function(t,e){if(t=x(t),e=_(e,!0),t!==B||!i(z,e)||i(F,e)){var n=P(t,e);return!n||!i(z,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=R(x(t)),r=[],o=0;n.length>o;)i(z,e=n[o++])||e==N||e==u||r.push(e);return r},J=function(t){for(var e,n=t===B,r=R(n?F:x(t)),o=[],a=0;r.length>a;)!i(z,e=r[a++])||n&&!i(B,e)||o.push(z[e]);return o};j||(O=function(){if(this instanceof O)throw TypeError(\"Symbol is not a constructor!\");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(F,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),G(this,t,w(1,n))};return o&&V&&G(B,t,{configurable:!0,set:e}),W(t)},s(O.prototype,\"toString\",function(){return this._k}),T.f=$,S.f=X,n(83).f=M.f=Q,n(39).f=K,n(57).f=J,o&&!n(54)&&s(B,\"propertyIsEnumerable\",K,!0),p.f=function(t){return W(d(t))}),a(a.G+a.W+a.F*!j,{Symbol:O});for(var tt=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),et=0;tt.length>et;)d(tt[et++]);for(var tt=A(d.store),et=0;tt.length>et;)m(tt[et++]);a(a.S+a.F*!j,\"Symbol\",{for:function(t){return i(U,t+=\"\")?U[t]:U[t]=O(t)},keyFor:function(t){if(Y(t))return v(U,t);throw TypeError(t+\" is not a symbol!\")},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!j,\"Object\",{create:Z,defineProperty:X,defineProperties:q,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),L&&a(a.S+a.F*(!j||l(function(){var t=O();return\"[null]\"!=k([t])||\"{}\"!=k({a:t})||\"{}\"!=k(Object(t))})),\"JSON\",{stringify:function(t){if(void 0!==t&&!Y(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],\"function\"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,k.apply(L,r)}}}),O.prototype[I]||n(22)(O.prototype,I,O.prototype.valueOf),f(O,\"Symbol\"),f(Math,\"Math\",!0),f(r.JSON,\"JSON\",!0)},function(t,e,n){var r=n(11);r(r.P+r.R,\"Set\",{toJSON:n(182)(\"Set\")})},function(t,e,n){n(63)(\"asyncIterator\")},function(t,e,n){n(63)(\"observable\")},function(t,e){function n(t,e){var n=t[1]||\"\",i=t[3];if(!i)return n;if(e&&\"function\"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return\"/*# sourceURL=\"+i.sourceRoot+t+\" */\"})).concat([o]).join(\"\\n\")}return[n].join(\"\\n\")}function r(t){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+\" */\"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?\"@media \"+e[2]+\"{\"+r+\"}\":r}).join(\"\")},e.i=function(t,n){\"string\"==typeof t&&(t=[[null,t,\"\"]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];\"number\"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];\"number\"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]=\"(\"+a[2]+\") and (\"+n+\")\"),e.push(a))}},e}},function(t,e,n){\"use strict\";var r=n(44),i={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent(\"on\"+e,n),{remove:function(){t.detachEvent(\"on\"+e,n)}}):void 0},capture:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!0),{remove:function(){t.removeEventListener(e,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=i},function(t,e,n){\"use strict\";var r=!(\"undefined\"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:\"undefined\"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=i},function(t,e,n){\"use strict\";function r(t,e){return!(!t||!e)&&(t===e||!i(t)&&(i(e)?r(t,e.parentNode):\"contains\"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}var i=n(220);t.exports=r},function(t,e,n){\"use strict\";function r(t){try{t.focus()}catch(t){}}t.exports=r},function(t,e,n){\"use strict\";function r(t){if(void 0===(t=t||(\"undefined\"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}t.exports=r},function(t,e,n){\"use strict\";function r(t){var e=t?t.ownerDocument||t:document,n=e.defaultView||window;return!(!t||!(\"function\"==typeof n.Node?t instanceof n.Node:\"object\"==typeof t&&\"number\"==typeof t.nodeType&&\"string\"==typeof t.nodeName))}t.exports=r},function(t,e,n){\"use strict\";function r(t){return i(t)&&3==t.nodeType}var i=n(219);t.exports=r},function(t,e,n){\"use strict\";function r(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if(\"object\"!=typeof t||null===t||\"object\"!=typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;t.exports=i},function(t,e){function n(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}t.exports=n},function(t,e){function n(t,e){return t[0]*e[0]+t[1]*e[1]}t.exports=n},function(t,e){function n(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e,t[1]=n,t}t.exports=n},function(t,e){function n(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}t.exports=n},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*m}},function(t,e){\"function\"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return\"[object Array]\"==n.call(t)}},function(t,e,n){t.exports=n(231)},function(t,e,n){(function(e){!function(n){var r=this;t.exports=function(t){\"use strict\";function n(t,e){return\"object\"==typeof t&&null!==t&&(t.constructor===e||Object.prototype.toString.call(t)===\"[object \"+e.name+\"]\")}function r(t,e){return!e&&n(t,Array)?t:Array.prototype.slice.call(t)}function i(t,e){return void 0!==t?t:e}function o(t,r,a,s){if(o.is(t)){var u=t.slice(r,r+a);return u._littleEndian=i(s,u._littleEndian),u}if(!o.is(this))return new o(t,r,a,s);if(this.buffer=t=o.wrapBuffer(t),this._isArrayBuffer=c.ArrayBuffer&&n(t,ArrayBuffer),this._isPixelData=!1,this._isDataView=c.DataView&&this._isArrayBuffer,this._isNodeBuffer=c.NodeBuffer&&n(t,e),!this._isNodeBuffer&&!this._isArrayBuffer&&!n(t,Array))throw new TypeError(\"jDataView buffer has an incompatible type\");this._littleEndian=!!s;var l=\"byteLength\"in t?t.byteLength:t.length;this.byteOffset=r=i(r,0),this.byteLength=a=i(a,l-r),this._offset=this._bitOffset=0,this._isDataView?this._view=new DataView(t,r,a):this._checkBounds(r,a,l),this._engineAction=this._isDataView?this._dataViewAction:this._isNodeBuffer?this._nodeBufferAction:this._isArrayBuffer?this._arrayBufferAction:this._arrayAction}function a(t){if(c.NodeBuffer)return new e(t,\"binary\");for(var n=c.ArrayBuffer?Uint8Array:Array,r=new n(t.length),i=0,o=t.length;o>i;i++)r[i]=255&t.charCodeAt(i);return r}function s(t){return t>=0&&31>t?1<<t:s[t]||(s[t]=Math.pow(2,t))}function u(t,e){this.lo=t,this.hi=e}function l(){u.apply(this,arguments)}var c={NodeBuffer:\"Buffer\"in t,DataView:\"DataView\"in t,ArrayBuffer:\"ArrayBuffer\"in t,PixelData:!1},f=t.TextEncoder,h=t.TextDecoder;c.NodeBuffer&&function(t){try{t.writeFloatLE(1/0,0)}catch(t){c.NodeBuffer=!1}}(new e(4));var d={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8};o.wrapBuffer=function(t){switch(typeof t){case\"number\":if(c.NodeBuffer)t=new e(t),t.fill(0);else if(c.ArrayBuffer)t=new Uint8Array(t).buffer;else{t=new Array(t);for(var i=0;i<t.length;i++)t[i]=0}return t;case\"string\":t=a(t);default:return\"length\"in t&&!(c.NodeBuffer&&n(t,e)||c.ArrayBuffer&&n(t,ArrayBuffer))&&(c.NodeBuffer?t=new e(t):c.ArrayBuffer?n(t,ArrayBuffer)||(t=new Uint8Array(t).buffer,n(t,ArrayBuffer)||(t=new Uint8Array(r(t,!0)).buffer)):t=r(t)),t}},o.is=function(t){return t&&t.jDataView},o.from=function(){return new o(arguments)},o.Uint64=u,u.prototype={valueOf:function(){return this.lo+s(32)*this.hi},toString:function(){return Number.prototype.toString.apply(this.valueOf(),arguments)}},u.fromNumber=function(t){var e=Math.floor(t/s(32));return new u(t-e*s(32),e)},o.Int64=l,l.prototype=\"create\"in Object?Object.create(u.prototype):new u,l.prototype.valueOf=function(){return this.hi<s(31)?u.prototype.valueOf.apply(this,arguments):-(s(32)-this.lo+s(32)*(s(32)-1-this.hi))},l.fromNumber=function(t){var e,n;if(t>=0){var r=u.fromNumber(t);e=r.lo,n=r.hi}else n=Math.floor(t/s(32)),e=t-n*s(32),n+=s(32);return new l(e,n)};var p=o.prototype={compatibility:c,jDataView:!0,_checkBounds:function(t,e,n){if(\"number\"!=typeof t)throw new TypeError(\"Offset is not a number.\");if(\"number\"!=typeof e)throw new TypeError(\"Size is not a number.\");if(0>e)throw new RangeError(\"Length is negative.\");if(0>t||t+e>i(n,this.byteLength))throw new RangeError(\"Offsets are out of bounds.\")},_action:function(t,e,n,r,o){return this._engineAction(t,e,i(n,this._offset),i(r,this._littleEndian),o)},_dataViewAction:function(t,e,n,r,i){return this._offset=n+d[t],e?this._view[\"get\"+t](n,r):this._view[\"set\"+t](n,i,r)},_arrayBufferAction:function(e,n,r,o,a){var s,u=d[e],l=t[e+\"Array\"];if(o=i(o,this._littleEndian),1===u||(this.byteOffset+r)%u==0&&o)return s=new l(this.buffer,this.byteOffset+r,1),this._offset=r+u,n?s[0]:s[0]=a;var c=new Uint8Array(n?this.getBytes(u,r,o,!0):u);return s=new l(c.buffer,0,1),n?s[0]:(s[0]=a,void this._setBytes(r,c,o))},_arrayAction:function(t,e,n,r,i){return e?this[\"_get\"+t](n,r):this[\"_set\"+t](n,i,r)},_getBytes:function(t,e,n){n=i(n,this._littleEndian),e=i(e,this._offset),t=i(t,this.byteLength-e),this._checkBounds(e,t),e+=this.byteOffset,this._offset=e-this.byteOffset+t;var o=this._isArrayBuffer?new Uint8Array(this.buffer,e,t):(this.buffer.slice||Array.prototype.slice).call(this.buffer,e,e+t);return n||1>=t?o:r(o).reverse()},getBytes:function(t,e,n,o){var a=this._getBytes(t,e,i(n,!0));return o?r(a):a},_setBytes:function(t,n,o){var a=n.length;if(0!==a){if(o=i(o,this._littleEndian),t=i(t,this._offset),this._checkBounds(t,a),!o&&a>1&&(n=r(n,!0).reverse()),t+=this.byteOffset,this._isArrayBuffer)new Uint8Array(this.buffer,t,a).set(n);else if(this._isNodeBuffer)new e(n).copy(this.buffer,t);else for(var s=0;a>s;s++)this.buffer[t+s]=n[s];this._offset=t-this.byteOffset+a}},setBytes:function(t,e,n){this._setBytes(t,e,i(n,!0))},getString:function(t,e,n){if(this._isNodeBuffer)return e=i(e,this._offset),t=i(t,this.byteLength-e),this._checkBounds(e,t),this._offset=e+t,this.buffer.toString(n||\"binary\",this.byteOffset+e,this.byteOffset+this._offset);var r=this._getBytes(t,e,!0);if(n=\"utf8\"===n?\"utf-8\":n||\"binary\",h&&\"binary\"!==n)return new h(n).decode(this._isArrayBuffer?r:new Uint8Array(r));var o=\"\";t=r.length;for(var a=0;t>a;a++)o+=String.fromCharCode(r[a]);return\"utf-8\"===n&&(o=decodeURIComponent(escape(o))),o},setString:function(t,e,n){if(this._isNodeBuffer)return t=i(t,this._offset),this._checkBounds(t,e.length),void(this._offset=t+this.buffer.write(e,this.byteOffset+t,n||\"binary\"));n=\"utf8\"===n?\"utf-8\":n||\"binary\";var r;f&&\"binary\"!==n?r=new f(n).encode(e):(\"utf-8\"===n&&(e=unescape(encodeURIComponent(e))),r=a(e)),this._setBytes(t,r,!0)},getChar:function(t){return this.getString(1,t)},setChar:function(t,e){this.setString(t,e)},tell:function(){return this._offset},seek:function(t){return this._checkBounds(t,0),this._offset=t},skip:function(t){return this.seek(this._offset+t)},slice:function(t,e,n){function r(t,e){return 0>t?t+e:t}return t=r(t,this.byteLength),e=r(i(e,this.byteLength),this.byteLength),n?new o(this.getBytes(e-t,t,!0,!0),void 0,void 0,this._littleEndian):new o(this.buffer,this.byteOffset+t,e-t,this._littleEndian)},alignBy:function(t){return this._bitOffset=0,1!==i(t,1)?this.skip(t-(this._offset%t||t)):this._offset},_getFloat64:function(t,e){var n=this._getBytes(8,t,e),r=1-2*(n[7]>>7),i=((n[7]<<1&255)<<3|n[6]>>4)-1023,o=(15&n[6])*s(48)+n[5]*s(40)+n[4]*s(32)+n[3]*s(24)+n[2]*s(16)+n[1]*s(8)+n[0];return 1024===i?0!==o?NaN:1/0*r:-1023===i?r*o*s(-1074):r*(1+o*s(-52))*s(i)},_getFloat32:function(t,e){var n=this._getBytes(4,t,e),r=1-2*(n[3]>>7),i=(n[3]<<1&255|n[2]>>7)-127,o=(127&n[2])<<16|n[1]<<8|n[0];return 128===i?0!==o?NaN:1/0*r:-127===i?r*o*s(-149):r*(1+o*s(-23))*s(i)},_get64:function(t,e,n){n=i(n,this._littleEndian),e=i(e,this._offset);for(var r=n?[0,4]:[4,0],o=0;2>o;o++)r[o]=this.getUint32(e+r[o],n);return this._offset=e+8,new t(r[0],r[1])},getInt64:function(t,e){return this._get64(l,t,e)},getUint64:function(t,e){return this._get64(u,t,e)},_getInt32:function(t,e){var n=this._getBytes(4,t,e);return n[3]<<24|n[2]<<16|n[1]<<8|n[0]},_getUint32:function(t,e){return this._getInt32(t,e)>>>0},_getInt16:function(t,e){return this._getUint16(t,e)<<16>>16},_getUint16:function(t,e){var n=this._getBytes(2,t,e);return n[1]<<8|n[0]},_getInt8:function(t){return this._getUint8(t)<<24>>24},_getUint8:function(t){return this._getBytes(1,t)[0]},_getBitRangeData:function(t,e){var n=(i(e,this._offset)<<3)+this._bitOffset,r=n+t,o=n>>>3,a=r+7>>>3,s=this._getBytes(a-o,o,!0),u=0;(this._bitOffset=7&r)&&(this._bitOffset-=8);for(var l=0,c=s.length;c>l;l++)u=u<<8|s[l];return{start:o,bytes:s,wideValue:u}},getSigned:function(t,e){var n=32-t;return this.getUnsigned(t,e)<<n>>n},getUnsigned:function(t,e){var n=this._getBitRangeData(t,e).wideValue>>>-this._bitOffset;return 32>t?n&~(-1<<t):n},_setBinaryFloat:function(t,e,n,r,i){var o,a,u=0>e?1:0,l=~(-1<<r-1),c=1-l;0>e&&(e=-e),0===e?(o=0,a=0):isNaN(e)?(o=2*l+1,a=1):1/0===e?(o=2*l+1,a=0):(o=Math.floor(Math.log(e)/Math.LN2),o>=c&&l>=o?(a=Math.floor((e*s(-o)-1)*s(n)),o+=l):(a=Math.floor(e/s(c-n)),o=0));for(var f=[];n>=8;)f.push(a%256),a=Math.floor(a/256),n-=8;for(o=o<<n|a,r+=n;r>=8;)f.push(255&o),o>>>=8,r-=8;f.push(u<<r|o),this._setBytes(t,f,i)},_setFloat32:function(t,e,n){this._setBinaryFloat(t,e,23,8,n)},_setFloat64:function(t,e,n){this._setBinaryFloat(t,e,52,11,n)},_set64:function(t,e,n,r){\"object\"!=typeof n&&(n=t.fromNumber(n)),r=i(r,this._littleEndian),e=i(e,this._offset);var o=r?{lo:0,hi:4}:{lo:4,hi:0};for(var a in o)this.setUint32(e+o[a],n[a],r);this._offset=e+8},setInt64:function(t,e,n){this._set64(l,t,e,n)},setUint64:function(t,e,n){this._set64(u,t,e,n)},_setUint32:function(t,e,n){this._setBytes(t,[255&e,e>>>8&255,e>>>16&255,e>>>24],n)},_setUint16:function(t,e,n){this._setBytes(t,[255&e,e>>>8&255],n)},_setUint8:function(t,e){this._setBytes(t,[255&e])},setUnsigned:function(t,e,n){var r=this._getBitRangeData(n,t),i=r.wideValue,o=r.bytes;i&=~(~(-1<<n)<<-this._bitOffset),i|=(32>n?e&~(-1<<n):e)<<-this._bitOffset;for(var a=o.length-1;a>=0;a--)o[a]=255&i,i>>>=8;this._setBytes(r.start,o,!0)}},m={Int8:\"Int8\",Int16:\"Int16\",Int32:\"Int32\",Uint8:\"UInt8\",Uint16:\"UInt16\",Uint32:\"UInt32\",Float32:\"Float\",Float64:\"Double\"};p._nodeBufferAction=function(t,e,n,r,i){this._offset=n+d[t];var o=m[t]+(\"Int8\"===t||\"Uint8\"===t?\"\":r?\"LE\":\"BE\");return n+=this.byteOffset,e?this.buffer[\"read\"+o](n):this.buffer[\"write\"+o](i,n)};for(var v in d)!function(t){p[\"get\"+t]=function(e,n){return this._action(t,!0,e,n)},p[\"set\"+t]=function(e,n,r){this._action(t,!1,e,r,n)}}(v);p._setInt32=p._setUint32,p._setInt16=p._setUint16,p._setInt8=p._setUint8,p.setSigned=p.setUnsigned;for(var g in p)\"set\"===g.slice(0,3)&&function(t){p[\"write\"+t]=function(){Array.prototype.unshift.call(arguments,void 0),this[\"set\"+t].apply(this,arguments)}}(g.slice(3));return o}(r)}()}).call(e,n(159).Buffer)},function(t,e,n){var r=n(222),i=n(225),o=n(224),a=n(226),s=n(223),u=[0,0];t.exports.computeMiter=function(t,e,n,a,l){return r(t,n,a),o(t,t),i(e,-t[1],t[0]),i(u,-n[1],n[0]),l/s(e,u)},t.exports.normal=function(t,e){return i(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return a(t,e,n),o(t,t),t}},function(t,e,n){function r(t,e,n){t.push([[e[0],e[1]],n])}var i=n(232),o=[0,0],a=[0,0],s=[0,0],u=[0,0];t.exports=function(t,e){var n=null,l=[];e&&(t=t.slice(),t.push(t[0]));for(var c=t.length,f=1;f<c;f++){var h=t[f-1],d=t[f],p=f<t.length-1?t[f+1]:null;if(i.direction(o,d,h),n||(n=[0,0],i.normal(n,o)),1===f&&r(l,n,1),p){i.direction(a,p,d);var m=i.computeMiter(s,u,o,a,1);r(l,u,m)}else i.normal(n,o),r(l,n,1)}if(t.length>2&&e){var v=t[c-2],g=t[0],y=t[1];i.direction(o,g,v),i.direction(a,y,g),i.normal(n,o);var b=i.computeMiter(s,u,o,a,1);l[0][0]=u.slice(),l[c-1][0]=u.slice(),l[0][1]=b,l[c-1][1]=b,l.pop()}return l}},function(t,e,n){\"use strict\";var r=n(44),i=n(67),o=n(235);t.exports=function(){function t(t,e,n,r,a,s){s!==o&&i(!1,\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){\"use strict\";t.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(t,e,n){\"use strict\";function r(t){for(var e=arguments.length-1,n=\"Minified React error #\"+t+\"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=\"+t,r=0;r<e;r++)n+=\"&args[]=\"+encodeURIComponent(arguments[r+1]);throw e=Error(n+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"),e.name=\"Invariant Violation\",e.framesToPop=1,e}function i(t){switch(t){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function o(){if(Pe)for(var t in Ce){var e=Ce[t],n=Pe.indexOf(t);if(-1<n||r(\"96\",t),!Re.plugins[n]){e.extractEvents||r(\"97\",t),Re.plugins[n]=e,n=e.eventTypes;for(var i in n){var o=void 0,s=n[i],u=e,l=i;Re.eventNameDispatchConfigs.hasOwnProperty(l)&&r(\"99\",l),Re.eventNameDispatchConfigs[l]=s;var c=s.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&a(c[o],u,l);o=!0}else s.registrationName?(a(s.registrationName,u,l),o=!0):o=!1;o||r(\"98\",i,t)}}}}function a(t,e,n){Re.registrationNameModules[t]&&r(\"100\",t),Re.registrationNameModules[t]=e,Re.registrationNameDependencies[t]=e.eventTypes[n].dependencies}function s(t,e){return(t&e)===e}function u(t){for(var e;e=t._renderedComponent;)t=e;return t}function l(t,e){t=u(t),t._hostNode=e,e[We]=t}function c(t,e){if(!(t._flags&Ve.hasCachedChildNodes)){var n=t._renderedChildren;e=e.firstChild;var i;t:for(i in n)if(n.hasOwnProperty(i)){var o=n[i],a=u(o)._domID;if(0!==a){for(;null!==e;e=e.nextSibling){var s=e,c=a;if(s.nodeType===Be&&s.getAttribute(He)===\"\"+c||s.nodeType===je&&s.nodeValue===\" react-text: \"+c+\" \"||s.nodeType===je&&s.nodeValue===\" react-empty: \"+c+\" \"){l(o,e);continue t}}r(\"32\",a)}}t._flags|=Ve.hasCachedChildNodes}}function f(t){if(t[We])return t[We];for(var e=[];!t[We];){if(e.push(t),!t.parentNode)return null;t=t.parentNode}var n=t[We];if(n.tag===ze||n.tag===Fe)return n;for(;t&&(n=t[We]);t=e.pop()){var r=n;e.length&&c(n,t)}return r}function h(t){if(\"function\"==typeof t.getName)return t.getName();if(\"number\"==typeof t.tag){if(\"string\"==typeof(t=t.type))return t;if(\"function\"==typeof t)return t.displayName||t.name}return null}function d(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if((e.effectTag&nn)!==en)return 1;for(;e.return;)if(e=e.return,(e.effectTag&nn)!==en)return 1}return e.tag===Qe?2:3}function p(t){2!==d(t)&&r(\"188\")}function m(t){var e=t.alternate;if(!e)return e=d(t),3===e&&r(\"188\"),1===e?null:t;for(var n=t,i=e;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return p(o),t;if(s===i)return p(o),e;s=s.sibling}r(\"188\")}if(n.return!==i.return)n=o,i=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}s||r(\"189\")}}n.alternate!==i&&r(\"190\")}return n.tag!==Qe&&r(\"188\"),n.stateNode.current===n?t:e}function v(t,e,n,r,i,o,a,s,u){on._hasCaughtError=!1,on._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){on._caughtError=t,on._hasCaughtError=!0}}function g(){if(on._hasRethrowError){var t=on._rethrowError;throw on._rethrowError=null,on._hasRethrowError=!1,t}}function y(t,e,n,r){e=t.type||\"unknown-event\",t.currentTarget=sn.getNodeFromInstance(r),an.invokeGuardedCallbackAndCatchFirstError(e,n,void 0,t),t.currentTarget=null}function b(t){if(t=un.getInstanceFromNode(t))if(\"number\"==typeof t.tag){ln&&\"function\"==typeof ln.restoreControlledState||r(\"194\");var e=un.getFiberCurrentPropsFromNode(t.stateNode);ln.restoreControlledState(t.stateNode,t.type,e)}else\"function\"!=typeof t.restoreControlledState&&r(\"195\"),t.restoreControlledState()}function x(t,e,n,r,i,o){return t(e,n,r,i,o)}function _(t,e){return t(e)}function w(t,e){return _(t,e)}function E(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===mn?t.parentNode:t}function M(t){var e=t.targetInst;do{if(!e){t.ancestors.push(e);break}var n=e;if(\"number\"==typeof n.tag){for(;n.return;)n=n.return;n=n.tag!==vn?null:n.stateNode.containerInfo}else{for(;n._hostParent;)n=n._hostParent;n=Xe.getNodeFromInstance(n).parentNode}if(!n)break;t.ancestors.push(e),e=Xe.getClosestInstanceFromNode(n)}while(e);for(n=0;n<t.ancestors.length;n++)e=t.ancestors[n],yn._handleTopLevel(t.topLevelType,e,t.nativeEvent,E(t.nativeEvent))}function T(t,e){return null==e&&r(\"30\"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function S(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function A(t,e){t&&(un.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t))}function P(t){return A(t,!0)}function C(t){return A(t,!1)}function R(t,e,n){switch(t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":return!(!n.disabled||\"button\"!==e&&\"input\"!==e&&\"select\"!==e&&\"textarea\"!==e);default:return!1}}function O(t,e){if(!ve.canUseDOM||e&&!(\"addEventListener\"in document))return!1;e=\"on\"+t;var n=e in document;return n||(n=document.createElement(\"div\"),n.setAttribute(e,\"return;\"),n=\"function\"==typeof n[e]),!n&&Se&&\"wheel\"===t&&(n=document.implementation.hasFeature(\"Events.wheel\",\"3.0\")),n}function L(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n[\"Webkit\"+t]=\"webkit\"+e,n[\"Moz\"+t]=\"moz\"+e,n[\"ms\"+t]=\"MS\"+e,n[\"O\"+t]=\"o\"+e.toLowerCase(),n}function k(t){if(En[t])return En[t];if(!wn[t])return t;var e,n=wn[t];for(e in n)if(n.hasOwnProperty(e)&&e in Mn)return En[t]=n[e];return\"\"}function N(t){return Object.prototype.hasOwnProperty.call(t,Pn)||(t[Pn]=An++,Sn[t[Pn]]={}),Sn[t[Pn]]}function I(t){return!!Bn.hasOwnProperty(t)||!Fn.hasOwnProperty(t)&&(zn.test(t)?Bn[t]=!0:(Fn[t]=!0,!1))}function D(){return null}function U(t){var e=\"\";return me.Children.forEach(t,function(t){null==t||\"string\"!=typeof t&&\"number\"!=typeof t||(e+=t)}),e}function z(t,e,n){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e[\"$\"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty(\"$\"+t[n].value),t[n].selected!==r&&(t[n].selected=r)}else{for(n=\"\"+n,e=null,r=0;r<t.length;r++){if(t[r].value===n)return void(t[r].selected=!0);null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function F(t,e){e&&(Qn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&r(\"137\",t,\"\"),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&r(\"60\"),\"object\"==typeof e.dangerouslySetInnerHTML&&\"__html\"in e.dangerouslySetInnerHTML||r(\"61\")),null!=e.style&&\"object\"!=typeof e.style&&r(\"62\",\"\"))}function B(t){var e=t.type;return(t=t.nodeName)&&\"input\"===t.toLowerCase()&&(\"checkbox\"===e||\"radio\"===e)}function j(t){var e=B(t)?\"checked\":\"value\",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=\"\"+t[e];if(!t.hasOwnProperty(e)&&\"function\"==typeof n.get&&\"function\"==typeof n.set)return Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(t){r=\"\"+t,n.set.call(this,t)}}),{getValue:function(){return r},setValue:function(t){r=\"\"+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}function H(t,e){if(-1===t.indexOf(\"-\"))return\"string\"==typeof e.is;switch(t){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}function V(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===rr)return void(n.nodeValue=e)}t.textContent=e}function G(t,e){sr(e,t.nodeType===or||t.nodeType===ar?t:t.ownerDocument)}function W(t,e){return t!==Lr&&t!==Or||e!==Lr&&e!==Or?t===Rr&&e!==Rr?-255:t!==Rr&&e===Rr?255:t-e:0}function Y(){return{first:null,last:null,hasForceUpdate:!1,callbackList:null}}function X(t,e,n,r){null!==n?n.next=e:(e.next=t.first,t.first=e),null!==r?e.next=r:t.last=e}function q(t,e){e=e.priorityLevel;var n=null;if(null!==t.last&&0>=W(t.last.priorityLevel,e))n=t.last;else for(t=t.first;null!==t&&0>=W(t.priorityLevel,e);)n=t,t=t.next;return n}function Z(t,e){var n=t.alternate,r=t.updateQueue;null===r&&(r=t.updateQueue=Y()),null!==n?null===(t=n.updateQueue)&&(t=n.updateQueue=Y()):t=null,Ir=r,Dr=t!==r?t:null;var i=Ir;n=Dr;var o=q(i,e),a=null!==o?o.next:i.first;return null===n?(X(i,e,o,a),null):(r=q(n,e),t=null!==r?r.next:n.first,X(i,e,o,a),a===t&&null!==a||o===r&&null!==o?(null===r&&(n.first=e),null===t&&(n.last=null),null):(e={priorityLevel:e.priorityLevel,partialState:e.partialState,callback:e.callback,isReplace:e.isReplace,isForced:e.isForced,isTopLevelUnmount:e.isTopLevelUnmount,next:null},X(n,e,r,t),e))}function K(t,e,n,r){return t=t.partialState,\"function\"==typeof t?t.call(e,n,r):t}function $(t,e,n){t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n}function Q(t){return t.tag===Hr&&null!=t.type.childContextTypes}function J(t,e){var n=t.stateNode,i=t.type.childContextTypes;if(\"function\"!=typeof n.getChildContext)return e;n=n.getChildContext();for(var o in n)o in i||r(\"108\",h(t)||\"Unknown\",o);return ge({},e,n)}function tt(t,e,n){this.tag=t,this.key=e,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=li,this.lastEffect=this.firstEffect=this.nextEffect=null,this.pendingWorkPriority=si,this.alternate=null}function et(t,e,n){var i=void 0;return\"function\"==typeof t?(i=t.prototype&&t.prototype.isReactComponent?new tt(Jr,e,n):new tt(Qr,e,n),i.type=t):\"string\"==typeof t?(i=new tt(ei,e,n),i.type=t):\"object\"==typeof t&&null!==t&&\"number\"==typeof t.tag?i=t:r(\"130\",null==t?t:typeof t,\"\"),i}function nt(t){return null===t||void 0===t?null:(t=Bi&&t[Bi]||t[\"@@iterator\"],\"function\"==typeof t?t:null)}function rt(t,e){var n=e.ref;if(null!==n&&\"function\"!=typeof n){if(e._owner){e=e._owner;var i=void 0;e&&(\"number\"==typeof e.tag?(e.tag!==Oi&&r(\"110\"),i=e.stateNode):i=e.getPublicInstance()),i||r(\"147\",n);var o=\"\"+n;return null!==t&&null!==t.ref&&t.ref._stringRef===o?t.ref:(t=function(t){var e=i.refs===xe?i.refs={}:i.refs;null===t?delete e[o]:e[o]=t},t._stringRef=o,t)}\"string\"!=typeof n&&r(\"148\"),e._owner||r(\"149\",n)}return n}function it(t,e){\"textarea\"!==t.type&&r(\"31\",\"[object Object]\"===Object.prototype.toString.call(e)?\"object with keys {\"+Object.keys(e).join(\", \")+\"}\":e,\"\")}function ot(t,e){function n(n,r){if(e){if(!t){if(null===r.alternate)return;r=r.alternate}var i=n.lastEffect;null!==i?(i.nextEffect=r,n.lastEffect=r):n.firstEffect=n.lastEffect=r,r.nextEffect=null,r.effectTag=Fi}}function i(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function o(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,n){return t?(e=wi(e,n),e.index=0,e.sibling=null,e):(e.pendingWorkPriority=n,e.effectTag=Ui,e.index=0,e.sibling=null,e)}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=zi,n):r):(t.effectTag=zi,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=zi),t}function l(t,e,n,r){return null===e||e.tag!==Li?(n=Ti(n,t.internalContextTag,r),n.return=t,n):(e=a(e,r),e.pendingProps=n,e.return=t,e)}function c(t,e,n,r){return null===e||e.type!==n.type?(r=Ei(n,t.internalContextTag,r),r.ref=rt(e,n),r.return=t,r):(r=a(e,r),r.ref=rt(e,n),r.pendingProps=n.props,r.return=t,r)}function f(t,e,n,r){return null===e||e.tag!==Ni?(n=Si(n,t.internalContextTag,r),n.return=t,n):(e=a(e,r),e.pendingProps=n,e.return=t,e)}function h(t,e,n,r){return null===e||e.tag!==Ii?(e=Ai(n,t.internalContextTag,r),e.type=n.value,e.return=t,e):(e=a(e,r),e.type=n.value,e.return=t,e)}function d(t,e,n,r){return null===e||e.tag!==ki||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(n=Pi(n,t.internalContextTag,r),n.return=t,n):(e=a(e,r),e.pendingProps=n.children||[],e.return=t,e)}function p(t,e,n,r){return null===e||e.tag!==Di?(n=Mi(n,t.internalContextTag,r),n.return=t,n):(e=a(e,r),e.pendingProps=n,e.return=t,e)}function m(t,e,n){if(\"string\"==typeof e||\"number\"==typeof e)return e=Ti(\"\"+e,t.internalContextTag,n),e.return=t,e;if(\"object\"==typeof e&&null!==e){switch(e.$$typeof){case ji:return n=Ei(e,t.internalContextTag,n),n.ref=rt(null,e),n.return=t,n;case bi:return e=Si(e,t.internalContextTag,n),e.return=t,e;case xi:return n=Ai(e,t.internalContextTag,n),n.type=e.value,n.return=t,n;case _i:return e=Pi(e,t.internalContextTag,n),e.return=t,e}if(Ci(e)||nt(e))return e=Mi(e,t.internalContextTag,n),e.return=t,e;it(t,e)}return null}function v(t,e,n,r){var i=null!==e?e.key:null;if(\"string\"==typeof n||\"number\"==typeof n)return null!==i?null:l(t,e,\"\"+n,r);if(\"object\"==typeof n&&null!==n){switch(n.$$typeof){case ji:return n.key===i?c(t,e,n,r):null;case bi:return n.key===i?f(t,e,n,r):null;case xi:return null===i?h(t,e,n,r):null;case _i:return n.key===i?d(t,e,n,r):null}if(Ci(n)||nt(n))return null!==i?null:p(t,e,n,r);it(t,n)}return null}function g(t,e,n,r,i){if(\"string\"==typeof r||\"number\"==typeof r)return t=t.get(n)||null,l(e,t,\"\"+r,i);if(\"object\"==typeof r&&null!==r){switch(r.$$typeof){case ji:return t=t.get(null===r.key?n:r.key)||null,c(e,t,r,i);case bi:return t=t.get(null===r.key?n:r.key)||null,f(e,t,r,i);case xi:return t=t.get(n)||null,h(e,t,r,i);case _i:return t=t.get(null===r.key?n:r.key)||null,d(e,t,r,i)}if(Ci(r)||nt(r))return t=t.get(n)||null,p(e,t,r,i);it(e,r)}return null}function y(t,r,a,u){for(var l=null,c=null,f=r,h=r=0,d=null;null!==f&&h<a.length;h++){f.index>h?(d=f,f=null):d=f.sibling;var p=v(t,f,a[h],u);if(null===p){null===f&&(f=d);break}e&&f&&null===p.alternate&&n(t,f),r=s(p,r,h),null===c?l=p:c.sibling=p,c=p,f=d}if(h===a.length)return i(t,f),l;if(null===f){for(;h<a.length;h++)(f=m(t,a[h],u))&&(r=s(f,r,h),null===c?l=f:c.sibling=f,c=f);return l}for(f=o(t,f);h<a.length;h++)(d=g(f,t,h,a[h],u))&&(e&&null!==d.alternate&&f.delete(null===d.key?h:d.key),r=s(d,r,h),null===c?l=d:c.sibling=d,c=d);return e&&f.forEach(function(e){return n(t,e)}),l}function b(t,a,u,l){var c=nt(u);\"function\"!=typeof c&&r(\"150\"),null==(u=c.call(u))&&r(\"151\");for(var f=c=null,h=a,d=a=0,p=null,y=u.next();null!==h&&!y.done;d++,y=u.next()){h.index>d?(p=h,h=null):p=h.sibling;var b=v(t,h,y.value,l);if(null===b){h||(h=p);break}e&&h&&null===b.alternate&&n(t,h),a=s(b,a,d),null===f?c=b:f.sibling=b,f=b,h=p}if(y.done)return i(t,h),c;if(null===h){for(;!y.done;d++,y=u.next())null!==(y=m(t,y.value,l))&&(a=s(y,a,d),null===f?c=y:f.sibling=y,f=y);return c}for(h=o(t,h);!y.done;d++,y=u.next())null!==(y=g(h,t,d,y.value,l))&&(e&&null!==y.alternate&&h.delete(null===y.key?d:y.key),a=s(y,a,d),null===f?c=y:f.sibling=y,f=y);return e&&h.forEach(function(e){return n(t,e)}),c}return function(t,e,o,s){var l=\"object\"==typeof o&&null!==o;if(l)switch(o.$$typeof){case ji:t:{var c=o.key;for(l=e;null!==l;){if(l.key===c){if(l.type===o.type){i(t,l.sibling),e=a(l,s),e.ref=rt(l,o),e.pendingProps=o.props,e.return=t,t=e;break t}i(t,l);break}n(t,l),l=l.sibling}s=Ei(o,t.internalContextTag,s),s.ref=rt(e,o),s.return=t,t=s}return u(t);case bi:t:{for(l=o.key;null!==e;){if(e.key===l){if(e.tag===Ni){i(t,e.sibling),e=a(e,s),e.pendingProps=o,e.return=t,t=e;break t}i(t,e);break}n(t,e),e=e.sibling}o=Si(o,t.internalContextTag,s),o.return=t,t=o}return u(t);case xi:t:{if(null!==e){if(e.tag===Ii){i(t,e.sibling),e=a(e,s),e.type=o.value,e.return=t,t=e;break t}i(t,e)}e=Ai(o,t.internalContextTag,s),e.type=o.value,e.return=t,t=e}return u(t);case _i:t:{for(l=o.key;null!==e;){if(e.key===l){if(e.tag===ki&&e.stateNode.containerInfo===o.containerInfo&&e.stateNode.implementation===o.implementation){i(t,e.sibling),e=a(e,s),e.pendingProps=o.children||[],e.return=t,t=e;break t}i(t,e);break}n(t,e),e=e.sibling}o=Pi(o,t.internalContextTag,s),o.return=t,t=o}return u(t)}if(\"string\"==typeof o||\"number\"==typeof o)return o=\"\"+o,null!==e&&e.tag===Li?(i(t,e.sibling),e=a(e,s),e.pendingProps=o,e.return=t,t=e):(i(t,e),o=Ti(o,t.internalContextTag,s),o.return=t,t=o),u(t);if(Ci(o))return y(t,e,o,s);if(nt(o))return b(t,e,o,s);if(l&&it(t,o),void 0===o)switch(t.tag){case Oi:case Ri:o=t.type,r(\"152\",o.displayName||o.name||\"Component\")}return i(t,e)}}function at(t,e,n,i){function o(t,e){e.updater=a,t.stateNode=e,qe.set(e,t)}var a={isMounted:ro,enqueueSetState:function(n,r,i){n=qe.get(n);var o=e(n,!1);Qi(n,r,void 0===i?null:i,o),t(n,o)},enqueueReplaceState:function(n,r,i){n=qe.get(n);var o=e(n,!1);Ji(n,r,void 0===i?null:i,o),t(n,o)},enqueueForceUpdate:function(n,r){n=qe.get(n);var i=e(n,!1);to(n,void 0===r?null:r,i),t(n,i)}};return{adoptClassInstance:o,constructClassInstance:function(t,e){var n=t.type,r=Ki(t),i=$i(t),a=i?Zi(t,r):xe;return e=new n(e,a),o(t,e),i&&qi(t,r,a),e},mountClassInstance:function(t,e){var n=t.alternate,i=t.stateNode,o=i.state||null,s=t.pendingProps;s||r(\"158\");var u=Ki(t);i.props=s,i.state=o,i.refs=xe,i.context=Zi(t,u),Ar.enableAsyncSubtreeAPI&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent&&(t.internalContextTag|=Xi),\"function\"==typeof i.componentWillMount&&(u=i.state,i.componentWillMount(),u!==i.state&&a.enqueueReplaceState(i,i.state,null),null!==(u=t.updateQueue)&&(i.state=eo(n,t,u,i,o,s,e))),\"function\"==typeof i.componentDidMount&&(t.effectTag|=Yi)},updateClassInstance:function(t,e,o){var s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var u=e.memoizedProps,l=e.pendingProps;l||null==(l=u)&&r(\"159\");var c=s.context,f=Ki(e);if(f=Zi(e,f),\"function\"!=typeof s.componentWillReceiveProps||u===l&&c===f||(c=s.state,s.componentWillReceiveProps(l,f),s.state!==c&&a.enqueueReplaceState(s,s.state,null)),c=e.memoizedState,o=null!==e.updateQueue?eo(t,e,e.updateQueue,s,c,l,o):c,!(u!==l||c!==o||no()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate))return\"function\"!=typeof s.componentDidUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=Yi),!1;var h=l;if(null===u||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)h=!0;else{var d=e.stateNode,p=e.type;h=\"function\"==typeof d.shouldComponentUpdate?d.shouldComponentUpdate(h,o,f):!p.prototype||!p.prototype.isPureReactComponent||(!_e(u,h)||!_e(c,o))}return h?(\"function\"==typeof s.componentWillUpdate&&s.componentWillUpdate(l,o,f),\"function\"==typeof s.componentDidUpdate&&(e.effectTag|=Yi)):(\"function\"!=typeof s.componentDidUpdate||u===t.memoizedProps&&c===t.memoizedState||(e.effectTag|=Yi),n(e,l),i(e,o)),s.props=l,s.state=o,s.context=f,h}}}function st(t,e,n,i,o){function a(t,e,n){s(t,e,n,e.pendingWorkPriority)}function s(t,e,n,r){e.child=null===t?io(e,e.child,n,r):t.child===e.child?oo(e,e.child,n,r):ao(e,e.child,n,r)}function u(t,e){var n=e.ref;null===n||t&&t.ref===n||(e.effectTag|=ko)}function l(t,e,n,r){if(u(t,e),!n)return r&&mo(e,!1),f(t,e);n=e.stateNode,No.current=e;var i=n.render();return e.effectTag|=Co,a(t,e,i),e.memoizedState=n.state,e.memoizedProps=n.props,r&&mo(e,!0),e.child}function c(t){var e=t.stateNode;e.pendingContext?po(t,e.pendingContext,e.pendingContext!==e.context):e.context&&po(t,e.context,!1),g(t,e.containerInfo)}function f(t,e){return so(t,e),e.child}function h(t,e){switch(e.tag){case bo:c(e);break;case yo:ho(e);break;case wo:g(e,e.stateNode.containerInfo)}return null}var d=t.shouldSetTextContent,p=t.useSyncScheduling,m=t.shouldDeprioritizeSubtree,v=e.pushHostContext,g=e.pushHostContainer,y=n.enterHydrationState,b=n.resetHydrationState,x=n.tryToClaimNextHydratableInstance;t=at(i,o,function(t,e){t.memoizedProps=e},function(t,e){t.memoizedState=e});var _=t.adoptClassInstance,w=t.constructClassInstance,E=t.mountClassInstance,M=t.updateClassInstance;return{beginWork:function(t,e,n){if(e.pendingWorkPriority===Ao||e.pendingWorkPriority>n)return h(t,e);switch(e.tag){case vo:null!==t&&r(\"155\");var i=e.type,o=e.pendingProps,s=co(e);return s=lo(e,s),i=i(o,s),e.effectTag|=Co,\"object\"==typeof i&&null!==i&&\"function\"==typeof i.render?(e.tag=yo,o=ho(e),_(e,i),E(e,n),e=l(t,e,!0,o)):(e.tag=go,a(t,e,i),e.memoizedProps=o,e=e.child),e;case go:t:{if(o=e.type,n=e.pendingProps,i=e.memoizedProps,fo())null===n&&(n=i);else if(null===n||i===n){e=f(t,e);break t}i=co(e),i=lo(e,i),o=o(n,i),e.effectTag|=Co,a(t,e,o),e.memoizedProps=n,e=e.child}return e;case yo:return o=ho(e),i=void 0,null===t?e.stateNode?r(\"153\"):(w(e,e.pendingProps),E(e,n),i=!0):i=M(t,e,n),l(t,e,i,o);case bo:return c(e),i=e.updateQueue,null!==i?(o=e.memoizedState,i=uo(t,e,i,null,o,null,n),o===i?(b(),e=f(t,e)):(o=i.element,null!==t&&null!==t.child||!y(e)?(b(),a(t,e,o)):(e.effectTag|=Ro,e.child=io(e,e.child,o,n)),e.memoizedState=i,e=e.child)):(b(),e=f(t,e)),e;case xo:v(e),null===t&&x(e),o=e.type;var T=e.memoizedProps;return i=e.pendingProps,null===i&&null===(i=T)&&r(\"154\"),s=null!==t?t.memoizedProps:null,fo()||null!==i&&T!==i?(T=i.children,d(o,i)?T=null:s&&d(o,s)&&(e.effectTag|=Oo),u(t,e),n!==Po&&!p&&m(o,i)?(e.pendingWorkPriority=Po,e=null):(a(t,e,T),e.memoizedProps=i,e=e.child)):e=f(t,e),e;case _o:return null===t&&x(e),t=e.pendingProps,null===t&&(t=e.memoizedProps),e.memoizedProps=t,null;case Mo:e.tag=Eo;case Eo:return n=e.pendingProps,fo()?null===n&&null===(n=t&&t.memoizedProps)&&r(\"154\"):null!==n&&e.memoizedProps!==n||(n=e.memoizedProps),o=n.children,i=e.pendingWorkPriority,e.stateNode=null===t?io(e,e.stateNode,o,i):t.child===e.child?oo(e,e.stateNode,o,i):ao(e,e.stateNode,o,i),e.memoizedProps=n,e.stateNode;case To:return null;case wo:t:{if(g(e,e.stateNode.containerInfo),n=e.pendingWorkPriority,o=e.pendingProps,fo())null===o&&null==(o=t&&t.memoizedProps)&&r(\"154\");else if(null===o||e.memoizedProps===o){e=f(t,e);break t}null===t?e.child=ao(e,e.child,o,n):a(t,e,o),e.memoizedProps=o,e=e.child}return e;case So:t:{if(n=e.pendingProps,fo())null===n&&(n=e.memoizedProps);else if(null===n||e.memoizedProps===n){e=f(t,e);break t}a(t,e,n),e.memoizedProps=n,e=e.child}return e;default:r(\"156\")}},beginFailedWork:function(t,e,n){switch(e.tag){case yo:ho(e);break;case bo:c(e);break;default:r(\"157\")}return e.effectTag|=Lo,null===t?e.child=null:e.child!==t.child&&(e.child=t.child),e.pendingWorkPriority===Ao||e.pendingWorkPriority>n?h(t,e):(e.firstEffect=null,e.lastEffect=null,s(t,e,null,n),e.tag===yo&&(t=e.stateNode,e.memoizedProps=t.props,e.memoizedState=t.state),e.child)}}}function ut(t,e,n){var i=t.createInstance,o=t.createTextInstance,a=t.appendInitialChild,s=t.finalizeInitialChildren,u=t.prepareUpdate,l=e.getRootHostContainer,c=e.popHostContext,f=e.getHostContext,h=e.popHostContainer,d=n.prepareToHydrateHostInstance,p=n.prepareToHydrateHostTextInstance,m=n.popHydrationState;return{completeWork:function(t,e,n){var v=e.pendingProps;switch(null===v?v=e.memoizedProps:e.pendingWorkPriority===Qo&&n!==Qo||(e.pendingProps=null),e.tag){case Fo:return null;case Bo:return Do(e),null;case jo:return h(e),Uo(e),v=e.stateNode,v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),null!==t&&null!==t.child||(m(e),e.effectTag&=~Zo),null;case Ho:c(e),n=l();var g=e.type;if(null!==t&&null!=e.stateNode){var y=t.memoizedProps,b=e.stateNode,x=f();v=u(b,g,y,v,n,x),(e.updateQueue=v)&&(e.effectTag|=$o),t.ref!==e.ref&&(e.effectTag|=Ko)}else{if(!v)return null===e.stateNode&&r(\"166\"),null;if(t=f(),m(e))d(e,n,t)&&(e.effectTag|=$o);else{t=i(g,v,n,t,e);t:for(y=e.child;null!==y;){if(y.tag===Ho||y.tag===Vo)a(t,y.stateNode);else if(y.tag!==Go&&null!==y.child){y=y.child;continue}if(y===e)break t;for(;null===y.sibling;){if(null===y.return||y.return===e)break t;y=y.return}y=y.sibling}s(t,g,v,n)&&(e.effectTag|=$o),e.stateNode=t}null!==e.ref&&(e.effectTag|=Ko)}return null;case Vo:if(t&&null!=e.stateNode)t.memoizedProps!==v&&(e.effectTag|=$o);else{if(\"string\"!=typeof v)return null===e.stateNode&&r(\"166\"),null;t=l(),n=f(),m(e)?p(e)&&(e.effectTag|=$o):e.stateNode=o(v,t,n,e)}return null;case Wo:(v=e.memoizedProps)||r(\"165\"),e.tag=Yo,n=[];t:for((g=e.stateNode)&&(g.return=e);null!==g;){if(g.tag===Ho||g.tag===Vo||g.tag===Go)r(\"164\");else if(g.tag===Xo)n.push(g.type);else if(null!==g.child){g.child.return=g,g=g.child;continue}for(;null===g.sibling;){if(null===g.return||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}return g=v.handler,v=g(v.props,n),e.child=Io(e,null!==t?t.child:null,v,e.pendingWorkPriority),e.child;case Yo:return e.tag=Wo,null;case Xo:case qo:return null;case Go:return e.effectTag|=$o,h(e),null;case zo:r(\"167\");default:r(\"156\")}}}}function lt(t){return function(e){try{return t(e)}catch(t){}}}function ct(t,e){function n(t){var n=t.ref;if(null!==n)try{n(null)}catch(n){e(t,n)}}function i(t){return t.tag===ia||t.tag===ra||t.tag===aa}function o(t){for(var e=t;;)if(s(e),null!==e.child&&e.tag!==aa)e.child.return=e,e=e.child;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}}function a(t){for(var e=t,n=!1,i=void 0,a=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&r(\"160\"),n.tag){case ia:i=n.stateNode,a=!1;break t;case ra:case aa:i=n.stateNode.containerInfo,a=!0;break t}n=n.return}n=!0}if(e.tag===ia||e.tag===oa)o(e),a?g(i,e.stateNode):v(i,e.stateNode);else if(e.tag===aa?i=e.stateNode.containerInfo:s(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,e.tag===aa&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function s(t){switch(\"function\"==typeof la&&la(t),t.tag){case na:n(t);var r=t.stateNode;if(\"function\"==typeof r.componentWillUnmount)try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(n){e(t,n)}break;case ia:n(t);break;case sa:o(t.stateNode);break;case aa:a(t)}}var u=t.commitMount,l=t.commitUpdate,c=t.resetTextContent,f=t.commitTextUpdate,h=t.appendChild,d=t.appendChildToContainer,p=t.insertBefore,m=t.insertInContainerBefore,v=t.removeChild,g=t.removeChildFromContainer,y=t.getPublicInstance;return{commitPlacement:function(t){t:{for(var e=t.return;null!==e;){if(i(e)){var n=e;break t}e=e.return}r(\"160\"),n=void 0}var o=e=void 0;switch(n.tag){case ia:e=n.stateNode,o=!1;break;case ra:case aa:e=n.stateNode.containerInfo,o=!0;break;default:r(\"161\")}n.effectTag&da&&(c(e),n.effectTag&=~da);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||i(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==ia&&n.tag!==oa;){if(n.effectTag&ca)continue e;if(null===n.child||n.tag===aa)continue e;n.child.return=n,n=n.child}if(!(n.effectTag&ca)){n=n.stateNode;break t}}for(var a=t;;){if(a.tag===ia||a.tag===oa)n?o?m(e,a.stateNode,n):p(e,a.stateNode,n):o?d(e,a.stateNode):h(e,a.stateNode);else if(a.tag!==aa&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(t){a(t),t.return=null,t.child=null,t.alternate&&(t.alternate.child=null,t.alternate.return=null)},commitWork:function(t,e){switch(e.tag){case na:break;case ia:var n=e.stateNode;if(null!=n){var i=e.memoizedProps;t=null!==t?t.memoizedProps:i;var o=e.type,a=e.updateQueue;e.updateQueue=null,null!==a&&l(n,a,o,t,i,e)}break;case oa:null===e.stateNode&&r(\"162\"),n=e.memoizedProps,f(e.stateNode,null!==t?t.memoizedProps:n,n);break;case ra:case aa:break;default:r(\"163\")}},commitLifeCycles:function(t,e){switch(e.tag){case na:var n=e.stateNode;if(e.effectTag&fa)if(null===t)n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidMount();else{var i=t.memoizedProps;t=t.memoizedState,n.props=e.memoizedProps,n.state=e.memoizedState,n.componentDidUpdate(i,t)}e.effectTag&ha&&null!==e.updateQueue&&ua(e,e.updateQueue,n);break;case ra:t=e.updateQueue,null!==t&&ua(e,t,e.child&&e.child.stateNode);break;case ia:n=e.stateNode,null===t&&e.effectTag&fa&&u(n,e.type,e.memoizedProps,e);break;case oa:case aa:break;default:r(\"163\")}},commitAttachRef:function(t){var e=t.ref;if(null!==e){var n=t.stateNode;switch(t.tag){case ia:e(y(n));break;default:e(n)}}},commitDetachRef:function(t){null!==(t=t.ref)&&t(null)}}}function ft(t){function e(t){return t===ga&&r(\"174\"),t}var n=t.getChildHostContext,i=t.getRootHostContext,o=pa(ga),a=pa(ga),s=pa(ga);return{getHostContext:function(){return e(o.current)},getRootHostContainer:function(){return e(s.current)},popHostContainer:function(t){ma(o,t),ma(a,t),ma(s,t)},popHostContext:function(t){a.current===t&&(ma(o,t),ma(a,t))},pushHostContainer:function(t,e){va(s,e,t),e=i(e),va(a,t,t),va(o,e,t)},pushHostContext:function(t){var r=e(s.current),i=e(o.current);r=n(i,t.type,r),i!==r&&(va(a,t,t),va(o,r,t))},resetHostContainer:function(){o.current=ga,s.current=ga}}}function ht(t){function e(t,e){var n=Ea();n.stateNode=e,n.return=t,n.effectTag=_a,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function n(t,e){switch(t.tag){case ya:return a(e,t.type,t.pendingProps);case ba:return s(e,t.pendingProps);default:return!1}}function i(t){for(t=t.return;null!==t&&t.tag!==ya&&t.tag!==xa;)t=t.return;p=t}var o=t.shouldSetTextContent,a=t.canHydrateInstance,s=t.canHydrateTextInstance,u=t.getNextHydratableSibling,l=t.getFirstHydratableChild,c=t.hydrateInstance,f=t.hydrateTextInstance,h=t.didNotHydrateInstance,d=t.didNotFindHydratableInstance;if(t=t.didNotFindHydratableTextInstance,!(a&&s&&u&&l&&c&&f&&h&&d&&t))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r(\"175\")},prepareToHydrateHostTextInstance:function(){r(\"176\")},popHydrationState:function(){return!1}};var p=null,m=null,v=!1;return{enterHydrationState:function(t){return m=l(t.stateNode.containerInfo),p=t,v=!0},resetHydrationState:function(){m=p=null,v=!1},tryToClaimNextHydratableInstance:function(t){if(v){var r=m;if(r){if(!n(t,r)){if(!(r=u(r))||!n(t,r))return t.effectTag|=wa,v=!1,void(p=t);e(p,m)}t.stateNode=r,p=t,m=l(r)}else t.effectTag|=wa,v=!1,p=t}},prepareToHydrateHostInstance:function(t,e,n){return e=c(t.stateNode,t.type,t.memoizedProps,e,n,t),t.updateQueue=e,null!==e},prepareToHydrateHostTextInstance:function(t){return f(t.stateNode,t.memoizedProps,t)},popHydrationState:function(t){if(t!==p)return!1;if(!v)return i(t),v=!0,!1;var n=t.type;if(t.tag!==ya||\"head\"!==n&&\"body\"!==n&&!o(n,t.memoizedProps))for(n=m;n;)e(t,n),n=u(n);return i(t),m=p?u(t.stateNode):null,!0}}}function dt(t){function e(){for(;null!==Y&&Y.current.pendingWorkPriority===Ra;){Y.isScheduled=!1;var t=Y.nextScheduledRoot;if(Y.nextScheduledRoot=null,Y===X)return X=Y=null,V=Ra,null;Y=t}t=Y;for(var e=null,n=Ra;null!==t;)t.current.pendingWorkPriority!==Ra&&(n===Ra||n>t.current.pendingWorkPriority)&&(n=t.current.pendingWorkPriority,e=t),t=t.nextScheduledRoot;null!==e?(V=n,Ta(),$a(),w(),H=Aa(e.current,n),e!==it&&(rt=0,it=e)):(V=Ra,it=H=null)}function n(n){tt=!0,W=null;var i=n.stateNode;if(i.current===n&&r(\"177\"),V!==Oa&&V!==La||rt++,Sa.current=null,n.effectTag>Ua)if(null!==n.lastEffect){n.lastEffect.nextEffect=n;var o=n.firstEffect}else o=n;else o=n.firstEffect;for(I(),G=o;null!==G;){var a=!1,s=void 0;try{for(;null!==G;){var u=G.effectTag;if(u&Ha&&t.resetTextContent(G.stateNode),u&Wa){var l=G.alternate;null!==l&&L(l)}switch(u&~(Va|Ga|Ha|Wa|Ua)){case za:A(G),G.effectTag&=~za;break;case Ba:A(G),G.effectTag&=~za,C(G.alternate,G);break;case Fa:C(G.alternate,G);break;case ja:et=!0,P(G),et=!1}G=G.nextEffect}}catch(t){a=!0,s=t}a&&(null===G&&r(\"178\"),f(G,s),null!==G&&(G=G.nextEffect))}for(D(),i.current=n,G=o;null!==G;){i=!1,o=void 0;try{for(;null!==G;){var c=G.effectTag;if(c&(Fa|Va)&&R(G.alternate,G),c&Wa&&O(G),c&Ga)switch(a=G,s=void 0,null!==Z&&(s=Z.get(a),Z.delete(a),null==s&&null!==a.alternate&&(a=a.alternate,s=Z.get(a),Z.delete(a))),null==s&&r(\"184\"),a.tag){case Za:a.stateNode.componentDidCatch(s.error,{componentStack:s.componentStack});break;case Ya:null===Q&&(Q=s.error);break;default:r(\"157\")}var h=G.nextEffect;G.nextEffect=null,G=h}}catch(t){i=!0,o=t}i&&(null===G&&r(\"178\"),f(G,o),null!==G&&(G=G.nextEffect))}tt=!1,\"function\"==typeof Ca&&Ca(n.stateNode),$&&($.forEach(g),$=null),e()}function i(t){for(;;){var e=S(t.alternate,t,V),n=t.return,r=t.sibling,i=t;if(!(i.pendingWorkPriority!==Ra&&i.pendingWorkPriority>V)){for(var o=Ka(i),a=i.child;null!==a;)o=Pa(o,a.pendingWorkPriority),a=a.sibling;i.pendingWorkPriority=o}if(null!==e)return e;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),t.effectTag>Ua&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t)),null!==r)return r;if(null===n){W=t;break}t=n}return null}function o(t){var e=M(t.alternate,t,V);return null===e&&(e=i(t)),Sa.current=null,e}function a(t){var e=T(t.alternate,t,V);return null===e&&(e=i(t)),Sa.current=null,e}function s(t){c(Ia,t)}function u(){if(null!==Z&&0<Z.size&&V===La)for(;null!==H;){var t=H;if(null===(H=null!==Z&&(Z.has(t)||null!==t.alternate&&Z.has(t.alternate))?a(H):o(H))&&(null===W&&r(\"179\"),U=La,n(W),U=V,null===Z||0===Z.size||V!==La))break}}function l(t,i){if(null!==W?(U=La,n(W),u()):null===H&&e(),!(V===Ra||V>t)){U=V;t:for(;;){if(V<=La)for(;null!==H&&!(null===(H=o(H))&&(null===W&&r(\"179\"),U=La,n(W),U=V,u(),V===Ra||V>t||V>La)););else if(null!==i)for(;null!==H&&!F;)if(1<i.timeRemaining()){if(null===(H=o(H)))if(null===W&&r(\"179\"),1<i.timeRemaining()){if(U=La,n(W),U=V,u(),V===Ra||V>t||V<ka)break}else F=!0}else F=!0;switch(V){case Oa:case La:if(V<=t)continue t;break t;case ka:case Na:case Ia:if(null===i)break t;if(!F&&V<=t)continue t;break t;case Ra:break t;default:r(\"181\")}}}}function c(t,e){z&&r(\"182\"),z=!0;var n=U,i=!1,o=null;try{l(t,e)}catch(t){i=!0,o=t}for(;i;){if(J){Q=o;break}var u=H;if(null===u)J=!0;else{var c=f(u,o);if(null===c&&r(\"183\"),!J){try{i=c,o=t,c=e;for(var h=i;null!==u;){switch(u.tag){case Za:Ma(u);break;case Xa:_(u);break;case Ya:x(u);break;case qa:x(u)}if(u===h||u.alternate===h)break;u=u.return}H=a(i),l(o,c)}catch(t){i=!0,o=t;continue}break}}}if(U=n,null!==e&&(q=!1),V>La&&!q&&(k(s),q=!0),t=Q,J=F=z=!1,it=K=Z=Q=null,rt=0,null!==t)throw t}function f(t,e){var n=Sa.current=null,r=!1,i=!1,o=null;if(t.tag===Ya)n=t,d(t)&&(J=!0);else for(var a=t.return;null!==a&&null===n;){if(a.tag===Za?\"function\"==typeof a.stateNode.componentDidCatch&&(r=!0,o=h(a),n=a,i=!0):a.tag===Ya&&(n=a),d(a)){if(et||null!==$&&($.has(a)||null!==a.alternate&&$.has(a.alternate)))return null;n=null,i=!1}a=a.return}if(null!==n){null===K&&(K=new Set),K.add(n);var s=\"\";a=t;do{t:switch(a.tag){case hi:case di:case pi:case mi:var u=a._debugOwner,l=a._debugSource,c=h(a),f=null;u&&(f=h(u)),u=l,c=\"\\n    in \"+(c||\"Unknown\")+(u?\" (at \"+u.fileName.replace(/^.*[\\\\\\/]/,\"\")+\":\"+u.lineNumber+\")\":f?\" (created by \"+f+\")\":\"\");break t;default:c=\"\"}s+=c,a=a.return}while(a);a=s,t=h(t),null===Z&&(Z=new Map),e={componentName:t,componentStack:a,error:e,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:o,willRetry:i},Z.set(n,e);try{console.error(e.error)}catch(t){console.error(t)}return tt?(null===$&&($=new Set),$.add(n)):g(n),n}return null===Q&&(Q=e),null}function d(t){return null!==K&&(K.has(t)||null!==t.alternate&&K.has(t.alternate))}function p(t,e){return m(t,e,!1)}function m(t,e){rt>nt&&(J=!0,r(\"185\")),!z&&e<=V&&(H=null);for(var n=!0;null!==t&&n;){if(n=!1,(t.pendingWorkPriority===Ra||t.pendingWorkPriority>e)&&(n=!0,t.pendingWorkPriority=e),null!==t.alternate&&(t.alternate.pendingWorkPriority===Ra||t.alternate.pendingWorkPriority>e)&&(n=!0,t.alternate.pendingWorkPriority=e),null===t.return){if(t.tag!==Ya)break;var i=t.stateNode;if(e===Ra||i.isScheduled||(i.isScheduled=!0,X?X.nextScheduledRoot=i:Y=i,X=i),!z)switch(e){case Oa:j?c(Oa,null):c(La,null);break;case La:B||r(\"186\");break;default:q||(k(s),q=!0)}}t=t.return}}function v(t,e){var n=U;return n===Ra&&(n=!N||t.internalContextTag&Da||e?Na:Oa),n===Oa&&(z||B)?La:n}function g(t){m(t,La,!0)}var y=ft(t),b=ht(t),x=y.popHostContainer,_=y.popHostContext,w=y.resetHostContainer,E=st(t,y,b,p,v),M=E.beginWork,T=E.beginFailedWork,S=ut(t,y,b).completeWork;y=ct(t,f);var A=y.commitPlacement,P=y.commitDeletion,C=y.commitWork,R=y.commitLifeCycles,O=y.commitAttachRef,L=y.commitDetachRef,k=t.scheduleDeferredCallback,N=t.useSyncScheduling,I=t.prepareForCommit,D=t.resetAfterCommit,U=Ra,z=!1,F=!1,B=!1,j=!1,H=null,V=Ra,G=null,W=null,Y=null,X=null,q=!1,Z=null,K=null,$=null,Q=null,J=!1,tt=!1,et=!1,nt=1e3,rt=0,it=null;return{scheduleUpdate:p,getPriorityContext:v,batchedUpdates:function(t,e){var n=B;B=!0;try{return t(e)}finally{B=n,z||B||c(La,null)}},unbatchedUpdates:function(t){var e=j,n=B;j=B,B=!1;try{return t()}finally{B=n,j=e}},flushSync:function(t){var e=B,n=U;B=!0,U=Oa;try{return t()}finally{B=e,U=n,z&&r(\"187\"),c(La,null)}},deferredUpdates:function(t){var e=U;U=Na;try{return t()}finally{U=e}}}}function pt(){r(\"196\")}function mt(t){return t?(t=qe.get(t),\"number\"==typeof t.tag?pt(t):t._processChildContext(t._context)):xe}function vt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gt(t,e){var n=vt(t);t=0;for(var r;n;){if(n.nodeType===os){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=vt(n)}}function yt(){return!as&&ve.canUseDOM&&(as=\"textContent\"in document.documentElement?\"textContent\":\"innerText\"),as}function bt(){r(\"211\")}function xt(){r(\"212\")}function _t(t){if(null==t)return null;if(t.nodeType===fs)return t;var e=qe.get(t);if(e)return\"number\"==typeof e.tag?bt(e):xt(e);\"function\"==typeof t.render?r(\"188\"):r(\"213\",Object.keys(t))}function wt(t){if(void 0!==t._hostParent)return t._hostParent;if(\"number\"==typeof t.tag){do{t=t.return}while(t&&t.tag!==hs);if(t)return t}return null}function Et(t,e){for(var n=0,r=t;r;r=wt(r))n++;r=0;for(var i=e;i;i=wt(i))r++;for(;0<n-r;)t=wt(t),n--;for(;0<r-n;)e=wt(e),r--;for(;n--;){if(t===e||t===e.alternate)return t;t=wt(t),e=wt(e)}return null}function Mt(t,e,n){(e=ps(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=T(n._dispatchListeners,e),n._dispatchInstances=T(n._dispatchInstances,t))}function Tt(t){t&&t.dispatchConfig.phasedRegistrationNames&&ds.traverseTwoPhase(t._targetInst,Mt,t)}function St(t){if(t&&t.dispatchConfig.phasedRegistrationNames){var e=t._targetInst;e=e?ds.getParentInstance(e):null,ds.traverseTwoPhase(e,Mt,t)}}function At(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=ps(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,e),n._dispatchInstances=T(n._dispatchInstances,t))}function Pt(t){t&&t.dispatchConfig.registrationName&&At(t._targetInst,null,t)}function Ct(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):\"target\"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?be.thatReturnsTrue:be.thatReturnsFalse,this.isPropagationStopped=be.thatReturnsFalse,this}function Rt(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Ot(t){t instanceof this||r(\"223\"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Lt(t){t.eventPool=[],t.getPooled=Rt,t.release=Ot}function kt(t,e,n,r){return Ct.call(this,t,e,n,r)}function Nt(t,e,n,r){return Ct.call(this,t,e,n,r)}function It(t,e){switch(t){case\"topKeyUp\":return-1!==_s.indexOf(e.keyCode);case\"topKeyDown\":return 229!==e.keyCode;case\"topKeyPress\":case\"topMouseDown\":case\"topBlur\":return!0;default:return!1}}function Dt(t){return t=t.detail,\"object\"==typeof t&&\"data\"in t?t.data:null}function Ut(t,e){switch(t){case\"topCompositionEnd\":return Dt(e);case\"topKeyPress\":return 32!==e.which?null:(Rs=!0,Ps);case\"topTextInput\":return t=e.data,t===Ps&&Rs?null:t;default:return null}}function zt(t,e){if(Os)return\"topCompositionEnd\"===t||!ws&&It(t,e)?(t=ys.getData(),ys.reset(),Os=!1,t):null;switch(t){case\"topPaste\":return null;case\"topKeyPress\":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case\"topCompositionEnd\":return As?null:e.data;default:return null}}function Ft(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return\"input\"===e?!!ks[t.type]:\"textarea\"===e}function Bt(t,e,n){return t=Ct.getPooled(Ns.change,t,e,n),t.type=\"change\",hn.enqueueStateRestore(n),ms.accumulateTwoPhaseDispatches(t),t}function jt(t){_n.enqueueEvents(t),_n.processEventQueue(!1)}function Ht(t){var e=Xe.getNodeFromInstance(t);if(Jn.updateValueIfChanged(e))return t}function Vt(t,e){if(\"topChange\"===t)return e}function Gt(){Is&&(Is.detachEvent(\"onpropertychange\",Wt),Ds=Is=null)}function Wt(t){\"value\"===t.propertyName&&Ht(Ds)&&(t=Bt(Ds,t,E(t)),pn.batchedUpdates(jt,t))}function Yt(t,e,n){\"topFocus\"===t?(Gt(),Is=e,Ds=n,Is.attachEvent(\"onpropertychange\",Wt)):\"topBlur\"===t&&Gt()}function Xt(t){if(\"topSelectionChange\"===t||\"topKeyUp\"===t||\"topKeyDown\"===t)return Ht(Ds)}function qt(t,e){if(\"topClick\"===t)return Ht(e)}function Zt(t,e){if(\"topInput\"===t||\"topChange\"===t)return Ht(e)}function Kt(t,e,n,r){return Ct.call(this,t,e,n,r)}function $t(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Fs[t])&&!!e[t]}function Qt(){return $t}function Jt(t,e,n,r){return Ct.call(this,t,e,n,r)}function te(t,e){if(qs||null==Ws||Ws!==Me())return null;var n=Ws;return\"selectionStart\"in n&&cs.hasSelectionCapabilities(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,Xs&&_e(Xs,n)?null:(Xs=n,t=Ct.getPooled(Gs.select,Ys,t,e),t.type=\"select\",t.target=Ws,ms.accumulateTwoPhaseDispatches(t),t)}function ee(t,e,n,r){return Ct.call(this,t,e,n,r)}function ne(t,e,n,r){return Ct.call(this,t,e,n,r)}function re(t,e,n,r){return Ct.call(this,t,e,n,r)}function ie(t){var e=t.keyCode;return\"charCode\"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,32<=t||13===t?t:0}function oe(t,e,n,r){return Ct.call(this,t,e,n,r)}function ae(t,e,n,r){return Ct.call(this,t,e,n,r)}function se(t,e,n,r){return Ct.call(this,t,e,n,r)}function ue(t,e,n,r){return Ct.call(this,t,e,n,r)}function le(t,e,n,r){return Ct.call(this,t,e,n,r)}function ce(t){return t[1].toUpperCase()}function fe(t){return!(!t||t.nodeType!==du&&t.nodeType!==vu&&t.nodeType!==gu&&(t.nodeType!==mu||\" react-mount-point-unstable \"!==t.nodeValue))}function he(t){return!(!(t=t?t.nodeType===vu?t.documentElement:t.firstChild:null)||t.nodeType!==du||!t.hasAttribute(yu))}function de(t,e,n,i,o){fe(n)||r(\"200\");var a=n._reactRootContainer;if(a)Iu.updateContainer(e,a,t,o);else{if(!i&&!he(n))for(i=void 0;i=n.lastChild;)n.removeChild(i);var s=Iu.createContainer(n);a=n._reactRootContainer=s,Iu.unbatchedUpdates(function(){Iu.updateContainer(e,s,t,o)})}return Iu.getPublicRootInstance(a)}function pe(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return fe(e)||r(\"200\"),yi.createPortal(t,e,null,n)}var me=n(2);n(67);var ve=n(215),ge=n(68),ye=n(214),be=n(44),xe=n(89),_e=n(221),we=n(216),Ee=n(217),Me=n(218);me||r(\"227\");var Te,Se,Ae={Namespaces:{html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"},getIntrinsicNamespace:i,getChildNamespace:function(t,e){return null==t||\"http://www.w3.org/1999/xhtml\"===t?i(e):\"http://www.w3.org/2000/svg\"===t&&\"foreignObject\"===e?\"http://www.w3.org/1999/xhtml\":t}},Pe=null,Ce={},Re={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(t){Pe&&r(\"101\"),Pe=Array.prototype.slice.call(t),o()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];Ce.hasOwnProperty(e)&&Ce[e]===i||(Ce[e]&&r(\"102\",e),Ce[e]=i,n=!0)}n&&o()}},Oe=Re,Le={children:!0,dangerouslySetInnerHTML:!0,autoFocus:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,style:!0},ke={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=ke,n=t.Properties||{},i=t.DOMAttributeNamespaces||{},o=t.DOMAttributeNames||{};t=t.DOMMutationMethods||{};for(var a in n){Ne.properties.hasOwnProperty(a)&&r(\"48\",a);var u=a.toLowerCase(),l=n[a];u={attributeName:u,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:s(l,e.MUST_USE_PROPERTY),hasBooleanValue:s(l,e.HAS_BOOLEAN_VALUE),hasNumericValue:s(l,e.HAS_NUMERIC_VALUE),hasPositiveNumericValue:s(l,e.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:s(l,e.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:s(l,e.HAS_STRING_BOOLEAN_VALUE)},1>=u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue||r(\"50\",a),o.hasOwnProperty(a)&&(u.attributeName=o[a]),i.hasOwnProperty(a)&&(u.attributeNamespace=i[a]),t.hasOwnProperty(a)&&(u.mutationMethod=t[a]),Ne.properties[a]=u}}},Ne={ID_ATTRIBUTE_NAME:\"data-reactid\",ROOT_ATTRIBUTE_NAME:\"data-reactroot\",ATTRIBUTE_NAME_START_CHAR:\":A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\",ATTRIBUTE_NAME_CHAR:\":A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\",properties:{},shouldSetAttribute:function(t,e){if(Ne.isReservedProp(t)||!(\"o\"!==t[0]&&\"O\"!==t[0]||\"n\"!==t[1]&&\"N\"!==t[1]))return!1;if(null===e)return!0;switch(typeof e){case\"boolean\":return Ne.shouldAttributeAcceptBooleanValue(t);case\"undefined\":case\"number\":case\"string\":case\"object\":return!0;default:return!1}},getPropertyInfo:function(t){return Ne.properties.hasOwnProperty(t)?Ne.properties[t]:null},shouldAttributeAcceptBooleanValue:function(t){if(Ne.isReservedProp(t))return!0;var e=Ne.getPropertyInfo(t);return e?e.hasBooleanValue||e.hasStringBooleanValue||e.hasOverloadedBooleanValue:\"data-\"===(t=t.toLowerCase().slice(0,5))||\"aria-\"===t},isReservedProp:function(t){return Le.hasOwnProperty(t)},injection:ke},Ie=Ne,De={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10},Ue={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11},ze=De.HostComponent,Fe=De.HostText,Be=Ue.ELEMENT_NODE,je=Ue.COMMENT_NODE,He=Ie.ID_ATTRIBUTE_NAME,Ve={hasCachedChildNodes:1},Ge=Math.random().toString(36).slice(2),We=\"__reactInternalInstance$\"+Ge,Ye=\"__reactEventHandlers$\"+Ge,Xe={getClosestInstanceFromNode:f,getInstanceFromNode:function(t){var e=t[We];return e?e.tag===ze||e.tag===Fe?e:e._hostNode===t?e:null:(e=f(t),null!=e&&e._hostNode===t?e:null)},getNodeFromInstance:function(t){if(t.tag===ze||t.tag===Fe)return t.stateNode;if(void 0===t._hostNode&&r(\"33\"),t._hostNode)return t._hostNode;for(var e=[];!t._hostNode;)e.push(t),t._hostParent||r(\"34\"),t=t._hostParent;for(;e.length;t=e.pop())c(t,t._hostNode);return t._hostNode},precacheChildNodes:c,precacheNode:l,uncacheNode:function(t){var e=t._hostNode;e&&(delete e[We],t._hostNode=null)},precacheFiberNode:function(t,e){e[We]=t},getFiberCurrentPropsFromNode:function(t){return t[Ye]||null},updateFiberProps:function(t,e){t[Ye]=e}},qe={remove:function(t){t._reactInternalFiber=void 0},get:function(t){return t._reactInternalFiber},has:function(t){return void 0!==t._reactInternalFiber},set:function(t,e){t._reactInternalFiber=e}},Ze={ReactCurrentOwner:me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},Ke={NoEffect:0,PerformedWork:1,Placement:2,Update:4,PlacementAndUpdate:6,Deletion:8,ContentReset:16,Callback:32,Err:64,Ref:128},$e=De.HostComponent,Qe=De.HostRoot,Je=De.HostPortal,tn=De.HostText,en=Ke.NoEffect,nn=Ke.Placement,rn={isFiberMounted:function(t){return 2===d(t)},isMounted:function(t){return!!(t=qe.get(t))&&2===d(t)},findCurrentFiberUsingSlowPath:m,findCurrentHostFiber:function(t){if(!(t=m(t)))return null;for(var e=t;;){if(e.tag===$e||e.tag===tn)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null},findCurrentHostFiberWithNoPortals:function(t){if(!(t=m(t)))return null;for(var e=t;;){if(e.tag===$e||e.tag===tn)return e;if(e.child&&e.tag!==Je)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}},on={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(t){\"function\"!=typeof t.invokeGuardedCallback&&r(\"197\"),v=t.invokeGuardedCallback}},invokeGuardedCallback:function(t,e,n,r,i,o,a,s,u){v.apply(on,arguments)},invokeGuardedCallbackAndCatchFirstError:function(t,e,n,r,i,o,a,s,u){if(on.invokeGuardedCallback.apply(this,arguments),on.hasCaughtError()){var l=on.clearCaughtError();on._hasRethrowError||(on._hasRethrowError=!0,on._rethrowError=l)}},rethrowCaughtError:function(){return g.apply(on,arguments)},hasCaughtError:function(){return on._hasCaughtError},clearCaughtError:function(){if(on._hasCaughtError){var t=on._caughtError;return on._caughtError=null,on._hasCaughtError=!1,t}r(\"198\")}},an=on,sn={isEndish:function(t){return\"topMouseUp\"===t||\"topTouchEnd\"===t||\"topTouchCancel\"===t},isMoveish:function(t){return\"topMouseMove\"===t||\"topTouchMove\"===t},isStartish:function(t){return\"topMouseDown\"===t||\"topTouchStart\"===t},executeDirectDispatch:function(t){var e=t._dispatchListeners,n=t._dispatchInstances;return Array.isArray(e)&&r(\"103\"),t.currentTarget=e?sn.getNodeFromInstance(n):null,e=e?e(t):null,t.currentTarget=null,t._dispatchListeners=null,t._dispatchInstances=null,e},executeDispatchesInOrder:function(t,e){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)y(t,e,n[i],r[i]);else n&&y(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(t){t:{var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r])){e=n[r];break t}}else if(e&&e(t,n)){e=n;break t}e=null}return t._dispatchInstances=null,t._dispatchListeners=null,e},hasDispatches:function(t){return!!t._dispatchListeners},getFiberCurrentPropsFromNode:function(t){return Te.getFiberCurrentPropsFromNode(t)},getInstanceFromNode:function(t){return Te.getInstanceFromNode(t)},getNodeFromInstance:function(t){return Te.getNodeFromInstance(t)},injection:{injectComponentTree:function(t){Te=t}}},un=sn,ln=null,cn=null,fn=null,hn={injection:{injectFiberControlledHostComponent:function(t){ln=t}},enqueueStateRestore:function(t){cn?fn?fn.push(t):fn=[t]:cn=t},restoreStateIfNeeded:function(){if(cn){var t=cn,e=fn;if(fn=cn=null,b(t),e)for(t=0;t<e.length;t++)b(e[t])}}},dn=!1,pn={batchedUpdates:function(t,e){if(dn)return x(w,t,e);dn=!0;try{return x(w,t,e)}finally{dn=!1,hn.restoreStateIfNeeded()}},injection:{injectStackBatchedUpdates:function(t){x=t},injectFiberBatchedUpdates:function(t){_=t}}},mn=Ue.TEXT_NODE,vn=De.HostRoot,gn=[],yn={_enabled:!0,_handleTopLevel:null,setHandleTopLevel:function(t){yn._handleTopLevel=t},setEnabled:function(t){yn._enabled=!!t},isEnabled:function(){return yn._enabled},trapBubbledEvent:function(t,e,n){return n?ye.listen(n,e,yn.dispatchEvent.bind(null,t)):null},trapCapturedEvent:function(t,e,n){return n?ye.capture(n,e,yn.dispatchEvent.bind(null,t)):null},dispatchEvent:function(t,e){if(yn._enabled){var n=E(e);if(n=Xe.getClosestInstanceFromNode(n),null===n||\"number\"!=typeof n.tag||rn.isFiberMounted(n)||(n=null),gn.length){var r=gn.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{pn.batchedUpdates(M,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>gn.length&&gn.push(t)}}}},bn=yn,xn=null,_n={injection:{injectEventPluginOrder:Oe.injectEventPluginOrder,injectEventPluginsByName:Oe.injectEventPluginsByName},getListener:function(t,e){if(\"number\"==typeof t.tag){var n=t.stateNode;if(!n)return null;var i=un.getFiberCurrentPropsFromNode(n);if(!i)return null;if(n=i[e],R(e,t.type,i))return null}else{if(\"string\"==typeof(i=t._currentElement)||\"number\"==typeof i||!t._rootNodeID)return null;if(t=i.props,n=t[e],R(e,i.type,t))return null}return n&&\"function\"!=typeof n&&r(\"231\",e,typeof n),n},extractEvents:function(t,e,n,r){for(var i,o=Oe.plugins,a=0;a<o.length;a++){var s=o[a];s&&(s=s.extractEvents(t,e,n,r))&&(i=T(i,s))}return i},enqueueEvents:function(t){t&&(xn=T(xn,t))},processEventQueue:function(t){var e=xn;xn=null,t?S(e,P):S(e,C),xn&&r(\"95\"),an.rethrowCaughtError()}};ve.canUseDOM&&(Se=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature(\"\",\"\"));var wn={animationend:L(\"Animation\",\"AnimationEnd\"),animationiteration:L(\"Animation\",\"AnimationIteration\"),animationstart:L(\"Animation\",\"AnimationStart\"),transitionend:L(\"Transition\",\"TransitionEnd\")},En={},Mn={};ve.canUseDOM&&(Mn=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),\"TransitionEvent\"in window||delete wn.transitionend.transition);var Tn={topAbort:\"abort\",topAnimationEnd:k(\"animationend\")||\"animationend\",topAnimationIteration:k(\"animationiteration\")||\"animationiteration\",topAnimationStart:k(\"animationstart\")||\"animationstart\",topBlur:\"blur\",topCancel:\"cancel\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topChange:\"change\",topClick:\"click\",topClose:\"close\",topCompositionEnd:\"compositionend\",topCompositionStart:\"compositionstart\",topCompositionUpdate:\"compositionupdate\",topContextMenu:\"contextmenu\",topCopy:\"copy\",topCut:\"cut\",topDoubleClick:\"dblclick\",topDrag:\"drag\",topDragEnd:\"dragend\",topDragEnter:\"dragenter\",topDragExit:\"dragexit\",topDragLeave:\"dragleave\",topDragOver:\"dragover\",topDragStart:\"dragstart\",topDrop:\"drop\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topFocus:\"focus\",topInput:\"input\",topKeyDown:\"keydown\",topKeyPress:\"keypress\",topKeyUp:\"keyup\",topLoadedData:\"loadeddata\",topLoad:\"load\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",topMouseDown:\"mousedown\",topMouseMove:\"mousemove\",topMouseOut:\"mouseout\",topMouseOver:\"mouseover\",topMouseUp:\"mouseup\",topPaste:\"paste\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topScroll:\"scroll\",topSeeked:\"seeked\",topSeeking:\"seeking\",topSelectionChange:\"selectionchange\",topStalled:\"stalled\",topSuspend:\"suspend\",topTextInput:\"textInput\",topTimeUpdate:\"timeupdate\",topToggle:\"toggle\",topTouchCancel:\"touchcancel\",topTouchEnd:\"touchend\",topTouchMove:\"touchmove\",topTouchStart:\"touchstart\",topTransitionEnd:k(\"transitionend\")||\"transitionend\",topVolumeChange:\"volumechange\",topWaiting:\"waiting\",topWheel:\"wheel\"},Sn={},An=0,Pn=\"_reactListenersID\"+(\"\"+Math.random()).slice(2),Cn=ge({},{handleTopLevel:function(t,e,n,r){t=_n.extractEvents(t,e,n,r),_n.enqueueEvents(t),_n.processEventQueue(!1)}},{setEnabled:function(t){bn&&bn.setEnabled(t)},isEnabled:function(){return!(!bn||!bn.isEnabled())},listenTo:function(t,e){var n=N(e);t=Oe.registrationNameDependencies[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||(\"topWheel\"===i?O(\"wheel\")?bn.trapBubbledEvent(\"topWheel\",\"wheel\",e):O(\"mousewheel\")?bn.trapBubbledEvent(\"topWheel\",\"mousewheel\",e):bn.trapBubbledEvent(\"topWheel\",\"DOMMouseScroll\",e):\"topScroll\"===i?bn.trapCapturedEvent(\"topScroll\",\"scroll\",e):\"topFocus\"===i||\"topBlur\"===i?(bn.trapCapturedEvent(\"topFocus\",\"focus\",e),bn.trapCapturedEvent(\"topBlur\",\"blur\",e),n.topBlur=!0,n.topFocus=!0):\"topCancel\"===i?(O(\"cancel\",!0)&&bn.trapCapturedEvent(\"topCancel\",\"cancel\",e),n.topCancel=!0):\"topClose\"===i?(O(\"close\",!0)&&bn.trapCapturedEvent(\"topClose\",\"close\",e),n.topClose=!0):Tn.hasOwnProperty(i)&&bn.trapBubbledEvent(i,Tn[i],e),n[i]=!0)}},isListeningToAllDependencies:function(t,e){e=N(e),t=Oe.registrationNameDependencies[t];for(var n=0;n<t.length;n++){var r=t[n];if(!e.hasOwnProperty(r)||!e[r])return!1}return!0},trapBubbledEvent:function(t,e,n){return bn.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return bn.trapCapturedEvent(t,e,n)}}),Rn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},On=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Rn).forEach(function(t){On.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rn[e]=Rn[t]})});var Ln={isUnitlessNumber:Rn,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}},kn=Ln.isUnitlessNumber,Nn=!1;if(ve.canUseDOM){var In=document.createElement(\"div\").style;try{In.font=\"\"}catch(t){Nn=!0}}var Dn,Un={createDangerousStringForStyles:function(){},setValueForStyles:function(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf(\"--\"),i=n,o=e[n];if(i=null==o||\"boolean\"==typeof o||\"\"===o?\"\":r||\"number\"!=typeof o||0===o||kn.hasOwnProperty(i)&&kn[i]?(\"\"+o).trim():o+\"px\",\"float\"===n&&(n=\"cssFloat\"),r)t.setProperty(n,i);else if(i)t[n]=i;else if(r=Nn&&Ln.shorthandPropertyExpansions[n])for(var a in r)t[a]=\"\";else t[n]=\"\"}}},zn=new RegExp(\"^[\"+Ie.ATTRIBUTE_NAME_START_CHAR+\"][\"+Ie.ATTRIBUTE_NAME_CHAR+\"]*$\"),Fn={},Bn={},jn={setAttributeForID:function(t,e){t.setAttribute(Ie.ID_ATTRIBUTE_NAME,e)},setAttributeForRoot:function(t){t.setAttribute(Ie.ROOT_ATTRIBUTE_NAME,\"\")},getValueForProperty:function(){},getValueForAttribute:function(){},setValueForProperty:function(t,e,n){var r=Ie.getPropertyInfo(e);if(r&&Ie.shouldSetAttribute(e,n)){var i=r.mutationMethod;i?i(t,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?jn.deleteValueForProperty(t,e):r.mustUseProperty?t[r.propertyName]=n:(e=r.attributeName,(i=r.attributeNamespace)?t.setAttributeNS(i,e,\"\"+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?t.setAttribute(e,\"\"):t.setAttribute(e,\"\"+n))}else jn.setValueForAttribute(t,e,Ie.shouldSetAttribute(e,n)?n:null)},setValueForAttribute:function(t,e,n){I(e)&&(null==n?t.removeAttribute(e):t.setAttribute(e,\"\"+n))},deleteValueForAttribute:function(t,e){t.removeAttribute(e)},deleteValueForProperty:function(t,e){var n=Ie.getPropertyInfo(e);n?(e=n.mutationMethod)?e(t,void 0):n.mustUseProperty?t[n.propertyName]=!n.hasBooleanValue&&\"\":t.removeAttribute(n.attributeName):t.removeAttribute(e)}},Hn=jn,Vn=Ze.ReactDebugCurrentFrame,Gn={current:null,phase:null,resetCurrentFiber:function(){Vn.getCurrentStack=null,Gn.current=null,Gn.phase=null},setCurrentFiber:function(t,e){Vn.getCurrentStack=D,Gn.current=t,Gn.phase=e},getCurrentFiberOwnerName:function(){return null},getCurrentFiberStackAddendum:D},Wn=Gn,Yn={getHostProps:function(t,e){var n=e.value,r=e.checked;return ge({type:void 0,step:void 0,min:void 0,max:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:t._wrapperState.initialValue,checked:null!=r?r:t._wrapperState.initialChecked})},initWrapperState:function(t,e){var n=e.defaultValue;t._wrapperState={initialChecked:null!=e.checked?e.checked:e.defaultChecked,initialValue:null!=e.value?e.value:n,controlled:\"checkbox\"===e.type||\"radio\"===e.type?null!=e.checked:null!=e.value}},updateWrapper:function(t,e){var n=e.checked;null!=n&&Hn.setValueForProperty(t,\"checked\",n||!1),n=e.value,null!=n?0===n&&\"\"===t.value?t.value=\"0\":\"number\"===e.type?(e=parseFloat(t.value)||0,(n!=e||n==e&&t.value!=n)&&(t.value=\"\"+n)):t.value!==\"\"+n&&(t.value=\"\"+n):(null==e.value&&null!=e.defaultValue&&t.defaultValue!==\"\"+e.defaultValue&&(t.defaultValue=\"\"+e.defaultValue),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked))},postMountWrapper:function(t,e){switch(e.type){case\"submit\":case\"reset\":break;case\"color\":case\"date\":case\"datetime\":case\"datetime-local\":case\"month\":case\"time\":case\"week\":t.value=\"\",t.value=t.defaultValue;break;default:t.value=t.value}e=t.name,\"\"!==e&&(t.name=\"\"),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!t.defaultChecked,\"\"!==e&&(t.name=e)},restoreControlledState:function(t,e){Yn.updateWrapper(t,e);var n=e.name;if(\"radio\"===e.type&&null!=n){for(e=t;e.parentNode;)e=e.parentNode;for(n=e.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+n)+'][type=\"radio\"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=Xe.getFiberCurrentPropsFromNode(i);o||r(\"90\"),Yn.updateWrapper(i,o)}}}}},Xn=Yn,qn={validateProps:function(){},postMountWrapper:function(t,e){null!=e.value&&t.setAttribute(\"value\",e.value)},getHostProps:function(t,e){return t=ge({children:void 0},e),(e=U(e.children))&&(t.children=e),t}},Zn={getHostProps:function(t,e){return ge({},e,{value:void 0})},initWrapperState:function(t,e){var n=e.value;t._wrapperState={initialValue:null!=n?n:e.defaultValue,wasMultiple:!!e.multiple}},postMountWrapper:function(t,e){t.multiple=!!e.multiple;var n=e.value;null!=n?z(t,!!e.multiple,n):null!=e.defaultValue&&z(t,!!e.multiple,e.defaultValue)},postUpdateWrapper:function(t,e){t._wrapperState.initialValue=void 0;var n=t._wrapperState.wasMultiple;t._wrapperState.wasMultiple=!!e.multiple;var r=e.value;null!=r?z(t,!!e.multiple,r):n!==!!e.multiple&&(null!=e.defaultValue?z(t,!!e.multiple,e.defaultValue):z(t,!!e.multiple,e.multiple?[]:\"\"))},restoreControlledState:function(t,e){var n=e.value;null!=n&&z(t,!!e.multiple,n)}},Kn={getHostProps:function(t,e){return null!=e.dangerouslySetInnerHTML&&r(\"91\"),ge({},e,{value:void 0,defaultValue:void 0,children:\"\"+t._wrapperState.initialValue})},initWrapperState:function(t,e){var n=e.value,i=n;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&r(\"92\"),Array.isArray(e)&&(1>=e.length||r(\"93\"),e=e[0]),n=\"\"+e),null==n&&(n=\"\"),i=n),t._wrapperState={initialValue:\"\"+i}},updateWrapper:function(t,e){var n=e.value;null!=n&&(n=\"\"+n,n!==t.value&&(t.value=n),null==e.defaultValue&&(t.defaultValue=n)),null!=e.defaultValue&&(t.defaultValue=e.defaultValue)},postMountWrapper:function(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)},restoreControlledState:function(t,e){Kn.updateWrapper(t,e)}},$n=Kn,Qn=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Jn={_getTrackerFromNode:function(t){return t._valueTracker},track:function(t){t._valueTracker||(t._valueTracker=j(t))},updateValueIfChanged:function(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r=\"\";return t&&(r=B(t)?t.checked?\"true\":\"false\":t.value),(t=r)!==n&&(e.setValue(t),!0)},stopTracking:function(t){(t=t._valueTracker)&&t.stopTracking()}},tr=Ae.Namespaces,er=function(t){return\"undefined\"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==tr.svg||\"innerHTML\"in t)t.innerHTML=e;else for(Dn=Dn||document.createElement(\"div\"),Dn.innerHTML=\"<svg>\"+e+\"</svg>\",e=Dn.firstChild;e.firstChild;)t.appendChild(e.firstChild)}),nr=/[\"'&<>]/,rr=Ue.TEXT_NODE;ve.canUseDOM&&(\"textContent\"in document.documentElement||(V=function(t,e){if(t.nodeType===rr)t.nodeValue=e;else{if(\"boolean\"==typeof e||\"number\"==typeof e)e=\"\"+e;else{e=\"\"+e;var n=nr.exec(e);if(n){var r,i=\"\",o=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:n=\"&quot;\";break;case 38:n=\"&amp;\";break;case 39:n=\"&#x27;\";break;case 60:n=\"&lt;\";break;case 62:n=\"&gt;\";break;default:continue}o!==r&&(i+=e.substring(o,r)),o=r+1,i+=n}e=o!==r?i+e.substring(o,r):i}}er(t,e)}}));var ir=V,or=(Wn.getCurrentFiberOwnerName,Ue.DOCUMENT_NODE),ar=Ue.DOCUMENT_FRAGMENT_NODE,sr=Cn.listenTo,ur=Oe.registrationNameModules,lr=Ae.Namespaces.html,cr=Ae.getIntrinsicNamespace,fr={topAbort:\"abort\",topCanPlay:\"canplay\",topCanPlayThrough:\"canplaythrough\",topDurationChange:\"durationchange\",topEmptied:\"emptied\",topEncrypted:\"encrypted\",topEnded:\"ended\",topError:\"error\",topLoadedData:\"loadeddata\",topLoadedMetadata:\"loadedmetadata\",topLoadStart:\"loadstart\",topPause:\"pause\",topPlay:\"play\",topPlaying:\"playing\",topProgress:\"progress\",topRateChange:\"ratechange\",topSeeked:\"seeked\",topSeeking:\"seeking\",topStalled:\"stalled\",topSuspend:\"suspend\",topTimeUpdate:\"timeupdate\",topVolumeChange:\"volumechange\",topWaiting:\"waiting\"},hr={createElement:function(t,e,n,r){return n=n.nodeType===or?n:n.ownerDocument,r===lr&&(r=cr(t)),r===lr?\"script\"===t?(t=n.createElement(\"div\"),t.innerHTML=\"<script><\\/script>\",t=t.removeChild(t.firstChild)):t=\"string\"==typeof e.is?n.createElement(t,{is:e.is}):n.createElement(t):t=n.createElementNS(r,t),t},createTextNode:function(t,e){return(e.nodeType===or?e:e.ownerDocument).createTextNode(t)},setInitialProperties:function(t,e,n,r){var i=H(e,n);switch(e){case\"iframe\":case\"object\":Cn.trapBubbledEvent(\"topLoad\",\"load\",t);var o=n;break;case\"video\":case\"audio\":for(o in fr)fr.hasOwnProperty(o)&&Cn.trapBubbledEvent(o,fr[o],t);o=n;break;case\"source\":Cn.trapBubbledEvent(\"topError\",\"error\",t),o=n;break;case\"img\":case\"image\":Cn.trapBubbledEvent(\"topError\",\"error\",t),Cn.trapBubbledEvent(\"topLoad\",\"load\",t),o=n;break;case\"form\":Cn.trapBubbledEvent(\"topReset\",\"reset\",t),Cn.trapBubbledEvent(\"topSubmit\",\"submit\",t),o=n;break;case\"details\":Cn.trapBubbledEvent(\"topToggle\",\"toggle\",t),o=n;break;case\"input\":Xn.initWrapperState(t,n),o=Xn.getHostProps(t,n),Cn.trapBubbledEvent(\"topInvalid\",\"invalid\",t),G(r,\"onChange\");break;case\"option\":qn.validateProps(t,n),o=qn.getHostProps(t,n);break;case\"select\":Zn.initWrapperState(t,n),o=Zn.getHostProps(t,n),Cn.trapBubbledEvent(\"topInvalid\",\"invalid\",t),G(r,\"onChange\");break;case\"textarea\":$n.initWrapperState(t,n),o=$n.getHostProps(t,n),Cn.trapBubbledEvent(\"topInvalid\",\"invalid\",t),G(r,\"onChange\");break;default:o=n}F(e,o);var a,s=o;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];\"style\"===a?Un.setValueForStyles(t,u):\"dangerouslySetInnerHTML\"===a?null!=(u=u?u.__html:void 0)&&er(t,u):\"children\"===a?\"string\"==typeof u?ir(t,u):\"number\"==typeof u&&ir(t,\"\"+u):\"suppressContentEditableWarning\"!==a&&(ur.hasOwnProperty(a)?null!=u&&G(r,a):i?Hn.setValueForAttribute(t,a,u):null!=u&&Hn.setValueForProperty(t,a,u))}switch(e){case\"input\":Jn.track(t),Xn.postMountWrapper(t,n);break;case\"textarea\":Jn.track(t),$n.postMountWrapper(t,n);break;case\"option\":qn.postMountWrapper(t,n);break;case\"select\":Zn.postMountWrapper(t,n);break;default:\"function\"==typeof o.onClick&&(t.onclick=be)}},diffProperties:function(t,e,n,r,i){var o=null;switch(e){case\"input\":n=Xn.getHostProps(t,n),r=Xn.getHostProps(t,r),o=[];break;case\"option\":n=qn.getHostProps(t,n),r=qn.getHostProps(t,r),o=[];break;case\"select\":n=Zn.getHostProps(t,n),r=Zn.getHostProps(t,r),o=[];break;case\"textarea\":n=$n.getHostProps(t,n),r=$n.getHostProps(t,r),o=[];break;default:\"function\"!=typeof n.onClick&&\"function\"==typeof r.onClick&&(t.onclick=be)}F(e,r);var a,s;t=null;for(a in n)if(!r.hasOwnProperty(a)&&n.hasOwnProperty(a)&&null!=n[a])if(\"style\"===a)for(s in e=n[a])e.hasOwnProperty(s)&&(t||(t={}),t[s]=\"\");else\"dangerouslySetInnerHTML\"!==a&&\"children\"!==a&&\"suppressContentEditableWarning\"!==a&&(ur.hasOwnProperty(a)?o||(o=[]):(o=o||[]).push(a,null));for(a in r){var u=r[a];if(e=null!=n?n[a]:void 0,r.hasOwnProperty(a)&&u!==e&&(null!=u||null!=e))if(\"style\"===a)if(e){for(s in e)!e.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(t||(t={}),t[s]=\"\");for(s in u)u.hasOwnProperty(s)&&e[s]!==u[s]&&(t||(t={}),t[s]=u[s])}else t||(o||(o=[]),o.push(a,t)),t=u;else\"dangerouslySetInnerHTML\"===a?(u=u?u.__html:void 0,e=e?e.__html:void 0,null!=u&&e!==u&&(o=o||[]).push(a,\"\"+u)):\"children\"===a?e===u||\"string\"!=typeof u&&\"number\"!=typeof u||(o=o||[]).push(a,\"\"+u):\"suppressContentEditableWarning\"!==a&&(ur.hasOwnProperty(a)?(null!=u&&G(i,a),o||e===u||(o=[])):(o=o||[]).push(a,u))}return t&&(o=o||[]).push(\"style\",t),o},updateProperties:function(t,e,n,r,i){H(n,r),r=H(n,i);for(var o=0;o<e.length;o+=2){var a=e[o],s=e[o+1];\"style\"===a?Un.setValueForStyles(t,s):\"dangerouslySetInnerHTML\"===a?er(t,s):\"children\"===a?ir(t,s):r?null!=s?Hn.setValueForAttribute(t,a,s):Hn.deleteValueForAttribute(t,a):null!=s?Hn.setValueForProperty(t,a,s):Hn.deleteValueForProperty(t,a)}switch(n){case\"input\":Xn.updateWrapper(t,i),Jn.updateValueIfChanged(t);break;case\"textarea\":$n.updateWrapper(t,i);break;case\"select\":Zn.postUpdateWrapper(t,i)}},diffHydratedProperties:function(t,e,n,r,i){switch(e){case\"iframe\":case\"object\":Cn.trapBubbledEvent(\"topLoad\",\"load\",t);break;case\"video\":case\"audio\":for(var o in fr)fr.hasOwnProperty(o)&&Cn.trapBubbledEvent(o,fr[o],t);break;case\"source\":Cn.trapBubbledEvent(\"topError\",\"error\",t);break;case\"img\":case\"image\":Cn.trapBubbledEvent(\"topError\",\"error\",t),Cn.trapBubbledEvent(\"topLoad\",\"load\",t);break;case\"form\":Cn.trapBubbledEvent(\"topReset\",\"reset\",t),Cn.trapBubbledEvent(\"topSubmit\",\"submit\",t);break;case\"details\":Cn.trapBubbledEvent(\"topToggle\",\"toggle\",t);break;case\"input\":Xn.initWrapperState(t,n),Cn.trapBubbledEvent(\"topInvalid\",\"invalid\",t),G(i,\"onChange\");break;case\"option\":qn.validateProps(t,n);break;case\"select\":Zn.initWrapperState(t,n),Cn.trapBubbledEvent(\"topInvalid\",\"invalid\",t),G(i,\"onChange\");break;case\"textarea\":$n.initWrapperState(t,n),Cn.trapBubbledEvent(\"topInvalid\",\"invalid\",t),G(i,\"onChange\")}F(e,n),r=null;for(var a in n)n.hasOwnProperty(a)&&(o=n[a],\"children\"===a?\"string\"==typeof o?t.textContent!==o&&(r=[\"children\",o]):\"number\"==typeof o&&t.textContent!==\"\"+o&&(r=[\"children\",\"\"+o]):ur.hasOwnProperty(a)&&null!=o&&G(i,a));switch(e){case\"input\":Jn.track(t),Xn.postMountWrapper(t,n);break;case\"textarea\":Jn.track(t),$n.postMountWrapper(t,n);break;case\"select\":case\"option\":break;default:\"function\"==typeof n.onClick&&(t.onclick=be)}return r},diffHydratedText:function(t,e){return t.nodeValue!==e},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(t,e,n){switch(e){case\"input\":Xn.restoreControlledState(t,n);break;case\"textarea\":$n.restoreControlledState(t,n);break;case\"select\":Zn.restoreControlledState(t,n)}}},dr=void 0;if(ve.canUseDOM)if(\"function\"!=typeof requestIdleCallback){var pr=null,mr=null,vr=!1,gr=!1,yr=0,br=33,xr=33,_r={timeRemaining:\"object\"==typeof performance&&\"function\"==typeof performance.now?function(){return yr-performance.now()}:function(){return yr-Date.now()}},wr=\"__reactIdleCallback$\"+Math.random().toString(36).slice(2);window.addEventListener(\"message\",function(t){t.source===window&&t.data===wr&&(vr=!1,t=mr,mr=null,null!==t&&t(_r))},!1);var Er=function(t){gr=!1;var e=t-yr+xr;e<xr&&br<xr?(8>e&&(e=8),xr=e<br?br:e):br=e,yr=t+xr,vr||(vr=!0,window.postMessage(wr,\"*\")),e=pr,pr=null,null!==e&&e(t)};dr=function(t){return mr=t,gr||(gr=!0,requestAnimationFrame(Er)),0}}else dr=requestIdleCallback;else dr=function(t){return setTimeout(function(){t({timeRemaining:function(){return 1/0}})}),0};var Mr,Tr,Sr={rIC:dr},Ar={enableAsyncSubtreeAPI:!0},Pr={NoWork:0,SynchronousPriority:1,TaskPriority:2,HighPriority:3,LowPriority:4,OffscreenPriority:5},Cr=Ke.Callback,Rr=Pr.NoWork,Or=Pr.SynchronousPriority,Lr=Pr.TaskPriority,kr=De.ClassComponent,Nr=De.HostRoot,Ir=void 0,Dr=void 0,Ur={addUpdate:function(t,e,n,r){Z(t,{priorityLevel:r,partialState:e,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:!1,next:null})},addReplaceUpdate:function(t,e,n,r){Z(t,{priorityLevel:r,partialState:e,callback:n,isReplace:!0,isForced:!1,isTopLevelUnmount:!1,next:null})},addForceUpdate:function(t,e,n){Z(t,{priorityLevel:n,partialState:null,callback:e,isReplace:!1,isForced:!0,isTopLevelUnmount:!1,next:null})},getUpdatePriority:function(t){var e=t.updateQueue;return null===e||t.tag!==kr&&t.tag!==Nr?Rr:null!==e.first?e.first.priorityLevel:Rr},addTopLevelUpdate:function(t,e,n,r){var i=null===e.element;e={priorityLevel:r,partialState:e,callback:n,isReplace:!1,isForced:!1,isTopLevelUnmount:i,next:null},t=Z(t,e),i&&(i=Ir,n=Dr,null!==i&&null!==e.next&&(e.next=null,i.last=e),null!==n&&null!==t&&null!==t.next&&(t.next=null,n.last=e))},beginUpdateQueue:function(t,e,n,r,i,o,a){null!==t&&t.updateQueue===n&&(n=e.updateQueue={first:n.first,last:n.last,callbackList:null,hasForceUpdate:!1}),t=n.callbackList;for(var s=n.hasForceUpdate,u=!0,l=n.first;null!==l&&0>=W(l.priorityLevel,a);){n.first=l.next,null===n.first&&(n.last=null);var c;l.isReplace?(i=K(l,r,i,o),u=!0):(c=K(l,r,i,o))&&(i=u?ge({},i,c):ge(i,c),u=!1),l.isForced&&(s=!0),null===l.callback||l.isTopLevelUnmount&&null!==l.next||(t=null!==t?t:[],t.push(l.callback),e.effectTag|=Cr),l=l.next}return n.callbackList=t,n.hasForceUpdate=s,null!==n.first||null!==t||s||(e.updateQueue=null),i},commitCallbacks:function(t,e,n){if(null!==(t=e.callbackList))for(e.callbackList=null,e=0;e<t.length;e++){var i=t[e];\"function\"!=typeof i&&r(\"191\",i),i.call(n)}}},zr=[],Fr=-1,Br={createCursor:function(t){return{current:t}},isEmpty:function(){return-1===Fr},pop:function(t){0>Fr||(t.current=zr[Fr],zr[Fr]=null,Fr--)},push:function(t,e){Fr++,zr[Fr]=t.current,t.current=e},reset:function(){for(;-1<Fr;)zr[Fr]=null,Fr--}},jr=rn.isFiberMounted,Hr=De.ClassComponent,Vr=De.HostRoot,Gr=Br.createCursor,Wr=Br.pop,Yr=Br.push,Xr=Gr(xe),qr=Gr(!1),Zr=xe,Kr={getUnmaskedContext:function(t){return Q(t)?Zr:Xr.current},cacheContext:$,getMaskedContext:function(t,e){var n=t.type.contextTypes;if(!n)return xe;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&$(t,e,o),o},hasContextChanged:function(){return qr.current},isContextConsumer:function(t){return t.tag===Hr&&null!=t.type.contextTypes},isContextProvider:Q,popContextProvider:function(t){Q(t)&&(Wr(qr,t),Wr(Xr,t))},popTopLevelContextObject:function(t){Wr(qr,t),Wr(Xr,t)},pushTopLevelContextObject:function(t,e,n){null!=Xr.cursor&&r(\"168\"),Yr(Xr,e,t),Yr(qr,n,t)},processChildContext:J,pushContextProvider:function(t){if(!Q(t))return!1;var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||xe,Zr=Xr.current,Yr(Xr,e,t),Yr(qr,qr.current,t),!0},invalidateContextProvider:function(t,e){var n=t.stateNode;if(n||r(\"169\"),e){var i=J(t,Zr);n.__reactInternalMemoizedMergedChildContext=i,Wr(qr,t),Wr(Xr,t),Yr(Xr,i,t)}else Wr(qr,t);Yr(qr,e,t)},resetContext:function(){Zr=xe,Xr.current=xe,qr.current=!1},findCurrentUnmaskedContext:function(t){for(jr(t)&&t.tag===Hr?void 0:r(\"170\");t.tag!==Vr;){if(Q(t))return t.stateNode.__reactInternalMemoizedMergedChildContext;(t=t.return)||r(\"171\")}return t.stateNode.context}},$r={NoContext:0,AsyncUpdates:1},Qr=De.IndeterminateComponent,Jr=De.ClassComponent,ti=De.HostRoot,ei=De.HostComponent,ni=De.HostText,ri=De.HostPortal,ii=De.CoroutineComponent,oi=De.YieldComponent,ai=De.Fragment,si=Pr.NoWork,ui=$r.NoContext,li=Ke.NoEffect,ci={createWorkInProgress:function(t,e){var n=t.alternate;return null===n?(n=new tt(t.tag,t.key,t.internalContextTag),n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.effectTag=li,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.pendingWorkPriority=e,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n},createHostRootFiber:function(){return new tt(ti,null,ui)},createFiberFromElement:function(t,e,n){return e=et(t.type,t.key,e),e.pendingProps=t.props,e.pendingWorkPriority=n,e},createFiberFromFragment:function(t,e,n){return e=new tt(ai,null,e),e.pendingProps=t,e.pendingWorkPriority=n,e},createFiberFromText:function(t,e,n){return e=new tt(ni,null,e),e.pendingProps=t,e.pendingWorkPriority=n,e},createFiberFromElementType:et,createFiberFromHostInstanceForDeletion:function(){var t=new tt(ei,null,ui);return t.type=\"DELETED\",t},createFiberFromCoroutine:function(t,e,n){return e=new tt(ii,t.key,e),e.type=t.handler,e.pendingProps=t,e.pendingWorkPriority=n,e},createFiberFromYield:function(t,e){return new tt(oi,null,e)},createFiberFromPortal:function(t,e,n){return e=new tt(ri,t.key,e),e.pendingProps=t.children||[],e.pendingWorkPriority=n,e.stateNode={containerInfo:t.containerInfo,implementation:t.implementation},e},largerPriority:function(t,e){return t!==si&&(e===si||e>t)?t:e}},fi=ci.createHostRootFiber,hi=De.IndeterminateComponent,di=De.FunctionalComponent,pi=De.ClassComponent,mi=De.HostComponent;\"function\"==typeof Symbol&&Symbol.for?(Mr=Symbol.for(\"react.coroutine\"),Tr=Symbol.for(\"react.yield\")):(Mr=60104,Tr=60105);var vi={createCoroutine:function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Mr,key:null==r?null:\"\"+r,children:t,handler:e,props:n}},createYield:function(t){return{$$typeof:Tr,value:t}},isCoroutine:function(t){return\"object\"==typeof t&&null!==t&&t.$$typeof===Mr},isYield:function(t){return\"object\"==typeof t&&null!==t&&t.$$typeof===Tr},REACT_YIELD_TYPE:Tr,REACT_COROUTINE_TYPE:Mr},gi=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.portal\")||60106,yi={createPortal:function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:gi,key:null==r?null:\"\"+r,children:t,containerInfo:e,implementation:n}},isPortal:function(t){return\"object\"==typeof t&&null!==t&&t.$$typeof===gi},REACT_PORTAL_TYPE:gi},bi=vi.REACT_COROUTINE_TYPE,xi=vi.REACT_YIELD_TYPE,_i=yi.REACT_PORTAL_TYPE,wi=ci.createWorkInProgress,Ei=ci.createFiberFromElement,Mi=ci.createFiberFromFragment,Ti=ci.createFiberFromText,Si=ci.createFiberFromCoroutine,Ai=ci.createFiberFromYield,Pi=ci.createFiberFromPortal,Ci=Array.isArray,Ri=De.FunctionalComponent,Oi=De.ClassComponent,Li=De.HostText,ki=De.HostPortal,Ni=De.CoroutineComponent,Ii=De.YieldComponent,Di=De.Fragment,Ui=Ke.NoEffect,zi=Ke.Placement,Fi=Ke.Deletion,Bi=\"function\"==typeof Symbol&&Symbol.iterator,ji=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,Hi=ot(!0,!0),Vi=ot(!1,!0),Gi=ot(!1,!1),Wi={reconcileChildFibers:Hi,reconcileChildFibersInPlace:Vi,mountChildFibersInPlace:Gi,cloneChildFibers:function(t,e){if(null!==t&&e.child!==t.child&&r(\"153\"),null!==e.child){t=e.child;var n=wi(t,t.pendingWorkPriority);for(n.pendingProps=t.pendingProps,e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=wi(t,t.pendingWorkPriority),n.pendingProps=t.pendingProps,n.return=e;n.sibling=null}}},Yi=Ke.Update,Xi=$r.AsyncUpdates,qi=Kr.cacheContext,Zi=Kr.getMaskedContext,Ki=Kr.getUnmaskedContext,$i=Kr.isContextConsumer,Qi=Ur.addUpdate,Ji=Ur.addReplaceUpdate,to=Ur.addForceUpdate,eo=Ur.beginUpdateQueue,no=Kr.hasContextChanged,ro=rn.isMounted,io=Wi.mountChildFibersInPlace,oo=Wi.reconcileChildFibers,ao=Wi.reconcileChildFibersInPlace,so=Wi.cloneChildFibers,uo=Ur.beginUpdateQueue,lo=Kr.getMaskedContext,co=Kr.getUnmaskedContext,fo=Kr.hasContextChanged,ho=Kr.pushContextProvider,po=Kr.pushTopLevelContextObject,mo=Kr.invalidateContextProvider,vo=De.IndeterminateComponent,go=De.FunctionalComponent,yo=De.ClassComponent,bo=De.HostRoot,xo=De.HostComponent,_o=De.HostText,wo=De.HostPortal,Eo=De.CoroutineComponent,Mo=De.CoroutineHandlerPhase,To=De.YieldComponent,So=De.Fragment,Ao=Pr.NoWork,Po=Pr.OffscreenPriority,Co=Ke.PerformedWork,Ro=Ke.Placement,Oo=Ke.ContentReset,Lo=Ke.Err,ko=Ke.Ref,No=Ze.ReactCurrentOwner,Io=Wi.reconcileChildFibers,Do=Kr.popContextProvider,Uo=Kr.popTopLevelContextObject,zo=De.IndeterminateComponent,Fo=De.FunctionalComponent,Bo=De.ClassComponent,jo=De.HostRoot,Ho=De.HostComponent,Vo=De.HostText,Go=De.HostPortal,Wo=De.CoroutineComponent,Yo=De.CoroutineHandlerPhase,Xo=De.YieldComponent,qo=De.Fragment,Zo=Ke.Placement,Ko=Ke.Ref,$o=Ke.Update,Qo=Pr.OffscreenPriority,Jo=null,ta=null,ea={injectInternals:function(t){if(\"undefined\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e.supportsFiber)return!0;try{var n=e.inject(t);Jo=lt(function(t){return e.onCommitFiberRoot(n,t)}),ta=lt(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0},onCommitRoot:function(t){\"function\"==typeof Jo&&Jo(t)},onCommitUnmount:function(t){\"function\"==typeof ta&&ta(t)}},na=De.ClassComponent,ra=De.HostRoot,ia=De.HostComponent,oa=De.HostText,aa=De.HostPortal,sa=De.CoroutineComponent,ua=Ur.commitCallbacks,la=ea.onCommitUnmount,ca=Ke.Placement,fa=Ke.Update,ha=Ke.Callback,da=Ke.ContentReset,pa=Br.createCursor,ma=Br.pop,va=Br.push,ga={},ya=De.HostComponent,ba=De.HostText,xa=De.HostRoot,_a=Ke.Deletion,wa=Ke.Placement,Ea=ci.createFiberFromHostInstanceForDeletion,Ma=Kr.popContextProvider,Ta=Br.reset,Sa=Ze.ReactCurrentOwner,Aa=ci.createWorkInProgress,Pa=ci.largerPriority,Ca=ea.onCommitRoot,Ra=Pr.NoWork,Oa=Pr.SynchronousPriority,La=Pr.TaskPriority,ka=Pr.HighPriority,Na=Pr.LowPriority,Ia=Pr.OffscreenPriority,Da=$r.AsyncUpdates,Ua=Ke.PerformedWork,za=Ke.Placement,Fa=Ke.Update,Ba=Ke.PlacementAndUpdate,ja=Ke.Deletion,Ha=Ke.ContentReset,Va=Ke.Callback,Ga=Ke.Err,Wa=Ke.Ref,Ya=De.HostRoot,Xa=De.HostComponent,qa=De.HostPortal,Za=De.ClassComponent,Ka=Ur.getUpdatePriority,$a=Kr.resetContext;mt._injectFiber=function(t){pt=t};var Qa=Ur.addTopLevelUpdate,Ja=Kr.findCurrentUnmaskedContext,ts=Kr.isContextProvider,es=Kr.processChildContext,ns=De.HostComponent,rs=rn.findCurrentHostFiber,is=rn.findCurrentHostFiberWithNoPortals;mt._injectFiber(function(t){var e=Ja(t);return ts(t)?es(t,e,!1):e});var os=Ue.TEXT_NODE,as=null,ss={getOffsets:function(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var n=e.anchorNode,r=e.anchorOffset,i=e.focusNode,o=e.focusOffset,a=e.getRangeAt(0);try{a.startContainer.nodeType,a.endContainer.nodeType}catch(t){return null}e=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset?0:a.toString().length;var s=a.cloneRange();return s.selectNodeContents(t),s.setEnd(a.startContainer,a.startOffset),t=s.startContainer===s.endContainer&&s.startOffset===s.endOffset?0:s.toString().length,a=t+e,e=document.createRange(),e.setStart(n,r),e.setEnd(i,o),n=e.collapsed,{start:n?a:t,end:n?t:a}},setOffsets:function(t,e){if(window.getSelection){var n=window.getSelection(),r=t[yt()].length,i=Math.min(e.start,r);if(e=void 0===e.end?i:Math.min(e.end,r),!n.extend&&i>e&&(r=e,e=i,i=r),r=gt(t,i),t=gt(t,e),r&&t){var o=document.createRange();o.setStart(r.node,r.offset),n.removeAllRanges(),i>e?(n.addRange(o),n.extend(t.node,t.offset)):(o.setEnd(t.node,t.offset),n.addRange(o))}}}},us=Ue.ELEMENT_NODE,ls={hasSelectionCapabilities:function(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(\"input\"===e&&\"text\"===t.type||\"textarea\"===e||\"true\"===t.contentEditable)},getSelectionInformation:function(){var t=Me();return{focusedElem:t,selectionRange:ls.hasSelectionCapabilities(t)?ls.getSelection(t):null}},restoreSelection:function(t){var e=Me(),n=t.focusedElem;if(t=t.selectionRange,e!==n&&we(document.documentElement,n)){for(ls.hasSelectionCapabilities(n)&&ls.setSelection(n,t),e=[],t=n;t=t.parentNode;)t.nodeType===us&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(Ee(n),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}},getSelection:function(t){return(\"selectionStart\"in t?{start:t.selectionStart,end:t.selectionEnd}:ss.getOffsets(t))||{start:0,end:0}},setSelection:function(t,e){var n=e.start,r=e.end;void 0===r&&(r=n),\"selectionStart\"in t?(t.selectionStart=n,t.selectionEnd=Math.min(r,t.value.length)):ss.setOffsets(t,e)}},cs=ls,fs=Ue.ELEMENT_NODE;_t._injectFiber=function(t){bt=t},_t._injectStack=function(t){xt=t};var hs=De.HostComponent,ds={isAncestor:function(t,e){for(;e;){if(t===e||t===e.alternate)return!0;e=wt(e)}return!1},getLowestCommonAncestor:Et,getParentInstance:function(t){return wt(t)},traverseTwoPhase:function(t,e,n){for(var r=[];t;)r.push(t),t=wt(t);for(t=r.length;0<t--;)e(r[t],\"captured\",n);for(t=0;t<r.length;t++)e(r[t],\"bubbled\",n)},traverseEnterLeave:function(t,e,n,r,i){for(var o=t&&e?Et(t,e):null,a=[];t&&t!==o;)a.push(t),t=wt(t);for(t=[];e&&e!==o;)t.push(e),e=wt(e);for(e=0;e<a.length;e++)n(a[e],\"bubbled\",r);for(e=t.length;0<e--;)n(t[e],\"captured\",i)}},ps=_n.getListener,ms={accumulateTwoPhaseDispatches:function(t){S(t,Tt)},accumulateTwoPhaseDispatchesSkipTarget:function(t){S(t,St)},accumulateDirectDispatches:function(t){S(t,Pt)},accumulateEnterLeaveDispatches:function(t,e,n,r){ds.traverseEnterLeave(n,r,At,t,e)}},vs={_root:null,_startText:null,_fallbackText:null},gs={initialize:function(t){return vs._root=t,vs._startText=gs.getText(),!0},reset:function(){vs._root=null,vs._startText=null,vs._fallbackText=null},getData:function(){if(vs._fallbackText)return vs._fallbackText;var t,e,n=vs._startText,r=n.length,i=gs.getText(),o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return vs._fallbackText=i.slice(t,1<e?1-e:void 0),vs._fallbackText},getText:function(){return\"value\"in vs._root?vs._root.value:vs._root[yt()]}},ys=gs,bs=\"dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances\".split(\" \"),xs={type:null,target:null,currentTarget:be.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};ge(Ct.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():\"unknown\"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=be.thatReturnsTrue)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():\"unknown\"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=be.thatReturnsTrue)},persist:function(){this.isPersistent=be.thatReturnsTrue},isPersistent:be.thatReturnsFalse,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;for(e=0;e<bs.length;e++)this[bs[e]]=null}}),Ct.Interface=xs,Ct.augmentClass=function(t,e){function n(){}n.prototype=this.prototype;var r=new n;ge(r,t.prototype),t.prototype=r,t.prototype.constructor=t,t.Interface=ge({},this.Interface,e),t.augmentClass=this.augmentClass,Lt(t)},Lt(Ct),Ct.augmentClass(kt,{data:null}),Ct.augmentClass(Nt,{data:null});var _s=[9,13,27,32],ws=ve.canUseDOM&&\"CompositionEvent\"in window,Es=null;ve.canUseDOM&&\"documentMode\"in document&&(Es=document.documentMode);var Ms;if(Ms=ve.canUseDOM&&\"TextEvent\"in window&&!Es){var Ts=window.opera;Ms=!(\"object\"==typeof Ts&&\"function\"==typeof Ts.version&&12>=parseInt(Ts.version(),10))}var Ss=Ms,As=ve.canUseDOM&&(!ws||Es&&8<Es&&11>=Es),Ps=String.fromCharCode(32),Cs={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"topCompositionEnd\",\"topKeyPress\",\"topTextInput\",\"topPaste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",captured:\"onCompositionStartCapture\"},dependencies:\"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown\".split(\" \")}},Rs=!1,Os=!1,Ls={eventTypes:Cs,extractEvents:function(t,e,n,r){var i;if(ws)t:{switch(t){case\"topCompositionStart\":var o=Cs.compositionStart;break t;case\"topCompositionEnd\":o=Cs.compositionEnd;break t;case\"topCompositionUpdate\":o=Cs.compositionUpdate;break t}o=void 0}else Os?It(t,n)&&(o=Cs.compositionEnd):\"topKeyDown\"===t&&229===n.keyCode&&(o=Cs.compositionStart);return o?(As&&(Os||o!==Cs.compositionStart?o===Cs.compositionEnd&&Os&&(i=ys.getData()):Os=ys.initialize(r)),o=kt.getPooled(o,e,n,r),i?o.data=i:null!==(i=Dt(n))&&(o.data=i),ms.accumulateTwoPhaseDispatches(o),i=o):i=null,(t=Ss?Ut(t,n):zt(t,n))?(e=Nt.getPooled(Cs.beforeInput,e,n,r),e.data=t,ms.accumulateTwoPhaseDispatches(e)):e=null,[i,e]}},ks={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ns={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange\".split(\" \")}},Is=null,Ds=null,Us=!1;ve.canUseDOM&&(Us=O(\"input\")&&(!document.documentMode||9<document.documentMode));var zs={eventTypes:Ns,_isInputEventSupported:Us,extractEvents:function(t,e,n,r){var i=e?Xe.getNodeFromInstance(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if(\"select\"===o||\"input\"===o&&\"file\"===i.type)var a=Vt;else if(Ft(i))if(Us)a=Zt;else{a=Xt;var s=Yt}else!(o=i.nodeName)||\"input\"!==o.toLowerCase()||\"checkbox\"!==i.type&&\"radio\"!==i.type||(a=qt);if(a&&(a=a(t,e)))return Bt(a,n,r);s&&s(t,i,e),\"topBlur\"===t&&null!=e&&(t=e._wrapperState||i._wrapperState)&&t.controlled&&\"number\"===i.type&&(t=\"\"+i.value,i.getAttribute(\"value\")!==t&&i.setAttribute(\"value\",t))}};Ct.augmentClass(Kt,{view:function(t){return t.view?t.view:(t=E(t),t.window===t?t:(t=t.ownerDocument)?t.defaultView||t.parentWindow:window)},detail:function(t){return t.detail||0}});var Fs={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};Kt.augmentClass(Jt,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qt,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)}});var Bs={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"topMouseOut\",\"topMouseOver\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"topMouseOut\",\"topMouseOver\"]}},js={eventTypes:Bs,extractEvents:function(t,e,n,r){if(\"topMouseOver\"===t&&(n.relatedTarget||n.fromElement)||\"topMouseOut\"!==t&&\"topMouseOver\"!==t)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if(\"topMouseOut\"===t?(t=e,e=(e=n.relatedTarget||n.toElement)?Xe.getClosestInstanceFromNode(e):null):t=null,t===e)return null;var o=null==t?i:Xe.getNodeFromInstance(t);i=null==e?i:Xe.getNodeFromInstance(e);var a=Jt.getPooled(Bs.mouseLeave,t,n,r);return a.type=\"mouseleave\",a.target=o,a.relatedTarget=i,n=Jt.getPooled(Bs.mouseEnter,e,n,r),n.type=\"mouseenter\",n.target=i,n.relatedTarget=o,ms.accumulateEnterLeaveDispatches(a,n,t,e),[a,n]}},Hs=Ue.DOCUMENT_NODE,Vs=ve.canUseDOM&&\"documentMode\"in document&&11>=document.documentMode,Gs={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange\".split(\" \")}},Ws=null,Ys=null,Xs=null,qs=!1,Zs=Cn.isListeningToAllDependencies,Ks={eventTypes:Gs,extractEvents:function(t,e,n,r){var i=r.window===r?r.document:r.nodeType===Hs?r:r.ownerDocument;if(!i||!Zs(\"onSelect\",i))return null;switch(i=e?Xe.getNodeFromInstance(e):window,t){case\"topFocus\":(Ft(i)||\"true\"===i.contentEditable)&&(Ws=i,Ys=e,Xs=null);break;case\"topBlur\":Xs=Ys=Ws=null;break;case\"topMouseDown\":qs=!0;break;case\"topContextMenu\":case\"topMouseUp\":return qs=!1,te(n,r);case\"topSelectionChange\":if(Vs)break;case\"topKeyDown\":case\"topKeyUp\":return te(n,r)}return null}};Ct.augmentClass(ee,{animationName:null,elapsedTime:null,pseudoElement:null}),Ct.augmentClass(ne,{clipboardData:function(t){return\"clipboardData\"in t?t.clipboardData:window.clipboardData}}),Kt.augmentClass(re,{relatedTarget:null});var $s={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Qs={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"};Kt.augmentClass(oe,{key:function(t){if(t.key){var e=$s[t.key]||t.key;if(\"Unidentified\"!==e)return e}return\"keypress\"===t.type?(t=ie(t),13===t?\"Enter\":String.fromCharCode(t)):\"keydown\"===t.type||\"keyup\"===t.type?Qs[t.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qt,charCode:function(t){return\"keypress\"===t.type?ie(t):0},keyCode:function(t){return\"keydown\"===t.type||\"keyup\"===t.type?t.keyCode:0},which:function(t){return\"keypress\"===t.type?ie(t):\"keydown\"===t.type||\"keyup\"===t.type?t.keyCode:0}}),Jt.augmentClass(ae,{dataTransfer:null}),Kt.augmentClass(se,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qt}),Ct.augmentClass(ue,{propertyName:null,elapsedTime:null,pseudoElement:null}),Jt.augmentClass(le,{deltaX:function(t){return\"deltaX\"in t?t.deltaX:\"wheelDeltaX\"in t?-t.wheelDeltaX:0},deltaY:function(t){return\"deltaY\"in t?t.deltaY:\"wheelDeltaY\"in t?-t.wheelDeltaY:\"wheelDelta\"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null});var Js={},tu={};\"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel\".split(\" \").forEach(function(t){var e=t[0].toUpperCase()+t.slice(1),n=\"on\"+e;e=\"top\"+e,n={phasedRegistrationNames:{bubbled:n,captured:n+\"Capture\"},dependencies:[e]},Js[t]=n,tu[e]=n});var eu={eventTypes:Js,extractEvents:function(t,e,n,i){var o=tu[t];if(!o)return null;switch(t){case\"topAbort\":case\"topCancel\":case\"topCanPlay\":case\"topCanPlayThrough\":case\"topClose\":case\"topDurationChange\":case\"topEmptied\":case\"topEncrypted\":case\"topEnded\":case\"topError\":case\"topInput\":case\"topInvalid\":case\"topLoad\":case\"topLoadedData\":case\"topLoadedMetadata\":case\"topLoadStart\":case\"topPause\":case\"topPlay\":case\"topPlaying\":case\"topProgress\":case\"topRateChange\":case\"topReset\":case\"topSeeked\":case\"topSeeking\":case\"topStalled\":case\"topSubmit\":case\"topSuspend\":case\"topTimeUpdate\":case\"topToggle\":case\"topVolumeChange\":case\"topWaiting\":var a=Ct;break;case\"topKeyPress\":if(0===ie(n))return null;case\"topKeyDown\":case\"topKeyUp\":a=oe;break;case\"topBlur\":case\"topFocus\":a=re;break;case\"topClick\":if(2===n.button)return null;case\"topDoubleClick\":case\"topMouseDown\":case\"topMouseMove\":case\"topMouseUp\":case\"topMouseOut\":case\"topMouseOver\":case\"topContextMenu\":a=Jt;break;case\"topDrag\":case\"topDragEnd\":case\"topDragEnter\":case\"topDragExit\":case\"topDragLeave\":case\"topDragOver\":case\"topDragStart\":case\"topDrop\":a=ae;break;case\"topTouchCancel\":case\"topTouchEnd\":case\"topTouchMove\":case\"topTouchStart\":a=se;break;case\"topAnimationEnd\":case\"topAnimationIteration\":case\"topAnimationStart\":a=ee;break;case\"topTransitionEnd\":a=ue;break;case\"topScroll\":a=Kt;break;case\"topWheel\":a=le;break;case\"topCopy\":case\"topCut\":case\"topPaste\":a=ne}return a||r(\"86\",t),t=a.getPooled(o,e,n,i),ms.accumulateTwoPhaseDispatches(t),t}};bn.setHandleTopLevel(Cn.handleTopLevel),_n.injection.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \")),un.injection.injectComponentTree(Xe),_n.injection.injectEventPluginsByName({SimpleEventPlugin:eu,EnterLeaveEventPlugin:js,ChangeEventPlugin:zs,SelectEventPlugin:Ks,BeforeInputEventPlugin:Ls});var nu=Ie.injection.MUST_USE_PROPERTY,ru=Ie.injection.HAS_BOOLEAN_VALUE,iu=Ie.injection.HAS_NUMERIC_VALUE,ou=Ie.injection.HAS_POSITIVE_NUMERIC_VALUE,au=Ie.injection.HAS_STRING_BOOLEAN_VALUE,su={Properties:{allowFullScreen:ru,allowTransparency:au,async:ru,autoPlay:ru,capture:ru,checked:nu|ru,cols:ou,contentEditable:au,controls:ru,default:ru,defer:ru,disabled:ru,download:Ie.injection.HAS_OVERLOADED_BOOLEAN_VALUE,draggable:au,formNoValidate:ru,hidden:ru,loop:ru,multiple:nu|ru,muted:nu|ru,noValidate:ru,open:ru,playsInline:ru,readOnly:ru,required:ru,reversed:ru,rows:ou,rowSpan:iu,scoped:ru,seamless:ru,selected:nu|ru,size:ou,start:iu,span:ou,spellCheck:au,style:0,itemScope:ru,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:au},DOMAttributeNames:{acceptCharset:\"accept-charset\",className:\"class\",htmlFor:\"for\",httpEquiv:\"http-equiv\"},DOMMutationMethods:{value:function(t,e){if(null==e)return t.removeAttribute(\"value\");\"number\"!==t.type||!1===t.hasAttribute(\"value\")?t.setAttribute(\"value\",\"\"+e):t.validity&&!t.validity.badInput&&t.ownerDocument.activeElement!==t&&t.setAttribute(\"value\",\"\"+e)}}},uu=Ie.injection.HAS_STRING_BOOLEAN_VALUE,lu={xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\"},cu={Properties:{autoReverse:uu,externalResourcesRequired:uu,preserveAlpha:uu},DOMAttributeNames:{autoReverse:\"autoReverse\",externalResourcesRequired:\"externalResourcesRequired\",preserveAlpha:\"preserveAlpha\"},DOMAttributeNamespaces:{xlinkActuate:lu.xlink,xlinkArcrole:lu.xlink,xlinkHref:lu.xlink,xlinkRole:lu.xlink,xlinkShow:lu.xlink,xlinkTitle:lu.xlink,xlinkType:lu.xlink,xmlBase:lu.xml,xmlLang:lu.xml,xmlSpace:lu.xml}},fu=/[\\-\\:]([a-z])/g;\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space\".split(\" \").forEach(function(t){var e=t.replace(fu,ce);cu.Properties[e]=0,cu.DOMAttributeNames[e]=t}),Ie.injection.injectDOMPropertyConfig(su),Ie.injection.injectDOMPropertyConfig(cu);var hu=ea.injectInternals,du=Ue.ELEMENT_NODE,pu=Ue.TEXT_NODE,mu=Ue.COMMENT_NODE,vu=Ue.DOCUMENT_NODE,gu=Ue.DOCUMENT_FRAGMENT_NODE,yu=Ie.ROOT_ATTRIBUTE_NAME,bu=Ae.getChildNamespace,xu=hr.createElement,_u=hr.createTextNode,wu=hr.setInitialProperties,Eu=hr.diffProperties,Mu=hr.updateProperties,Tu=hr.diffHydratedProperties,Su=hr.diffHydratedText,Au=hr.warnForDeletedHydratableElement,Pu=hr.warnForDeletedHydratableText,Cu=hr.warnForInsertedHydratedElement,Ru=hr.warnForInsertedHydratedText,Ou=Xe.precacheFiberNode,Lu=Xe.updateFiberProps;hn.injection.injectFiberControlledHostComponent(hr),_t._injectFiber(function(t){return Iu.findHostInstance(t)});var ku=null,Nu=null,Iu=function(t){var e=t.getPublicInstance;t=dt(t);var n=t.scheduleUpdate,r=t.getPriorityContext;return{createContainer:function(t){var e=fi();return t={current:e,containerInfo:t,isScheduled:!1,nextScheduledRoot:null,context:null,pendingContext:null},e.stateNode=t},updateContainer:function(t,e,i,o){var a=e.current;i=mt(i),null===e.context?e.context=i:e.pendingContext=i,e=o,o=r(a,Ar.enableAsyncSubtreeAPI&&null!=t&&null!=t.type&&null!=t.type.prototype&&!0===t.type.prototype.unstable_isAsyncReactComponent),t={element:t},Qa(a,t,void 0===e?null:e,o),n(a,o)},batchedUpdates:t.batchedUpdates,unbatchedUpdates:t.unbatchedUpdates,deferredUpdates:t.deferredUpdates,flushSync:t.flushSync,getPublicRootInstance:function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case ns:return e(t.child.stateNode);default:return t.child.stateNode}},findHostInstance:function(t){return t=rs(t),null===t?null:t.stateNode},findHostInstanceWithNoPortals:function(t){return t=is(t),null===t?null:t.stateNode}}}({getRootHostContext:function(t){if(t.nodeType===vu)t=(t=t.documentElement)?t.namespaceURI:bu(null,\"\");else{var e=t.nodeType===mu?t.parentNode:t;t=e.namespaceURI||null,e=e.tagName,t=bu(t,e)}return t},getChildHostContext:function(t,e){return bu(t,e)},getPublicInstance:function(t){return t},prepareForCommit:function(){ku=Cn.isEnabled(),Nu=cs.getSelectionInformation(),Cn.setEnabled(!1)},resetAfterCommit:function(){cs.restoreSelection(Nu),Nu=null,Cn.setEnabled(ku),ku=null},createInstance:function(t,e,n,r,i){return t=xu(t,e,n,r),Ou(i,t),Lu(t,e),t},appendInitialChild:function(t,e){t.appendChild(e)},finalizeInitialChildren:function(t,e,n,r){wu(t,e,n,r);t:{switch(e){case\"button\":case\"input\":case\"select\":case\"textarea\":t=!!n.autoFocus;break t}t=!1}return t},prepareUpdate:function(t,e,n,r,i){return Eu(t,e,n,r,i)},commitMount:function(t){t.focus()},commitUpdate:function(t,e,n,r,i){Lu(t,i),Mu(t,e,n,r,i)},shouldSetTextContent:function(t,e){return\"textarea\"===t||\"string\"==typeof e.children||\"number\"==typeof e.children||\"object\"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&\"string\"==typeof e.dangerouslySetInnerHTML.__html},resetTextContent:function(t){t.textContent=\"\"},shouldDeprioritizeSubtree:function(t,e){return!!e.hidden},createTextInstance:function(t,e,n,r){return t=_u(t,e),Ou(r,t),t},commitTextUpdate:function(t,e,n){t.nodeValue=n},appendChild:function(t,e){t.appendChild(e)},appendChildToContainer:function(t,e){t.nodeType===mu?t.parentNode.insertBefore(e,t):t.appendChild(e)},insertBefore:function(t,e,n){t.insertBefore(e,n)},insertInContainerBefore:function(t,e,n){t.nodeType===mu?t.parentNode.insertBefore(e,n):t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},removeChildFromContainer:function(t,e){t.nodeType===mu?t.parentNode.removeChild(e):t.removeChild(e)},canHydrateInstance:function(t,e){return t.nodeType===du&&e===t.nodeName.toLowerCase()},canHydrateTextInstance:function(t,e){return\"\"!==e&&t.nodeType===pu},getNextHydratableSibling:function(t){for(t=t.nextSibling;t&&t.nodeType!==du&&t.nodeType!==pu;)t=t.nextSibling;return t},getFirstHydratableChild:function(t){for(t=t.firstChild;t&&t.nodeType!==du&&t.nodeType!==pu;)t=t.nextSibling;return t},hydrateInstance:function(t,e,n,r,i,o){return Ou(o,t),Lu(t,n),Tu(t,e,n,i,r)},hydrateTextInstance:function(t,e,n){return Ou(n,t),Su(t,e)},didNotHydrateInstance:function(t,e){1===e.nodeType?Au(t,e):Pu(t,e)},didNotFindHydratableInstance:function(t,e,n){Cu(t,e,n)},didNotFindHydratableTextInstance:function(t,e){Ru(t,e)},scheduleDeferredCallback:Sr.rIC,useSyncScheduling:!0});pn.injection.injectFiberBatchedUpdates(Iu.batchedUpdates);var Du={createPortal:pe,hydrate:function(t,e,n){return de(null,t,e,!0,n)},render:function(t,e,n){return de(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,i){return null!=t&&qe.has(t)||r(\"38\"),de(t,e,n,!1,i)},unmountComponentAtNode:function(t){return fe(t)||r(\"40\"),!!t._reactRootContainer&&(Iu.unbatchedUpdates(function(){de(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},findDOMNode:_t,unstable_createPortal:pe,unstable_batchedUpdates:pn.batchedUpdates,unstable_deferredUpdates:Iu.deferredUpdates,flushSync:Iu.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:_n,EventPluginRegistry:Oe,EventPropagators:ms,ReactControlledComponent:hn,ReactDOMComponentTree:Xe,ReactDOMEventListener:bn}};hu({findFiberByHostInstance:Xe.getClosestInstanceFromNode,findHostInstanceByFiber:Iu.findHostInstance,bundleType:0,version:\"16.0.0\",rendererPackageName:\"react-dom\"}),t.exports=Du},function(t,e,n){\"use strict\";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function a(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function s(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,\"__esModule\",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(20),c=r(l),f=n(2),h=r(f),d=n(90),p=r(d),m=n(241),v=r(m),g=n(239),y={orientation:{horizontal:{dimension:\"width\",direction:\"left\",reverseDirection:\"right\",coordinate:\"x\"},vertical:{dimension:\"height\",direction:\"top\",reverseDirection:\"bottom\",coordinate:\"y\"}}},b=function(t){function e(t,n){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.handleFormat=function(t){var e=r.props.format;return e?e(t):t},r.handleUpdate=function(){if(r.slider){var t=r.props.orientation,e=(0,g.capitalize)(y.orientation[t].dimension),n=r.slider[\"offset\"+e],i=r.handle[\"offset\"+e];r.setState({limit:n-i,grab:i/2})}},r.handleStart=function(t){var e=r.props.onChangeStart;document.addEventListener(\"mousemove\",r.handleDrag),document.addEventListener(\"mouseup\",r.handleEnd),r.setState({active:!0},function(){e&&e(t)})},r.handleDrag=function(t){t.stopPropagation();var e=r.props.onChange,n=t.target,i=n.className,o=n.classList,a=n.dataset;if(e&&\"rangeslider__labels\"!==i){var s=r.position(t);o&&o.contains(\"rangeslider__label-item\")&&a.value&&(s=parseFloat(a.value)),e&&e(s,t)}},r.handleEnd=function(t){var e=r.props.onChangeComplete;r.setState({active:!1},function(){e&&e(t)}),document.removeEventListener(\"mousemove\",r.handleDrag),document.removeEventListener(\"mouseup\",r.handleEnd)},r.handleKeyDown=function(t){t.preventDefault();var e=t.keyCode,n=r.props,i=n.value,o=n.min,a=n.max,s=n.step,u=n.onChange,l=void 0;switch(e){case 38:case 39:l=i+s>a?a:i+s,u&&u(l,t);break;case 37:case 40:l=i-s<o?o:i-s,u&&u(l,t)}},r.getPositionFromValue=function(t){var e=r.state.limit,n=r.props,i=n.min,o=n.max,a=o-i,s=t-i,u=s/a;return Math.round(u*e)},r.getValueFromPosition=function(t){var e=r.state.limit,n=r.props,i=n.orientation,o=n.min,a=n.max,s=n.step,u=(0,g.clamp)(t,0,e)/(e||1),l=s*Math.round(u*(a-o)/s),c=\"horizontal\"===i?l+o:a-l;return(0,g.clamp)(c,o,a)},r.position=function(t){var e=r.state.grab,n=r.props,i=n.orientation,o=n.reverse,a=r.slider,s=y.orientation[i].coordinate,u=o?y.orientation[i].reverseDirection:y.orientation[i].direction,l=\"client\"+(0,g.capitalize)(s),c=t.touches?t.touches[0][l]:t[l],f=a.getBoundingClientRect()[u],h=o?f-c-e:c-f-e;return r.getValueFromPosition(h)},r.coordinates=function(t){var e=r.state,n=e.limit,i=e.grab,o=r.props.orientation,a=r.getValueFromPosition(t),s=r.getPositionFromValue(a),u=\"horizontal\"===o?s+i:s;return{fill:\"horizontal\"===o?u:n-u,handle:u,label:u}},r.renderLabels=function(t){return h.default.createElement(\"ul\",{ref:function(t){r.labels=t},className:(0,c.default)(\"rangeslider__labels\")},t)},r.state={active:!1,limit:0,grab:0},r}return s(e,t),u(e,[{key:\"componentDidMount\",value:function(){this.handleUpdate(),new v.default(this.handleUpdate).observe(this.slider)}},{key:\"render\",value:function(){var t=this,e=this.props,n=e.value,r=e.orientation,o=e.className,a=e.tooltip,s=e.reverse,u=e.labels,l=e.min,f=e.max,d=e.handleLabel,p=this.state.active,m=y.orientation[r].dimension,v=s?y.orientation[r].reverseDirection:y.orientation[r].direction,g=this.getPositionFromValue(n),b=this.coordinates(g),x=i({},m,b.fill+\"px\"),_=i({},v,b.handle+\"px\"),w=a&&p,E=[],M=Object.keys(u);if(M.length>0){M=M.sort(function(t,e){return s?t-e:e-t});var T=!0,S=!1,A=void 0;try{for(var P,C=M[Symbol.iterator]();!(T=(P=C.next()).done);T=!0){var R=P.value,O=this.getPositionFromValue(R),L=this.coordinates(O),k=i({},v,L.label+\"px\");E.push(h.default.createElement(\"li\",{key:R,className:(0,c.default)(\"rangeslider__label-item\"),\"data-value\":R,onMouseDown:this.handleDrag,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,style:k},this.props.labels[R]))}}catch(t){S=!0,A=t}finally{try{!T&&C.return&&C.return()}finally{if(S)throw A}}}return h.default.createElement(\"div\",{ref:function(e){t.slider=e},className:(0,c.default)(\"rangeslider\",\"rangeslider-\"+r,{\"rangeslider-reverse\":s},o),onMouseDown:this.handleDrag,onMouseUp:this.handleEnd,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,\"aria-valuemin\":l,\"aria-valuemax\":f,\"aria-valuenow\":n,\"aria-orientation\":r},h.default.createElement(\"div\",{className:\"rangeslider__fill\",style:x}),h.default.createElement(\"div\",{ref:function(e){t.handle=e},className:\"rangeslider__handle\",onMouseDown:this.handleStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleEnd,onKeyDown:this.handleKeyDown,style:_,tabIndex:0},w?h.default.createElement(\"div\",{ref:function(e){t.tooltip=e},className:\"rangeslider__handle-tooltip\"},h.default.createElement(\"span\",null,this.handleFormat(n))):null,h.default.createElement(\"div\",{className:\"rangeslider__handle-label\"},d)),u?this.renderLabels(E):null)}}]),e}(f.Component);b.propTypes={min:p.default.number,max:p.default.number,step:p.default.number,value:p.default.number,orientation:p.default.string,tooltip:p.default.bool,reverse:p.default.bool,labels:p.default.object,handleLabel:p.default.string,format:p.default.func,onChangeStart:p.default.func,onChange:p.default.func,onChangeComplete:p.default.func},b.defaultProps={min:0,max:100,step:1,value:0,orientation:\"horizontal\",tooltip:!0,reverse:!1,labels:{},handleLabel:\"\"},e.default=b},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(237),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=i.default},function(t,e,n){\"use strict\";function r(t){return t.charAt(0).toUpperCase()+t.substr(1)}function i(t,e,n){return Math.min(Math.max(t,e),n)}Object.defineProperty(e,\"__esModule\",{value:!0}),e.capitalize=r,e.clamp=i},function(t,e,n){\"use strict\";function r(t){for(var e=arguments.length-1,n=\"Minified React error #\"+t+\"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=\"+t,r=0;r<e;r++)n+=\"&args[]=\"+encodeURIComponent(arguments[r+1]);throw e=Error(n+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"),e.name=\"Invariant Violation\",e.framesToPop=1,e}function i(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||x}function o(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||x}function a(){}function s(t,e,n){this.props=t,this.context=e,this.refs=y,this.updater=n||x}function u(t,e,n,r,i,o,a){return{$$typeof:S,type:t,key:e,ref:n,props:a,_owner:o}}function l(t){var e={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+t).replace(/[=:]/g,function(t){return e[t]})}function c(t,e,n,r){if(O.length){var i=O.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function f(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>O.length&&O.push(t)}function h(t,e,n,i){var o=typeof t;if(\"undefined\"!==o&&\"boolean\"!==o||(t=null),null===t||\"string\"===o||\"number\"===o||\"object\"===o&&t.$$typeof===C)return n(i,t,\"\"===e?\".\"+d(t,0):e),1;var a=0;if(e=\"\"===e?\".\":e+\":\",Array.isArray(t))for(var s=0;s<t.length;s++){o=t[s];var u=e+d(o,s);a+=h(o,u,n,i)}else if(\"function\"==typeof(u=P&&t[P]||t[\"@@iterator\"]))for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=e+d(o,s++),a+=h(o,u,n,i);else\"object\"===o&&(n=\"\"+t,r(\"31\",\"[object Object]\"===n?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":n,\"\"));return a}function d(t,e){return\"object\"==typeof t&&null!==t&&null!=t.key?l(t.key):e.toString(36)}function p(t,e){t.func.call(t.context,e,t.count++)}function m(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?v(t,r,n,b.thatReturnsArgument):null!=t&&(u.isValidElement(t)&&(t=u.cloneAndReplaceKey(t,i+(!t.key||e&&e.key===t.key?\"\":(\"\"+t.key).replace(R,\"$&/\")+\"/\")+n)),r.push(t))}function v(t,e,n,r,i){var o=\"\";null!=n&&(o=(\"\"+n).replace(R,\"$&/\")+\"/\"),e=c(e,o,r,i),null==t||h(t,\"\",m,e),f(e)}var g=n(68),y=n(89);n(67);var b=n(44),x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(t,e){\"object\"!=typeof t&&\"function\"!=typeof t&&null!=t&&r(\"85\"),this.updater.enqueueSetState(this,t,e,\"setState\")},i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,\"forceUpdate\")},a.prototype=i.prototype;var _=o.prototype=new a;_.constructor=o,g(_,i.prototype),_.isPureReactComponent=!0;var w=s.prototype=new a;w.constructor=s,g(w,i.prototype),w.unstable_isAsyncReactComponent=!0,w.render=function(){return this.props.children};var E={Component:i,PureComponent:o,AsyncComponent:s},M={current:null},T=Object.prototype.hasOwnProperty,S=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,A={key:!0,ref:!0,__self:!0,__source:!0};u.createElement=function(t,e,n){var r,i={},o=null,a=null,s=null,l=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=\"\"+e.key),s=void 0===e.__self?null:e.__self,l=void 0===e.__source?null:e.__source,e)T.call(e,r)&&!A.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var f=Array(c),h=0;h<c;h++)f[h]=arguments[h+2];i.children=f}if(t&&t.defaultProps)for(r in c=t.defaultProps)void 0===i[r]&&(i[r]=c[r]);return u(t,o,a,s,l,M.current,i)},u.createFactory=function(t){var e=u.createElement.bind(null,t);return e.type=t,e},u.cloneAndReplaceKey=function(t,e){return u(t.type,e,t.ref,t._self,t._source,t._owner,t.props)},u.cloneElement=function(t,e,n){var r=g({},t.props),i=t.key,o=t.ref,a=t._self,s=t._source,l=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,l=M.current),void 0!==e.key&&(i=\"\"+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(f in e)T.call(e,f)&&!A.hasOwnProperty(f)&&(r[f]=void 0===e[f]&&void 0!==c?c[f]:e[f])}var f=arguments.length-2;if(1===f)r.children=n;else if(1<f){c=Array(f);for(var h=0;h<f;h++)c[h]=arguments[h+2];r.children=c}return u(t.type,i,o,a,s,l,r)},u.isValidElement=function(t){return\"object\"==typeof t&&null!==t&&t.$$typeof===S};var P=\"function\"==typeof Symbol&&Symbol.iterator,C=\"function\"==typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,R=/\\/+/g,O=[],L={forEach:function(t,e,n){if(null==t)return t;e=c(null,null,e,n),null==t||h(t,\"\",p,e),f(e)},map:function(t,e,n){if(null==t)return t;var r=[];return v(t,r,null,e,n),r},count:function(t){return null==t?0:h(t,\"\",b.thatReturnsNull,null)},toArray:function(t){var e=[];return v(t,e,null,b.thatReturnsArgument),e}};t.exports={Children:{map:L.map,forEach:L.forEach,count:L.count,toArray:L.toArray,only:function(t){return u.isValidElement(t)||r(\"143\"),t}},Component:E.Component,PureComponent:E.PureComponent,unstable_AsyncComponent:E.AsyncComponent,createElement:u.createElement,cloneElement:u.cloneElement,isValidElement:u.isValidElement,createFactory:u.createFactory,version:\"16.0.0\",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:M,assign:g}}},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),function(t){function n(t){return parseFloat(t)||0}function r(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return e.reduce(function(e,r){return e+n(t[\"border-\"+r+\"-width\"])},0)}function i(t){for(var e=[\"top\",\"right\",\"bottom\",\"left\"],r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=t[\"padding-\"+a];r[a]=n(s)}return r}function o(t){var e=t.getBBox();return c(0,0,e.width,e.height)}function a(t){var e=t.clientWidth,o=t.clientHeight;if(!e&&!o)return w;var a=_(t).getComputedStyle(t),u=i(a),l=u.left+u.right,f=u.top+u.bottom,h=n(a.width),d=n(a.height);if(\"border-box\"===a.boxSizing&&(Math.round(h+l)!==e&&(h-=r(a,\"left\",\"right\")+l),Math.round(d+f)!==o&&(d-=r(a,\"top\",\"bottom\")+f)),!s(t)){var p=Math.round(h+l)-e,m=Math.round(d+f)-o;1!==Math.abs(p)&&(h-=p),1!==Math.abs(m)&&(d-=m)}return c(u.left,u.top,h,d)}function s(t){return t===_(t).document.documentElement}function u(t){return h?E(t)?o(t):a(t):w}function l(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=\"undefined\"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return x(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function c(t,e,n,r){return{x:t,y:e,width:n,height:r}}var f=function(){function t(t,e){var n=-1;return t.some(function(t,r){return t[0]===e&&(n=r,!0)}),n}return\"undefined\"!=typeof Map?Map:function(){function e(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){var n=this;void 0===e&&(e=null);for(var r=0,i=n.__entries__;r<i.length;r+=1){var o=i[r];t.call(e,o[1],o[0])}},Object.defineProperties(e.prototype,n),e}()}(),h=\"undefined\"!=typeof window&&\"undefined\"!=typeof document&&window.document===document,d=function(){return void 0!==t&&t.Math===Math?t:\"undefined\"!=typeof self&&self.Math===Math?self:\"undefined\"!=typeof window&&window.Math===Math?window:Function(\"return this\")()}(),p=function(){return\"function\"==typeof requestAnimationFrame?requestAnimationFrame.bind(d):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),m=2,v=function(t,e){function n(){o&&(o=!1,t()),a&&i()}function r(){p(n)}function i(){var t=Date.now();if(o){if(t-s<m)return;a=!0}else o=!0,a=!1,setTimeout(r,e);s=t}var o=!1,a=!1,s=0;return i},g=[\"top\",\"right\",\"bottom\",\"left\",\"width\",\"height\",\"size\",\"weight\"],y=\"undefined\"!=typeof MutationObserver,b=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=v(this.refresh.bind(this),20)};b.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},b.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},b.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},b.prototype.updateObservers_=function(){var t=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return t.forEach(function(t){return t.broadcastActive()}),t.length>0},b.prototype.connect_=function(){h&&!this.connected_&&(document.addEventListener(\"transitionend\",this.onTransitionEnd_),window.addEventListener(\"resize\",this.refresh),y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},b.prototype.disconnect_=function(){h&&this.connected_&&(document.removeEventListener(\"transitionend\",this.onTransitionEnd_),window.removeEventListener(\"resize\",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(\"DOMSubtreeModified\",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},b.prototype.onTransitionEnd_=function(t){var e=t.propertyName;void 0===e&&(e=\"\"),g.some(function(t){return!!~e.indexOf(t)})&&this.refresh()},b.getInstance=function(){return this.instance_||(this.instance_=new b),this.instance_},b.instance_=null;var x=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n+=1){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},_=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||d},w=c(0,0,0,0),E=function(){return\"undefined\"!=typeof SVGGraphicsElement?function(t){return t instanceof _(t).SVGGraphicsElement}:function(t){return t instanceof _(t).SVGElement&&\"function\"==typeof t.getBBox}}(),M=function(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=c(0,0,0,0),this.target=t};M.prototype.isActive=function(){var t=u(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},M.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t};var T=function(t,e){var n=l(e);x(this,{target:t,contentRect:n})},S=function(t,e,n){if(this.activeObservations_=[],this.observations_=new f,\"function\"!=typeof t)throw new TypeError(\"The callback provided as parameter 1 is not a function.\");this.callback_=t,this.controller_=e,this.callbackCtx_=n};S.prototype.observe=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof _(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)||(e.set(t,new M(t)),this.controller_.addObserver(this),this.controller_.refresh())}},S.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");if(\"undefined\"!=typeof Element&&Element instanceof Object){if(!(t instanceof _(t).Element))throw new TypeError('parameter 1 is not of type \"Element\".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},S.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},S.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},S.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(t){return new T(t.target,t.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},S.prototype.clearActive=function(){this.activeObservations_.splice(0)},S.prototype.hasActive=function(){return this.activeObservations_.length>0};var A=\"undefined\"!=typeof WeakMap?new WeakMap:new f,P=function(t){if(!(this instanceof P))throw new TypeError(\"Cannot call a class as a function.\");if(!arguments.length)throw new TypeError(\"1 argument required, but only 0 present.\");var e=b.getInstance(),n=new S(t,e,this);A.set(this,n)};[\"observe\",\"unobserve\",\"disconnect\"].forEach(function(t){P.prototype[t]=function(){return(e=A.get(this))[t].apply(e,arguments);var e}});var C=function(){return void 0!==d.ResizeObserver?d.ResizeObserver:P}();e.default=C}.call(e,n(45))},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){var t=function(){function e(t){return i.appendChild(t.dom),t}function n(t){for(var e=0;e<i.children.length;e++)i.children[e].style.display=e===t?\"block\":\"none\";r=t}var r=0,i=document.createElement(\"div\");i.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",i.addEventListener(\"click\",function(t){t.preventDefault(),n(++r%i.children.length)},!1);var o=(performance||Date).now(),a=o,s=0,u=e(new t.Panel(\"FPS\",\"#0ff\",\"#002\")),l=e(new t.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var c=e(new t.Panel(\"MB\",\"#f08\",\"#201\"));return n(0),{REVISION:16,dom:i,addPanel:e,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(l.update(t-o,200),t>a+1e3&&(u.update(1e3*s/(t-a),100),a=t,s=0,c)){var e=performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:i,setMode:n}};return t.Panel=function(t,e,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,u=48*a,l=3*a,c=2*a,f=3*a,h=15*a,d=74*a,p=30*a,m=document.createElement(\"canvas\");m.width=s,m.height=u,m.style.cssText=\"width:80px;height:48px\";var v=m.getContext(\"2d\");return v.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=n,v.fillRect(0,0,s,u),v.fillStyle=e,v.fillText(t,l,c),v.fillRect(f,h,d,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,h,d,p),{dom:m,update:function(u,g){r=Math.min(r,u),i=Math.max(i,u),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,h),v.fillStyle=e,v.fillText(o(u)+\" \"+t+\" (\"+o(r)+\"-\"+o(i)+\")\",l,c),v.drawImage(m,f+a,h,d-a,p,f,h,d-a,p),v.fillRect(f+d-a,h,a,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+d-a,h,a,o((1-u/g)*p))}}},t})},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s=o[1],u=o[2],l=o[3],c={css:s,media:u,sourceMap:l};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function o(t,e){var n=v(t.insertInto);if(!n)throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");var r=b[b.length-1];if(\"top\"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if(\"bottom\"!==t.insertAt)throw new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement(\"style\");return t.attrs.type=\"text/css\",l(e,t.attrs),o(t,e),e}function u(t){var e=document.createElement(\"link\");return t.attrs.type=\"text/css\",t.attrs.rel=\"stylesheet\",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function c(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=y++;n=g||(g=s(e)),r=f.bind(null,n,l,!1),i=f.bind(null,n,l,!0)}else t.sourceMap&&\"function\"==typeof URL&&\"function\"==typeof URL.createObjectURL&&\"function\"==typeof URL.revokeObjectURL&&\"function\"==typeof Blob&&\"function\"==typeof btoa?(n=u(e),r=d.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=h.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,n,r){var i=n?\"\":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute(\"media\",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=x(r)),i&&(r+=\"\\n/*# sourceMappingURL=data:application/json;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+\" */\");var a=new Blob([r],{type:\"text/css\"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),g=null,y=0,b=[],x=n(244);t.exports=function(t,e){if(\"undefined\"!=typeof DEBUG&&DEBUG&&\"object\"!=typeof document)throw new Error(\"The style-loader cannot be used in a non-browser environment\");e=e||{},e.attrs=\"object\"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto=\"head\"),e.insertAt||(e.insertAt=\"bottom\");var n=i(t,e);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,o.push(u)}if(t){r(i(t,e),e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete p[u.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join(\"\\n\")}}()},function(t,e){t.exports=function(t){var e=\"undefined\"!=typeof window&&window.location;if(!e)throw new Error(\"fixUrls requires window.location\");if(!t||\"string\"!=typeof t)return t;var n=e.protocol+\"//\"+e.host,r=n+e.pathname.replace(/\\/[^\\/]*$/,\"/\");return t.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi,function(t,e){var i=e.trim().replace(/^\"(.*)\"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(i))return t;var o;return o=0===i.indexOf(\"//\")?i:0===i.indexOf(\"/\")?n+i:r+i.replace(/^\\.\\//,\"\"),\"url(\"+JSON.stringify(o)+\")\"})}},function(t,e,n){var r=n(228),i=n(233);t.exports=function(t){function e(n,r){if(!(this instanceof e))return new e(n,r);t.BufferGeometry.call(this),Array.isArray(n)?r=r||{}:\"object\"==typeof n&&(r=n,n=[]),r=r||{},this.addAttribute(\"position\",new t.BufferAttribute(void 0,3)),this.addAttribute(\"lineNormal\",new t.BufferAttribute(void 0,2)),this.addAttribute(\"lineMiter\",new t.BufferAttribute(void 0,1)),r.distances&&this.addAttribute(\"lineDistance\",new t.BufferAttribute(void 0,1)),\"function\"==typeof this.setIndex?this.setIndex(new t.BufferAttribute(void 0,1)):this.addAttribute(\"index\",new t.BufferAttribute(void 0,1)),this.update(n,r.closed)}return r(e,t.BufferGeometry),e.prototype.update=function(t,e){t=t||[];var n=i(t,e);e&&(t=t.slice(),t.push(t[0]),n.push(n[0]));var r=this.getAttribute(\"position\"),o=this.getAttribute(\"lineNormal\"),a=this.getAttribute(\"lineMiter\"),s=this.getAttribute(\"lineDistance\"),u=\"function\"==typeof this.getIndex?this.getIndex():this.getAttribute(\"index\"),l=Math.max(0,6*(t.length-1));if(!r.array||t.length!==r.array.length/3/2){var c=2*t.length;r.array=new Float32Array(3*c),o.array=new Float32Array(2*c),a.array=new Float32Array(c),u.array=new Uint16Array(l),s&&(s.array=new Float32Array(c))}void 0!==r.count&&(r.count=c),r.needsUpdate=!0,void 0!==o.count&&(o.count=c),o.needsUpdate=!0,void 0!==a.count&&(a.count=c),a.needsUpdate=!0,void 0!==u.count&&(u.count=l),u.needsUpdate=!0,s&&(void 0!==s.count&&(s.count=c),s.needsUpdate=!0);var f=0,h=0,d=0,p=u.array;t.forEach(function(t,e,n){var i=f;if(p[h++]=i+0,p[h++]=i+1,p[h++]=i+2,p[h++]=i+2,p[h++]=i+1,p[h++]=i+3,r.setXYZ(f++,t[0],t[1],0),r.setXYZ(f++,t[0],t[1],0),s){var o=e/(n.length-1);s.setX(d++,o),s.setX(d++,o)}});var m=0,v=0;n.forEach(function(t){var e=t[0],n=t[1];o.setXY(m++,e[0],e[1]),o.setXY(m++,e[0],e[1]),a.setX(v++,-n),a.setX(v++,n)})},e}},function(t,e,n){var r=n(68);t.exports=function(t){return function(e){e=e||{};var n=\"number\"==typeof e.thickness?e.thickness:.1,i=\"number\"==typeof e.opacity?e.opacity:1,o=null!==e.diffuse?e.diffuse:16777215;delete e.thickness,delete e.opacity,delete e.diffuse,delete e.precision;var a=r({uniforms:{thickness:{type:\"f\",value:n},opacity:{type:\"f\",value:i},diffuse:{type:\"c\",value:new t.Color(o)}},vertexShader:[\"uniform float thickness;\",\"attribute float lineMiter;\",\"attribute vec2 lineNormal;\",\"void main() {\",\"vec3 pointPos = position.xyz + vec3(lineNormal * thickness / 2.0 * lineMiter, 0.0);\",\"gl_Position = projectionMatrix * modelViewMatrix * vec4(pointPos, 1.0);\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform vec3 diffuse;\",\"uniform float opacity;\",\"void main() {\",\"gl_FragColor = vec4(diffuse, opacity);\",\"}\"].join(\"\\n\")},e);return(0|(parseInt(t.REVISION,10)||0))<72&&(a.attributes={lineMiter:{type:\"f\",value:0},lineNormal:{type:\"v2\",value:new t.Vector2}}),a}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){t.exports=n.p+\"2cff479783c9bacb71df63a81871313d.mtl\"},function(t,e,n){t.exports=n.p+\"0ccca57f7e42eacf63e554cdd686cc6c.obj\"},function(t,e,n){t.exports=n.p+\"c67591a7704dd9ff8b57ef65b6bd0521.mtl\"},function(t,e,n){t.exports=n.p+\"086924bdd797c6de1ae692b0c77b9d63.obj\"},function(t,e,n){t.exports=n.p+\"assets/2SWzLX-7QbdGBE7M5ZWlKW.png\"},function(t,e,n){t.exports=n.p+\"assets/2Hmre0wF05Klrs139-ZY0r.png\"},function(t,e,n){t.exports=n.p+\"assets/3b1qXlLNlh1JdOPDUdqa-8.png\"},function(t,e,n){t.exports=n.p+\"assets/1Ai9E9Bz8-jQ7YzBpygSGc.png\"},function(t,e,n){t.exports=n.p+\"assets/35Rggijw-nT-nmUQkInMB_.png\"},function(t,e,n){t.exports=n.p+\"assets/1BJCXvLGr1PIZXGGh9rwLV.png\"},function(t,e,n){t.exports=n.p+\"assets/2gVqm2AoTjShKSs5lxRr_R.png\"},function(t,e,n){t.exports=n.p+\"assets/3GAX8s14tQy5tq079SD8YY.png\"},function(t,e,n){t.exports=n.p+\"assets/wn_PQEy_vimsxhQ7EZ8LE.png\"},function(t,e,n){t.exports=n.p+\"assets/1-rBsTsimVPq9Qvwp-XfeR.png\"},function(t,e,n){t.exports=n.p+\"assets/1LaMLjWThewqKxuNxPdfHU.png\"},function(t,e,n){t.exports=n.p+\"assets/2DpH0wi9pGpKWdsutC0hNP.png\"},function(t,e,n){t.exports=n.p+\"assets/2jUpx4UViU4iVn5lbLXJ_3.png\"},function(t,e,n){t.exports=n.p+\"assets/1P8euPQGX-PAHqDcd59x8N.png\"},function(t,e,n){t.exports=n.p+\"assets/13rNxhl0PSnIky1olblewP.png\"},function(t,e,n){t.exports=n.p+\"assets/Fs7YNEnhTMdtlphXUJJqJ.png\"},function(t,e,n){t.exports=n.p+\"assets/23he2B-6MypxUuDoASUNFz.png\"},function(t,e,n){t.exports=n.p+\"assets/3pLzP9789nO8_FTpjRriZI.png\"},function(t,e,n){t.exports=n.p+\"assets/-o13Bp7j4SeUkzdJQ05wX.png\"},function(t,e,n){t.exports=n.p+\"assets/13rNxhl0PSnIky1olblewP.png\"},function(t,e,n){t.exports=n.p+\"assets/Fs7YNEnhTMdtlphXUJJqJ.png\"},function(t,e,n){t.exports=n.p+\"assets/2NEFng8KXMmYxDfgmv-0Av.png\"},function(t,e,n){t.exports=n.p+\"assets/2gozABHGsNI6FMols1Hpke.png\"},function(t,e,n){t.exports=n.p+\"assets/1JucMLglOBf7xoRm1cTCGq.png\"},function(t,e,n){t.exports=n.p+\"assets/3qjL0uHQbDAkVU9EXBnRh9.png\"},function(t,e,n){t.exports=n.p+\"assets/2tv1thmtoQUCOoaq3VZRyq.png\"},function(t,e,n){t.exports=n.p+\"assets/18jQhX48LBPXoTPzYY-AT6.png\"},function(t,e,n){t.exports=n.p+\"assets/3_hY4AfToSJbzE3R81H-Kn.png\"},function(t,e,n){t.exports=n.p+\"assets/2DooGxR9gIBrX3LWNKD5bn.png\"},function(t,e,n){t.exports=n.p+\"assets/SGGg2xQ5wu9S-5KOxbnuq.png\"},function(t,e,n){t.exports=n.p+\"assets/3hfo8_18OIfW41h-Fothw1.png\"},function(t,e,n){t.exports=n.p+\"assets/2CzZUJ_88PonapiEL9yqRB.png\"},function(t,e,n){t.exports=n.p+\"assets/33tjEWBXRQvWemQw5UhBo.png\"},function(t,e,n){t.exports=n.p+\"assets/24ObNVAeLQ1n3S5D9jb8Wo.png\"},function(t,e,n){t.exports=n.p+\"assets/37oPzcN6gut1z2DtBTPmDY.png\"},function(t,e,n){var r=n(7);r.OrbitControls=function(t,e){function n(){return 2*Math.PI/60/60*N.autoRotateSpeed}function i(){return Math.pow(.95,N.zoomSpeed)}function o(t){H.theta-=t}function a(t){H.phi-=t}function s(t){N.object instanceof r.PerspectiveCamera?V/=t:N.object instanceof r.OrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom*t)),N.object.updateProjectionMatrix(),W=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),N.enableZoom=!1)}function u(t){N.object instanceof r.PerspectiveCamera?V*=t:N.object instanceof r.OrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom/t)),N.object.updateProjectionMatrix(),W=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),N.enableZoom=!1)}function l(t){Y.set(t.clientX,t.clientY)}function c(t){Q.set(t.clientX,t.clientY)}function f(t){Z.set(t.clientX,t.clientY)}function h(t){X.set(t.clientX,t.clientY),q.subVectors(X,Y);var e=N.domElement===document?N.domElement.body:N.domElement;o(2*Math.PI*q.x/e.clientWidth*N.rotateSpeed),a(2*Math.PI*q.y/e.clientHeight*N.rotateSpeed),Y.copy(X),N.update()}function d(t){J.set(t.clientX,t.clientY),tt.subVectors(J,Q),tt.y>0?s(i()):tt.y<0&&u(i()),Q.copy(J),N.update()}function p(t){K.set(t.clientX,t.clientY),$.subVectors(K,Z),rt($.x,$.y),Z.copy(K),N.update()}function m(t){}function v(t){t.deltaY<0?u(i()):t.deltaY>0&&s(i()),N.update()}function g(t){switch(t.keyCode){case N.keys.UP:rt(0,N.keyPanSpeed),N.update();break;case N.keys.BOTTOM:rt(0,-N.keyPanSpeed),N.update();break;case N.keys.LEFT:rt(N.keyPanSpeed,0),N.update();break;case N.keys.RIGHT:rt(-N.keyPanSpeed,0),N.update()}}function y(t){Y.set(t.touches[0].pageX,t.touches[0].pageY)}function b(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);Q.set(0,r)}function x(t){Z.set(t.touches[0].pageX,t.touches[0].pageY)}function _(t){X.set(t.touches[0].pageX,t.touches[0].pageY),q.subVectors(X,Y);var e=N.domElement===document?N.domElement.body:N.domElement;o(2*Math.PI*q.x/e.clientWidth*N.rotateSpeed),a(2*Math.PI*q.y/e.clientHeight*N.rotateSpeed),Y.copy(X),N.update()}function w(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);J.set(0,r),tt.subVectors(J,Q),tt.y>0?u(i()):tt.y<0&&s(i()),Q.copy(J),N.update()}function E(t){K.set(t.touches[0].pageX,t.touches[0].pageY),$.subVectors(K,Z),rt($.x,$.y),Z.copy(K),N.update()}function M(t){}function T(t){if(!1!==N.enabled){if(t.preventDefault(),t.button===N.mouseButtons.ORBIT){if(!1===N.enableRotate)return;l(t),F=z.ROTATE}else if(t.button===N.mouseButtons.ZOOM){if(!1===N.enableZoom)return;c(t),F=z.DOLLY}else if(t.button===N.mouseButtons.PAN){if(!1===N.enablePan)return;f(t),F=z.PAN}F!==z.NONE&&(document.addEventListener(\"mousemove\",S,!1),document.addEventListener(\"mouseup\",A,!1),N.dispatchEvent(D))}}function S(t){if(!1!==N.enabled)if(t.preventDefault(),F===z.ROTATE){if(!1===N.enableRotate)return;h(t)}else if(F===z.DOLLY){if(!1===N.enableZoom)return;d(t)}else if(F===z.PAN){if(!1===N.enablePan)return;p(t)}}function A(t){!1!==N.enabled&&(m(t),document.removeEventListener(\"mousemove\",S,!1),document.removeEventListener(\"mouseup\",A,!1),N.dispatchEvent(U),F=z.NONE)}function P(t){!1===N.enabled||!1===N.enableZoom||F!==z.NONE&&F!==z.ROTATE||(t.preventDefault(),t.stopPropagation(),v(t),N.dispatchEvent(D),N.dispatchEvent(U))}function C(t){!1!==N.enabled&&!1!==N.enableKeys&&!1!==N.enablePan&&g(t)}function R(t){if(!1!==N.enabled){switch(t.touches.length){case 1:if(!1===N.enableRotate)return;y(t),F=z.TOUCH_ROTATE;break;case 2:if(!1===N.enableZoom)return;b(t),F=z.TOUCH_DOLLY;break;case 3:if(!1===N.enablePan)return;x(t),F=z.TOUCH_PAN;break;default:F=z.NONE}F!==z.NONE&&N.dispatchEvent(D)}}function O(t){if(!1!==N.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===N.enableRotate)return;if(F!==z.TOUCH_ROTATE)return;_(t);break;case 2:if(!1===N.enableZoom)return;if(F!==z.TOUCH_DOLLY)return;w(t);break;case 3:if(!1===N.enablePan)return;if(F!==z.TOUCH_PAN)return;E(t);break;default:F=z.NONE}}function L(t){!1!==N.enabled&&(M(t),N.dispatchEvent(U),F=z.NONE)}function k(t){t.preventDefault()}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:r.MOUSE.LEFT,ZOOM:r.MOUSE.MIDDLE,PAN:r.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return j.phi},this.getAzimuthalAngle=function(){return j.theta},this.reset=function(){N.target.copy(N.target0),N.object.position.copy(N.position0),N.object.zoom=N.zoom0,N.object.updateProjectionMatrix(),N.dispatchEvent(I),N.update(),F=z.NONE},this.update=function(){var e=new r.Vector3,i=(new r.Quaternion).setFromUnitVectors(t.up,new r.Vector3(0,1,0)),a=i.clone().inverse(),s=new r.Vector3,u=new r.Quaternion;return function(){var t=N.object.position;return e.copy(t).sub(N.target),e.applyQuaternion(i),j.setFromVector3(e),N.autoRotate&&F===z.NONE&&o(n()),j.theta+=H.theta,j.phi+=H.phi,j.theta=Math.max(N.minAzimuthAngle,Math.min(N.maxAzimuthAngle,j.theta)),j.phi=Math.max(N.minPolarAngle,Math.min(N.maxPolarAngle,j.phi)),j.makeSafe(),j.radius*=V,j.radius=Math.max(N.minDistance,Math.min(N.maxDistance,j.radius)),N.target.add(G),e.setFromSpherical(j),e.applyQuaternion(a),t.copy(N.target).add(e),N.object.lookAt(N.target),!0===N.enableDamping?(H.theta*=1-N.dampingFactor,H.phi*=1-N.dampingFactor):H.set(0,0,0),V=1,G.set(0,0,0),!!(W||s.distanceToSquared(N.object.position)>B||8*(1-u.dot(N.object.quaternion))>B)&&(N.dispatchEvent(I),s.copy(N.object.position),u.copy(N.object.quaternion),W=!1,!0)}}(),this.dispose=function(){N.domElement.removeEventListener(\"contextmenu\",k,!1),N.domElement.removeEventListener(\"mousedown\",T,!1),N.domElement.removeEventListener(\"wheel\",P,!1),N.domElement.removeEventListener(\"touchstart\",R,!1),N.domElement.removeEventListener(\"touchend\",L,!1),N.domElement.removeEventListener(\"touchmove\",O,!1),document.removeEventListener(\"mousemove\",S,!1),document.removeEventListener(\"mouseup\",A,!1),window.removeEventListener(\"keydown\",C,!1)};var N=this,I={type:\"change\"},D={type:\"start\"},U={type:\"end\"},z={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},F=z.NONE,B=1e-6,j=new r.Spherical,H=new r.Spherical,V=1,G=new r.Vector3,W=!1,Y=new r.Vector2,X=new r.Vector2,q=new r.Vector2,Z=new r.Vector2,K=new r.Vector2,$=new r.Vector2,Q=new r.Vector2,J=new r.Vector2,tt=new r.Vector2,et=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),G.add(t)}}(),nt=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),G.add(t)}}(),rt=function(){var t=new r.Vector3;return function(e,n){var i=N.domElement===document?N.domElement.body:N.domElement;if(N.object instanceof r.PerspectiveCamera){var o=N.object.position;t.copy(o).sub(N.target);var a=t.length();a*=Math.tan(N.object.fov/2*Math.PI/180),et(2*e*a/i.clientHeight,N.object.matrix),nt(2*n*a/i.clientHeight,N.object.matrix)}else N.object instanceof r.OrthographicCamera?(et(e*(N.object.right-N.object.left)/N.object.zoom/i.clientWidth,N.object.matrix),nt(n*(N.object.top-N.object.bottom)/N.object.zoom/i.clientHeight,N.object.matrix)):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"),N.enablePan=!1)}}();N.domElement.addEventListener(\"contextmenu\",k,!1),N.domElement.addEventListener(\"mousedown\",T,!1),N.domElement.addEventListener(\"wheel\",P,!1),N.domElement.addEventListener(\"touchstart\",R,!1),N.domElement.addEventListener(\"touchend\",L,!1),N.domElement.addEventListener(\"touchmove\",O,!1),window.addEventListener(\"keydown\",C,!1),this.update()},r.OrbitControls.prototype=Object.create(r.EventDispatcher.prototype),r.OrbitControls.prototype.constructor=r.OrbitControls,Object.defineProperties(r.OrbitControls.prototype,{center:{get:function(){return console.warn(\"THREE.OrbitControls: .center has been renamed to .target\"),this.target}},noZoom:{get:function(){return console.warn(\"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"),!this.enableZoom},set:function(t){console.warn(\"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"),this.enableZoom=!t}},noRotate:{get:function(){return console.warn(\"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"),!this.enableRotate},set:function(t){console.warn(\"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"),this.enableRotate=!t}},noPan:{get:function(){return console.warn(\"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"),!this.enablePan},set:function(t){console.warn(\"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"),this.enablePan=!t}},noKeys:{get:function(){return console.warn(\"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"),!this.enableKeys},set:function(t){console.warn(\"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn(\"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"),!this.enableDamping},set:function(t){console.warn(\"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn(\"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"),this.dampingFactor},set:function(t){console.warn(\"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"),this.dampingFactor=t}}})},function(t,e,n){var r=n(7);r.MTLLoader=function(t){this.manager=void 0!==t?t:r.DefaultLoadingManager},r.MTLLoader.prototype={constructor:r.MTLLoader,load:function(t,e,n,i){var o=this,a=new r.FileLoader(this.manager);a.setPath(this.path),a.load(t,function(t){e(o.parse(t))},n,i)},setPath:function(t){this.path=t},setTexturePath:function(t){this.texturePath=t},setBaseUrl:function(t){console.warn(\"THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead.\"),this.setTexturePath(t)},setCrossOrigin:function(t){this.crossOrigin=t},setMaterialOptions:function(t){this.materialOptions=t},parse:function(t){for(var e=t.split(\"\\n\"),n={},i=/\\s+/,o={},a=0;a<e.length;a++){var s=e[a];if(s=s.trim(),0!==s.length&&\"#\"!==s.charAt(0)){var u=s.indexOf(\" \"),l=u>=0?s.substring(0,u):s;l=l.toLowerCase();var c=u>=0?s.substring(u+1):\"\";if(c=c.trim(),\"newmtl\"===l)n={name:c},o[c]=n;else if(n)if(\"ka\"===l||\"kd\"===l||\"ks\"===l){var f=c.split(i,3);n[l]=[parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2])]}else n[l]=c}}var h=new r.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(o),h}},r.MTLLoader.MaterialCreator=function(t,e){this.baseUrl=t||\"\",this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:r.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:r.RepeatWrapping},r.MTLLoader.MaterialCreator.prototype={constructor:r.MTLLoader.MaterialCreator,setCrossOrigin:function(t){this.crossOrigin=t},setManager:function(t){this.manager=t},setMaterials:function(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(t){if(!this.options)return t;var e={};for(var n in t){var r=t[n],i={};e[n]=i;for(var o in r){var a=!0,s=r[o],u=o.toLowerCase();switch(u){case\"kd\":case\"ka\":case\"ks\":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(a=!1)}a&&(i[u]=s)}}return e},preload:function(){for(var t in this.materialsInfo)this.create(t)},getIndex:function(t){return this.nameLookup[t]},getAsArray:function(){var t=0;for(var e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray},create:function(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]},createMaterial_:function(t){function e(t,e){return\"string\"!=typeof e||\"\"===e?\"\":/^https?:\\/\\//i.test(e)?e:t+e}function n(t,n){if(!a[t]){var r=i.getTextureParams(n,a),o=i.loadTexture(e(i.baseUrl,r.url));o.repeat.copy(r.scale),o.offset.copy(r.offset),o.wrapS=i.wrap,o.wrapT=i.wrap,a[t]=o}}var i=this,o=this.materialsInfo[t],a={name:t,side:this.side};for(var s in o){var u=o[s];if(\"\"!==u)switch(s.toLowerCase()){case\"kd\":a.color=(new r.Color).fromArray(u);break;case\"ks\":a.specular=(new r.Color).fromArray(u);break;case\"map_kd\":n(\"map\",u);break;case\"map_ks\":n(\"specularMap\",u);break;case\"map_bump\":case\"bump\":n(\"bumpMap\",u);break;case\"ns\":a.shininess=parseFloat(u);break;case\"d\":u<1&&(a.opacity=u,a.transparent=!0);break;case\"Tr\":u>0&&(a.opacity=1-u,a.transparent=!0)}}return this.materials[t]=new r.MeshPhongMaterial(a),this.materials[t]},getTextureParams:function(t,e){var n,i={scale:new r.Vector2(1,1),offset:new r.Vector2(0,0)},o=t.split(/\\s+/);return n=o.indexOf(\"-bm\"),n>=0&&(e.bumpScale=parseFloat(o[n+1]),o.splice(n,2)),n=o.indexOf(\"-s\"),n>=0&&(i.scale.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),n=o.indexOf(\"-o\"),n>=0&&(i.offset.set(parseFloat(o[n+1]),parseFloat(o[n+2])),o.splice(n,4)),i.url=o.join(\" \").trim(),i},loadTexture:function(t,e,n,i,o){var a,s=r.Loader.Handlers.get(t),u=void 0!==this.manager?this.manager:r.DefaultLoadingManager;return null===s&&(s=new r.TextureLoader(u)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),a=s.load(t,n,i,o),void 0!==e&&(a.mapping=e),a}}},function(t,e,n){var r=n(7);r.OBJLoader=function(t){this.manager=void 0!==t?t:r.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,normal_pattern:/^vn\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,uv_pattern:/^vt\\s+([\\d|\\.|\\+|\\-|e|E]+)\\s+([\\d|\\.|\\+|\\-|e|E]+)/,face_vertex:/^f\\s+(-?\\d+)\\s+(-?\\d+)\\s+(-?\\d+)(?:\\s+(-?\\d+))?/,face_vertex_uv:/^f\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+))?/,face_vertex_uv_normal:/^f\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+)(?:\\s+(-?\\d+)\\/(-?\\d+)\\/(-?\\d+))?/,face_vertex_normal:/^f\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)\\s+(-?\\d+)\\/\\/(-?\\d+)(?:\\s+(-?\\d+)\\/\\/(-?\\d+))?/,object_pattern:/^[og]\\s*(.+)?/,smoothing_pattern:/^s\\s+(\\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},r.OBJLoader.prototype={constructor:r.OBJLoader,load:function(t,e,n,i){var o=this,a=new r.FileLoader(o.manager);a.setPath(this.path),a.load(t,function(t){e(o.parse(t))},n,i)},setPath:function(t){this.path=t},setMaterials:function(t){this.materials=t},_createParserState:function(){var t={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);var n=this.object&&\"function\"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||\"\",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(t,e){var n=this._finalize(!1);n&&(n.inherited||n.groupCount<=0)&&this.materials.splice(n.index,1);var r={index:this.materials.length,name:t||\"\",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:\"\",smooth:void 0!==n?n.smooth:this.smooth,groupStart:void 0!==n?n.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){var e={index:\"number\"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){var e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(var n=this.materials.length-1;n>=0;n--)this.materials[n].groupCount<=0&&this.materials.splice(n,1);return t&&0===this.materials.length&&this.materials.push({name:\"\",smooth:this.smooth}),e}},n&&n.name&&\"function\"==typeof n.clone){var r=n.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&\"function\"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseNormalIndex:function(t,e){var n=parseInt(t,10);return 3*(n>=0?n-1:n+e/3)},parseUVIndex:function(t,e){var n=parseInt(t,10);return 2*(n>=0?n-1:n+e/2)},addVertex:function(t,e,n){var r=this.vertices,i=this.object.geometry.vertices;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addVertexLine:function(t){var e=this.vertices,n=this.object.geometry.vertices;n.push(e[t+0]),n.push(e[t+1]),n.push(e[t+2])},addNormal:function(t,e,n){var r=this.normals,i=this.object.geometry.normals;i.push(r[t+0]),i.push(r[t+1]),i.push(r[t+2]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[e+2]),i.push(r[n+0]),i.push(r[n+1]),i.push(r[n+2])},addUV:function(t,e,n){var r=this.uvs,i=this.object.geometry.uvs;i.push(r[t+0]),i.push(r[t+1]),i.push(r[e+0]),i.push(r[e+1]),i.push(r[n+0]),i.push(r[n+1])},addUVLine:function(t){var e=this.uvs,n=this.object.geometry.uvs;n.push(e[t+0]),n.push(e[t+1])},addFace:function(t,e,n,r,i,o,a,s,u,l,c,f){var h,d=this.vertices.length,p=this.parseVertexIndex(t,d),m=this.parseVertexIndex(e,d),v=this.parseVertexIndex(n,d);if(void 0===r?this.addVertex(p,m,v):(h=this.parseVertexIndex(r,d),this.addVertex(p,m,h),this.addVertex(m,v,h)),void 0!==i){var g=this.uvs.length;p=this.parseUVIndex(i,g),m=this.parseUVIndex(o,g),v=this.parseUVIndex(a,g),void 0===r?this.addUV(p,m,v):(h=this.parseUVIndex(s,g),this.addUV(p,m,h),this.addUV(m,v,h))}if(void 0!==u){var y=this.normals.length;p=this.parseNormalIndex(u,y),m=u===l?p:this.parseNormalIndex(l,y),v=u===c?p:this.parseNormalIndex(c,y),void 0===r?this.addNormal(p,m,v):(h=this.parseNormalIndex(f,y),this.addNormal(p,m,h),this.addNormal(m,v,h))}},addLineGeometry:function(t,e){this.object.geometry.type=\"Line\";for(var n=this.vertices.length,r=this.uvs.length,i=0,o=t.length;i<o;i++)this.addVertexLine(this.parseVertexIndex(t[i],n));for(var a=0,o=e.length;a<o;a++)this.addUVLine(this.parseUVIndex(e[a],r))}};return t.startObject(\"\",!1),t},parse:function(t){console.time(\"OBJLoader\");var e=this._createParserState();-1!==t.indexOf(\"\\r\\n\")&&(t=t.replace(/\\r\\n/g,\"\\n\")),-1!==t.indexOf(\"\\\\\\n\")&&(t=t.replace(/\\\\\\n/g,\"\"));for(var n=t.split(\"\\n\"),i=\"\",o=\"\",a=\"\",s=[],u=\"function\"==typeof\"\".trimLeft,l=0,c=n.length;l<c;l++)if(i=n[l],i=u?i.trimLeft():i.trim(),0!==i.length&&\"#\"!==(o=i.charAt(0)))if(\"v\"===o)if(\" \"===(a=i.charAt(1))&&null!==(s=this.regexp.vertex_pattern.exec(i)))e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else if(\"n\"===a&&null!==(s=this.regexp.normal_pattern.exec(i)))e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));else{if(\"t\"!==a||null===(s=this.regexp.uv_pattern.exec(i)))throw new Error(\"Unexpected vertex/normal/uv line: '\"+i+\"'\");e.uvs.push(parseFloat(s[1]),parseFloat(s[2]))}else if(\"f\"===o)if(null!==(s=this.regexp.face_vertex_uv_normal.exec(i)))e.addFace(s[1],s[4],s[7],s[10],s[2],s[5],s[8],s[11],s[3],s[6],s[9],s[12]);else if(null!==(s=this.regexp.face_vertex_uv.exec(i)))e.addFace(s[1],s[3],s[5],s[7],s[2],s[4],s[6],s[8]);else if(null!==(s=this.regexp.face_vertex_normal.exec(i)))e.addFace(s[1],s[3],s[5],s[7],void 0,void 0,void 0,void 0,s[2],s[4],s[6],s[8]);else{if(null===(s=this.regexp.face_vertex.exec(i)))throw new Error(\"Unexpected face line: '\"+i+\"'\");e.addFace(s[1],s[2],s[3],s[4])}else if(\"l\"===o){var f=i.substring(1).trim().split(\" \"),h=[],d=[];if(-1===i.indexOf(\"/\"))h=f;else for(var p=0,m=f.length;p<m;p++){var v=f[p].split(\"/\");\"\"!==v[0]&&h.push(v[0]),\"\"!==v[1]&&d.push(v[1])}e.addLineGeometry(h,d)}else if(null!==(s=this.regexp.object_pattern.exec(i))){var g=(\" \"+s[0].substr(1).trim()).substr(1);e.startObject(g)}else if(this.regexp.material_use_pattern.test(i))e.object.startMaterial(i.substring(7).trim(),e.materialLibraries);else if(this.regexp.material_library_pattern.test(i))e.materialLibraries.push(i.substring(7).trim());else{if(null===(s=this.regexp.smoothing_pattern.exec(i))){if(\"\\0\"===i)continue;throw new Error(\"Unexpected line: '\"+i+\"'\")}var y=s[1].trim().toLowerCase();e.object.smooth=\"1\"===y||\"on\"===y;var b=e.object.currentMaterial();b&&(b.smooth=e.object.smooth)}e.finalize();var x=new r.Group;x.materialLibraries=[].concat(e.materialLibraries);for(var l=0,c=e.objects.length;l<c;l++){var _=e.objects[l],w=_.geometry,E=_.materials,M=\"Line\"===w.type;if(0!==w.vertices.length){var T=new r.BufferGeometry;T.addAttribute(\"position\",new r.BufferAttribute(new Float32Array(w.vertices),3)),w.normals.length>0?T.addAttribute(\"normal\",new r.BufferAttribute(new Float32Array(w.normals),3)):T.computeVertexNormals(),w.uvs.length>0&&T.addAttribute(\"uv\",new r.BufferAttribute(new Float32Array(w.uvs),2));for(var S=[],A=0,P=E.length;A<P;A++){var C=E[A],b=void 0;if(null!==this.materials&&(b=this.materials.create(C.name),M&&b&&!(b instanceof r.LineBasicMaterial))){var R=new r.LineBasicMaterial;R.copy(b),b=R}b||(b=M?new r.LineBasicMaterial:new r.MeshPhongMaterial,b.name=C.name),b.shading=C.smooth?r.SmoothShading:r.FlatShading,S.push(b)}var O;if(S.length>1){for(var A=0,P=E.length;A<P;A++){var C=E[A];T.addGroup(C.groupStart,C.groupCount,A)}var L=new r.MultiMaterial(S);O=M?new r.LineSegments(T,L):new r.Mesh(T,L)}else O=M?new r.LineSegments(T,S[0]):new r.Mesh(T,S[0]);O.name=_.name,x.add(O)}}return console.timeEnd(\"OBJLoader\"),x}}},function(t,e,n){var r=n(7),r=n(7);r.OrbitControls=function(t,e){function n(){return 2*Math.PI/60/60*N.autoRotateSpeed}function i(){return Math.pow(.95,N.zoomSpeed)}function o(t){H.theta-=t}function a(t){H.phi-=t}function s(t){N.object instanceof r.PerspectiveCamera?V/=t:N.object instanceof r.OrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom*t)),N.object.updateProjectionMatrix(),W=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),N.enableZoom=!1)}function u(t){N.object instanceof r.PerspectiveCamera?V*=t:N.object instanceof r.OrthographicCamera?(N.object.zoom=Math.max(N.minZoom,Math.min(N.maxZoom,N.object.zoom/t)),N.object.updateProjectionMatrix(),W=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),N.enableZoom=!1)}function l(t){Y.set(t.clientX,t.clientY)}function c(t){Q.set(t.clientX,t.clientY)}function f(t){Z.set(t.clientX,t.clientY)}function h(t){X.set(t.clientX,t.clientY),q.subVectors(X,Y);var e=N.domElement===document?N.domElement.body:N.domElement;o(2*Math.PI*q.x/e.clientWidth*N.rotateSpeed),a(2*Math.PI*q.y/e.clientHeight*N.rotateSpeed),Y.copy(X),N.update()}function d(t){J.set(t.clientX,t.clientY),tt.subVectors(J,Q),tt.y>0?s(i()):tt.y<0&&u(i()),Q.copy(J),N.update()}function p(t){K.set(t.clientX,t.clientY),$.subVectors(K,Z),rt($.x,$.y),Z.copy(K),N.update()}function m(t){}function v(t){t.deltaY<0?u(i()):t.deltaY>0&&s(i()),N.update()}function g(t){switch(t.keyCode){case N.keys.UP:rt(0,N.keyPanSpeed),N.update();break;case N.keys.BOTTOM:rt(0,-N.keyPanSpeed),N.update();break;case N.keys.LEFT:rt(N.keyPanSpeed,0),N.update();break;case N.keys.RIGHT:rt(-N.keyPanSpeed,0),N.update()}}function y(t){Y.set(t.touches[0].pageX,t.touches[0].pageY)}function b(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);Q.set(0,r)}function x(t){Z.set(t.touches[0].pageX,t.touches[0].pageY)}function _(t){X.set(t.touches[0].pageX,t.touches[0].pageY),q.subVectors(X,Y);var e=N.domElement===document?N.domElement.body:N.domElement;o(2*Math.PI*q.x/e.clientWidth*N.rotateSpeed),a(2*Math.PI*q.y/e.clientHeight*N.rotateSpeed),Y.copy(X),N.update()}function w(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(e*e+n*n);J.set(0,r),tt.subVectors(J,Q),tt.y>0?u(i()):tt.y<0&&s(i()),Q.copy(J),N.update()}function E(t){K.set(t.touches[0].pageX,t.touches[0].pageY),$.subVectors(K,Z),rt($.x,$.y),Z.copy(K),N.update()}function M(t){}function T(t){if(!1!==N.enabled){if(t.preventDefault(),t.button===N.mouseButtons.ORBIT){if(!1===N.enableRotate)return;l(t),F=z.ROTATE}else if(t.button===N.mouseButtons.ZOOM){if(!1===N.enableZoom)return;c(t),F=z.DOLLY}else if(t.button===N.mouseButtons.PAN){if(!1===N.enablePan)return;f(t),F=z.PAN}F!==z.NONE&&(document.addEventListener(\"mousemove\",S,!1),document.addEventListener(\"mouseup\",A,!1),N.dispatchEvent(D))}}function S(t){if(!1!==N.enabled)if(t.preventDefault(),F===z.ROTATE){if(!1===N.enableRotate)return;h(t)}else if(F===z.DOLLY){if(!1===N.enableZoom)return;d(t)}else if(F===z.PAN){if(!1===N.enablePan)return;p(t)}}function A(t){!1!==N.enabled&&(m(t),document.removeEventListener(\"mousemove\",S,!1),document.removeEventListener(\"mouseup\",A,!1),N.dispatchEvent(U),F=z.NONE)}function P(t){!1===N.enabled||!1===N.enableZoom||F!==z.NONE&&F!==z.ROTATE||(t.preventDefault(),t.stopPropagation(),v(t),N.dispatchEvent(D),N.dispatchEvent(U))}function C(t){!1!==N.enabled&&!1!==N.enableKeys&&!1!==N.enablePan&&g(t)}function R(t){if(!1!==N.enabled){switch(t.touches.length){case 1:if(!1===N.enableRotate)return;y(t),F=z.TOUCH_ROTATE;break;case 2:if(!1===N.enableZoom)return;b(t),F=z.TOUCH_DOLLY;break;case 3:if(!1===N.enablePan)return;x(t),F=z.TOUCH_PAN;break;default:F=z.NONE}F!==z.NONE&&N.dispatchEvent(D)}}function O(t){if(!1!==N.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===N.enableRotate)return;if(F!==z.TOUCH_ROTATE)return;_(t);break;case 2:if(!1===N.enableZoom)return;if(F!==z.TOUCH_DOLLY)return;w(t);break;case 3:if(!1===N.enablePan)return;if(F!==z.TOUCH_PAN)return;E(t);break;default:F=z.NONE}}function L(t){!1!==N.enabled&&(M(t),N.dispatchEvent(U),F=z.NONE)}function k(t){t.preventDefault()}this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:r.MOUSE.LEFT,ZOOM:r.MOUSE.MIDDLE,PAN:r.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return j.phi},this.getAzimuthalAngle=function(){return j.theta},this.reset=function(){N.target.copy(N.target0),N.object.position.copy(N.position0),N.object.zoom=N.zoom0,N.object.updateProjectionMatrix(),N.dispatchEvent(I),N.update(),F=z.NONE},this.update=function(){var e=new r.Vector3,i=(new r.Quaternion).setFromUnitVectors(t.up,new r.Vector3(0,1,0)),a=i.clone().inverse(),s=new r.Vector3,u=new r.Quaternion;return function(){var t=N.object.position;return e.copy(t).sub(N.target),e.applyQuaternion(i),j.setFromVector3(e),N.autoRotate&&F===z.NONE&&o(n()),j.theta+=H.theta,j.phi+=H.phi,j.theta=Math.max(N.minAzimuthAngle,Math.min(N.maxAzimuthAngle,j.theta)),j.phi=Math.max(N.minPolarAngle,Math.min(N.maxPolarAngle,j.phi)),j.makeSafe(),j.radius*=V,j.radius=Math.max(N.minDistance,Math.min(N.maxDistance,j.radius)),N.target.add(G),e.setFromSpherical(j),e.applyQuaternion(a),t.copy(N.target).add(e),N.object.lookAt(N.target),!0===N.enableDamping?(H.theta*=1-N.dampingFactor,H.phi*=1-N.dampingFactor):H.set(0,0,0),V=1,G.set(0,0,0),!!(W||s.distanceToSquared(N.object.position)>B||8*(1-u.dot(N.object.quaternion))>B)&&(N.dispatchEvent(I),s.copy(N.object.position),u.copy(N.object.quaternion),W=!1,!0)}}(),this.dispose=function(){N.domElement.removeEventListener(\"contextmenu\",k,!1),N.domElement.removeEventListener(\"mousedown\",T,!1),N.domElement.removeEventListener(\"wheel\",P,!1),N.domElement.removeEventListener(\"touchstart\",R,!1),N.domElement.removeEventListener(\"touchend\",L,!1),N.domElement.removeEventListener(\"touchmove\",O,!1),document.removeEventListener(\"mousemove\",S,!1),document.removeEventListener(\"mouseup\",A,!1),window.removeEventListener(\"keydown\",C,!1)};var N=this,I={type:\"change\"},D={type:\"start\"},U={type:\"end\"},z={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},F=z.NONE,B=1e-6,j=new r.Spherical,H=new r.Spherical,V=1,G=new r.Vector3,W=!1,Y=new r.Vector2,X=new r.Vector2,q=new r.Vector2,Z=new r.Vector2,K=new r.Vector2,$=new r.Vector2,Q=new r.Vector2,J=new r.Vector2,tt=new r.Vector2,et=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),G.add(t)}}(),nt=function(){var t=new r.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),G.add(t)}}(),rt=function(){var t=new r.Vector3;return function(e,n){var i=N.domElement===document?N.domElement.body:N.domElement;if(N.object instanceof r.PerspectiveCamera){var o=N.object.position;t.copy(o).sub(N.target);var a=t.length();a*=Math.tan(N.object.fov/2*Math.PI/180),et(2*e*a/i.clientHeight,N.object.matrix),nt(2*n*a/i.clientHeight,N.object.matrix)}else N.object instanceof r.OrthographicCamera?(et(e*(N.object.right-N.object.left)/N.object.zoom/i.clientWidth,N.object.matrix),nt(n*(N.object.top-N.object.bottom)/N.object.zoom/i.clientHeight,N.object.matrix)):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"),N.enablePan=!1)}}();N.domElement.addEventListener(\"contextmenu\",k,!1),N.domElement.addEventListener(\"mousedown\",T,!1),N.domElement.addEventListener(\"wheel\",P,!1),N.domElement.addEventListener(\"touchstart\",R,!1),N.domElement.addEventListener(\"touchend\",L,!1),N.domElement.addEventListener(\"touchmove\",O,!1),window.addEventListener(\"keydown\",C,!1),this.update()},r.OrbitControls.prototype=Object.create(r.EventDispatcher.prototype),r.OrbitControls.prototype.constructor=r.OrbitControls,Object.defineProperties(r.OrbitControls.prototype,{center:{get:function(){return console.warn(\"THREE.OrbitControls: .center has been renamed to .target\"),this.target}},noZoom:{get:function(){return console.warn(\"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"),!this.enableZoom},set:function(t){console.warn(\"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"),this.enableZoom=!t}},noRotate:{get:function(){return console.warn(\"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"),!this.enableRotate},set:function(t){console.warn(\"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"),this.enableRotate=!t}},noPan:{get:function(){return console.warn(\"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"),!this.enablePan},set:function(t){console.warn(\"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"),this.enablePan=!t}},noKeys:{get:function(){return console.warn(\"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"),!this.enableKeys},set:function(t){console.warn(\"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn(\"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"),!this.enableDamping},set:function(t){console.warn(\"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn(\"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"),this.dampingFactor},set:function(t){console.warn(\"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"),this.dampingFactor=t}}})}]);\n\n\n// WEBPACK FOOTER //\n// offline.bundle.js"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}